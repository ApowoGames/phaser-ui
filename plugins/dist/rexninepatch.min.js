!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexninepatch=e():t.rexninepatch=e()}(window,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=315)}({262:function(t,e,r){"use strict";var i=r(88);e.a=function(t,e,r,n,o,s,c,a){var u=new i.a(this.scene,t,e,r,n,o,s,c,a);return this.scene.add.existing(u),u}},263:function(t,e,r){"use strict";var i=r(88),n=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){void 0!==e&&(t.add=e);var r=new i.a(this.scene,t);return n(this.scene,r,t),r}},315:function(t,e,r){"use strict";r.r(e);var i=r(262),n=r(263),o=r(88);Phaser.GameObjects.GameObjectFactory.register("rexNinePatch",i.a),Phaser.GameObjects.GameObjectCreator.register("rexNinePatch",n.a),e.default=o.a},88:function(t,e,r){"use strict";var i=function(t,e,r){this.textureKey=t,this.columns.data=e,this.columns.count=e?e.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.rows.data=r,this.rows.count=r?r.length:0,this.rows.stretch=0,this.rows.minHeight=0;var i,n,o,s,c=this.scene.textures.get(t);if(!c)return this.redraw=!0,this;if(!e||!r)return this.redraw=!0,this;for(var a=0,u=0,h=0,l=r.length;h<l;h++){"number"==typeof r[h]&&(r[h]={height:r[h],stretch:h%2}),o=(i=r[h]).height,this.rows.stretch+=0|i.stretch,this.rows.minHeight+=i.stretch>0?0:o,a=0;for(var f=0,d=e.length;f<d;f++)"number"==typeof e[f]&&(e[f]={width:e[f],stretch:f%2}),s=(n=e[f]).width,0===h&&(this.columns.stretch+=0|n.stretch,this.columns.minWidth+=n.stretch>0?0:s),s>=1&&o>=1&&this.getFrameNameCallback(f,h)&&c.add(this.getFrameNameCallback(f,h),0,a,u,s,o),a+=s;u+=o}return this.redraw=!0,this},n=function(){if(!this.redraw)return this;this.redraw=!1,this.clear();for(var t,e,r,i,n,o=this.width-this.columns.minWidth,s=this.height-this.rows.minHeight,c=this.columns.stretch>0?o/this.columns.stretch:0,a=this.rows.stretch>0?s/this.rows.stretch:0,u=0,h=0,l=0,f=this.rows.count;l<f;l++){n=0===(r=this.rows.data[l]).stretch?r.height:a*r.stretch,u=0;for(var d=0,p=this.columns.count;d<p;d++){var m;i=0===(e=this.columns.data[d]).stretch?e.width:c*e.stretch,(t=this.getFrameNameCallback(d,l))&&(0===r.stretch&&0===e.stretch?this.drawFrame(this.textureKey,t,u,h):(0===this.getStretchMode(d,l)?(void 0===this._image&&(this._image=this.scene.make.image({add:!1,origin:{x:0,y:0}})),(m=this._image).setTexture(this.textureKey,t).setDisplaySize(i,n)):(void 0===this._tileSprite&&(this._tileSprite=this.scene.make.tileSprite({add:!1,origin:{x:0,y:0}})),(m=this._tileSprite).setTexture(this.textureKey,t).setSize(i,n)),this.draw(m,u,h))),u+=i}h+=n}},o=Phaser.Utils.Objects.IsPlainObject,s=Phaser.Utils.Objects.GetValue,c=function(t){return"string"==typeof t&&(t=a[t]),t},a={scale:0,repeat:1},u=function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1},h={setTexture:i,updateTexture:n,setStretchMode:function(t){return o(t)?(this.stretchMode.edge=c(s(t,"edge",0)),this.stretchMode.internal=c(s(t,"internal",0))):(t=c(t),this.stretchMode.edge=t,this.stretchMode.internal=t),this},getStretchMode:function(t,e){return u.call(this,t,e)?this.stretchMode.edge:this.stretchMode.internal}},l=function(t,e){return"".concat(t,",").concat(e)};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t,e,r){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=Phaser.GameObjects.RenderTexture,v=Phaser.Utils.Objects.IsPlainObject,w=Phaser.Utils.Objects.GetValue,O=function(t){function e(t,r,i,n,o,s,c,a,u){var h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(r)?(r=w(u=r,"x",0),i=w(u,"y",0),n=w(u,"width",1),o=w(u,"height",1),s=w(u,"key",void 0),c=w(u,"columns",void 0),a=w(u,"rows",void 0)):v(n)?(n=w(u=n,"width",1),o=w(u,"height",1),s=w(u,"key",void 0),c=w(u,"columns",void 0),a=w(u,"rows",void 0)):v(s)&&(s=w(u=s,"key",void 0),c=w(u,"columns",void 0),a=w(u,"rows",void 0)),(h=p(this,y(e).call(this,t,r,i,n,o))).columns={},h.rows={},h.stretchMode={},h.redraw=!1,h._image=void 0,h._tileSprite=void 0,h.setOrigin(.5,.5),h.setGetFrameNameCallback(w(u,"getFrameNameCallback",void 0)),h.setTexture(s,c,a),h.setStretchMode(w(u,"stretchMode",0)),h}var r,i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,g),r=e,(i=[{key:"preDestroy",value:function(){this._image&&(this._image.destroy(),this._image=void 0),this._tileSprite&&(this._tileSprite.destroy(),this._tileSprite=void 0),m(y(e.prototype),"preDestroy",this).call(this)}},{key:"setGetFrameNameCallback",value:function(t){return void 0===t&&(t=l),this.getFrameNameCallback=t,this}},{key:"resize",value:function(t,r){return this.redraw=!0,m(y(e.prototype),"resize",this).call(this,t,r),this.updateDisplayOrigin(),this}},{key:"renderWebGL",value:function(t,r,i,n,o){this.updateTexture(),m(y(e.prototype),"renderWebGL",this).call(this,t,r,i,n,o)}},{key:"renderCanvas",value:function(t,r,i,n,o){this.updateTexture(),m(y(e.prototype),"renderCanvas",this).call(this,t,r,i,n,o)}},{key:"minWidth",get:function(){return this.columns.minWidth}},{key:"minHeight",get:function(){return this.rows.minHeight}}])&&d(r.prototype,i),n&&d(r,n),e}();Object.assign(O.prototype,h);e.a=O}}).default});