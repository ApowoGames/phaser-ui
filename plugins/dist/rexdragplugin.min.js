!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexdragplugin=e():t.rexdragplugin=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=320)}({220:function(t,e,n){"use strict";var r=n(3),i=function(t,e){for(var n=t.scene,r=n.input.cameras.getCamerasBelowPointer(e),i=n.input.manager,o=[t],a=0,s=r.length;a<s;a++)if(i.hitTest(e,o,r[a]).length>0)return!0;return!1},o=function(t,e,n,r){var o=!1;if(e)return!(n&&!n(t,e))&&!((o=i(t,e))&&r&&!r(t,e))&&o;for(var a=t.scene.input.manager,s=a.pointersTotal,u=a.pointers,c=0;c<s;c++)if(o=!1,e=u[c],(!n||n(t,e))&&(!(o=i(t,e))||!r||r(t,e))&&o)return!0;return!1};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=Phaser.Utils.Objects.GetValue,u=Phaser.Math.Distance.Between,c=Phaser.Math.RotateAroundDistance,f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.gameObject.setInteractive(s(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.setEnable(s(t,"enable",!0)),this.setAxisMode(s(t,"axis",0)),this.setAxisRotation(s(t,"rotation",0)),this}},{key:"toJSON",value:function(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}},{key:"boot",value:function(){var t=this.gameObject;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this),t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.pointer=void 0),this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}},{key:"setAxisMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.axisMode=t,this}},{key:"setAxisRotation",value:function(t){return this.axisRotation=t,this}},{key:"drag",value:function(){for(var t,e=this.scene.input,n=e.manager,r=n.pointersTotal,i=n.pointers,a=0;a<r;a++)if((t=i[a]).primaryDown&&0===e.getDragState(t)&&o(this.gameObject,t)){e.setDragState(t,1),e._drag[t.id]=[this.gameObject],0===e.dragDistanceThreshold||0===e.dragTimeThreshold?(e.setDragState(t,3),e.processDragStartList(t)):e.setDragState(t,2);break}}},{key:"dragend",value:function(){if(this.isDragging)return this.pointer.dragState=5,this}},{key:"onDragStart",value:function(t,e,n){this.isDragging||(this.pointer=t)}},{key:"onDrag",value:function(t,e,n){if(this.pointer===t){var r=this.gameObject;if(0===this.axisMode)r.x=e,r.y=n;else if(0===this.axisRotation)1===this.axisMode?r.x=e:2===this.axisMode&&(r.y=n);else{var i;l.x=e,l.y=n,i=u(l.x,l.y,r.x,r.y),l=c(l,r.x,r.y,-this.axisRotation,i),1===this.axisMode?l.y=r.y:2===this.axisMode&&(l.x=r.x),i=u(l.x,l.y,r.x,r.y),l=c(l,r.x,r.y,this.axisRotation,i),r.x=l.x,r.y=l.y}}}},{key:"onDragEnd",value:function(t,e,n,r){this.pointer===t&&(this.pointer=void 0)}},{key:"isDragging",get:function(){return void 0!==this.pointer}}])&&a(e.prototype,n),i&&a(e,i),t}(),l={},h={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},y=f;e.a=y},3:function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)?t:t.scene&&Object(r.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(r.a)(t.parent.scene)?t.parent.scene:void 0}},320:function(t,e,n){"use strict";n.r(e);var r=n(220);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).call(this,t))}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,Phaser.Plugins.BasePlugin),n=e,(i=[{key:"start",value:function(){this.game.events.once("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new r.a(t,e)}}])&&o(n.prototype,i),c&&o(n,c),e}();e.default=c},5:function(t,e,n){"use strict";var r=Phaser.Scene;e.a=function(t){return t instanceof r}}}).default});