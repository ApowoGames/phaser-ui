!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexplugins=e():t.rexplugins=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=400)}([function(t,e){t.exports=function(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var i=e.split("."),r=t,o=n,s=0;s<i.length;s++){if(!r.hasOwnProperty(i[s])){o=n;break}o=r[i[s]],r=r[i[s]]}return o}return n}return n}},function(t,e,n){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},,function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)?t:t.scene&&Object(i.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(i.a)(t.parent.scene)?t.parent.scene:void 0}},function(t,e,n){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},function(t,e,n){"use strict";var i=Phaser.Scene;e.a=function(t){return t instanceof i}},function(t,e,n){"use strict";e.a={ODD_R:0,EVEN_R:1,ODD_Q:2,EVEN_Q:3}},function(t,e,n){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return c});var i=n(6),r=i.a.ODD_R,o=i.a.EVEN_R,s=i.a.ODD_Q,a=i.a.EVEN_Q,u=function(t,e,n,i){switch(void 0===i?i={}:!0===i&&(i=f),t){case r:i.x=e-(n-(1&n))/2,i.z=n;break;case o:i.x=e-(n+(1&n))/2,i.z=n;break;case s:i.x=e,i.z=n-(e-(1&e))/2;break;case a:i.x=e,i.z=n-(e+(1&e))/2}return i.y=-i.x-i.z,i},h=function(t,e,n,i){"number"!=typeof t&&(t=(i=t).x,e=i.y,n=i.z),void 0===i?i={}:!0===i&&(i=f);var r=Math.round(t),o=Math.round(e),s=Math.round(n),a=Math.abs(r-t),u=Math.abs(o-e),h=Math.abs(s-n);return a>u&&a>h?r=-o-s:u>h?o=-r-s:s=-r-o,i.x=r,i.y=o,i.z=s,i},l=function(t,e,n,i,u){switch(void 0===u?u={}:!0===u&&(u=d),t){case r:u.x=e+(i-(1&i))/2,u.y=i;break;case o:u.x=e+(i+(1&i))/2,u.y=i;break;case s:u.x=e,u.y=i+(e-(1&e))/2;break;case a:u.x=e,u.y=i+(e+(1&e))/2}return u},c=function(t,e,n){return void 0===n?n={}:!0===n&&(n=f),n.x=t,n.y=-t-e,n.z=e,n},f={},d={}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";var i=n(4);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Phaser.Utils.Objects.GetValue,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(o(n,"eventEmitter",void 0)),this.setTickingMode(o(n,"tickingMode",1))}var e,n,i;return e=t,(n=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&r(e.prototype,n),i&&r(e,i),t}();Object.assign(s.prototype,i.a);var a={no:0,lazy:1,always:2};e.a=s},function(t,e,n){"use strict";var i=n(7);e.a=function(t,e){var n=Array.isArray(t);for(var r in void 0===e?e=n?[]:{}:Object(i.a)(e),n&&(e.length=t.length),t)e[r]=t[r];return e}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,n,r;return e=t,(n=[{key:"destroy",value:function(){this.items.length=0,this.items=void 0}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=r},function(t,e,n){"use strict";var i=n(23).nextTick,r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var o=n(19);o.inherits=n(16);var s=n(45),a=n(40);o.inherits(c,s);for(var u=r(a.prototype),h=0;h<u.length;h++){var l=u[h];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i(d,this)}function d(t){t.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),i(e,t)}},function(t,e,n){"use strict";var i=n(4),r=n(0),o=n.n(r);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=o()(e,"states",void 0);n&&this.addStates(n);var i=o()(e,"extend",void 0);if(i)for(var r in i)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=i[r]);var s=o()(e,"eventEmitter",void 0),a=o()(e,"EventEmitterClass",void 0);this.setEventEmitter(s,a),this._stateLock=!1,this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(o()(t,"enable",!0)),this.start(o()(t,"start",void 0));var e=o()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var n=o()(e,"next",void 0);n&&(this["next_"+t]=n);var i=o()(e,"exit",void 0);i&&(this["exit_"+t]=i);var r=o()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,n){void 0===n&&(n="update");var i=this[n+"_"+this.state];i&&i.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,n=this[e];n&&n.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var i="enter_"+this._state,r=this[i];r&&r.call(this),this.emit(i,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&s(e.prototype,n),i&&s(e,i),t}();Object.assign(a.prototype,i.a);var u=a;e.a=u},function(t,e){var n=Math.PI/180;t.exports=function(t){return t*n}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"===n(t)},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"===n(t)&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===n(t)||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(47).Buffer)},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){if("object"!==n(t)||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}},function(t,e,n){"use strict";var i=n(38),r={x:0,y:0},o=function(t,e){var n=this.board;return null===n?null:(r.x=t,r.y=e,n.getNeighborTileDirection(this.tileXYZ,r))},s=n(21),a=n.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=i.a.uidKey,c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,i.a.add(this,n),this.board=null,this.blocker=!1,this.boot()}var e,n,r;return e=t,(n=[{key:"boot",value:function(){var t=u(this.parent);"number"!==t&&"string"!==t&&this.parent.on&&this.parent.once("destroy",this.destroy,this)}},{key:"destroy",value:function(){this.board&&this.board.removeChess(this[l]),i.a.remove(this[l]),this.parent=void 0,this.board=null}},{key:"setBoard",value:function(t){return this.board=t,this}},{key:"setTileZ",value:function(t){if(null==this.board)return this;var e=this.tileXYZ;this.board.addChess(this.$uid,e.x,e.y,t,!1)}},{key:"setBlocker",value:function(t){return void 0===t&&(t=!0),this.blocker=t,this}},{key:"setBlockEdge",value:function(t,e){!1===this.blocker&&(this.blocker={});var n=this.blocker;if(a()(t)){var i=t;for(t in i)n[t]=i[t]}else void 0===e&&(e=!0),n[t]=e;return this}},{key:"getBlockEdge",value:function(t){var e=this.blocker;return!1!==e&&(!!e.hasOwnProperty(t)&&e[t])}},{key:"tileXYZ",get:function(){return null==this.board?null:this.board.chessToTileXYZ(this[l])}}])&&h(e.prototype,n),r&&h(e,r),t}(),f={getTileDirection:o};Object.assign(c.prototype,f);var d=c,p=n(27);e.a=function(t){return Object(p.a)(t)?i.a.get(t):(t.hasOwnProperty("rexChess")||(t.rexChess=new d(t)),t.rexChess)}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(20))},function(t,e,n){var i=n(47),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";var i={add:function(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple:function(t){return t.forEach(this._add,this),this},_add:function(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},r=Phaser.Math.RotateAround,o={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,r(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,r(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},s=function(t,e){return t===e?1:t/e},a={updateChildPosition:function(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState:function(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=s(t.scaleX,this.scaleX),e.scaleY=s(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition:function(t,e,n){return t.x=e,t.y=n,this.resetChildPositionState(t),this},setChildLocalPosition:function(t,e,n){var i=this.getLocalState(t);return i.x=e,i.y=n,this.updateChildPosition(t),this}},u={updateChildVisible:function(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible:function(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},h={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=s(t.alpha,this.alpha),this},setChildAlpha:function(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}},l={updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},c={updateChildMask:function(t){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this)},syncMask:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}};function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=Phaser.Utils.Array,p={getChildren:function(){return this.children.getChildren()},getAllChildren:function(t){void 0===t&&(t=[]);for(var e,n=this.children.getChildren(),i=0,r=n.length;i<r;i++){var o;if(e=n[i],t.push(e),e.hasOwnProperty("isRexContainerLite"))(o=t).push.apply(o,f(e.getAllChildren()))}return t},contains:function(t){if(this.children.contains(t))return!0;for(var e,n=this.children.getChildren(),i=0,r=n.length;i<r;i++)if((e=n[i]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName:function(t){return d.GetFirst(this.list,"name",t)},getRandom:function(t,e){return d.GetRandom(this.list,t,e)},getFirst:function(t,e,n,i){return d.GetFirstElement(this.list,t,e,n,i)},getAll:function(t,e,n,i){return d.GetAll(this.list,t,e,n,i)},count:function(t,e,n,i){return d.CountAllMatching(this.list,t,e,n,i)},swap:function(t,e){return d.Swap(this.list,t,e),this},moveTo:function(t,e){return d.MoveTo(this.list,t,e),this},setAll:function(t,e,n,i){return d.SetAll(this.list,t,e,n,i),this}};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t,e,n,i){return(b="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,o=k(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(i,e,n);return!0})(t,e,n,i)}function m(t,e,n,i,r){if(!b(t,e,n,i||t)&&r)throw new Error("failed to set property");return n}function w(t,e,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=k(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function k(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=Phaser.GameObjects.Zone,T=Phaser.GameObjects.Components,_=function(t){function e(t,n,i,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(r)&&(s=r,r=void 0),void 0===r&&(r=1),void 0===o&&(o=1),(a=g(this,x(e).call(this,t,n,i,r,o))).children=t.add.group(),a.type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._flipX=!1,a._flipY=!1,a._alpha=1,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,s&&a.add(s),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,S),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.children.destroy(!t),this.children=void 0,w(x(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return w(x(e.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(m(x(e.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return w(x(e.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(m(x(e.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return w(x(e.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(m(x(e.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}},{key:"flipY",get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}},{key:"visible",get:function(){return w(x(e.prototype),"visible",this)},set:function(t){this.visible!==t&&(m(x(e.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children.getChildren()}}])&&v(n.prototype,i),r&&v(n,r),e}();Object.assign(_.prototype,i,{remove:function(t,e){return this.children.remove(t,!1,e),this},clear:function(t){return this.children.clear(!1,t),this}},{getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,n=t.length;e<n;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},o,a,u,h,{updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},l,c,{setDepth:function(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),n=0,i=e.length;n<i;n++)e[n].depth=t;return this},swapDepth:function(t){var e=this.depth,n=t.depth;return this.setDepth(n),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),n=0,i=e.length;n<i;n++)e[n].depth+=t;return this}},p,T.Alpha,T.Flip);e.a=_},function(t,e,n){"use strict";var i=Phaser.Renderer.WebGL.Utils,r=function(t,e,n,r,o){if(e.dirty&&(e.updateTexture(),e.dirty=!1),0!==e.width&&0!==e.height){var s=e.frame,a=s.width,u=s.height,h=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,u,e.x,e.y,a/e.resolution,u/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,u,h(e._tintTL,r.alpha*e._alphaTL),h(e._tintTR,r.alpha*e._alphaTR),h(e._tintBL,r.alpha*e._alphaBL),h(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}},o=function(t,e,n,i,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,i,r)},s=n(9),a=(s.a,s.a,{renderWebGL:r,renderCanvas:o}),u=Phaser.Display.Color,h={clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill:function(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},getPixel:function(t,e,n){void 0===n&&(n=new u);var i=this.context.getImageData(t,e,1,1);return n.setTo(i.data[0],i.data[1],i.data[2],i.data[3]),n},setPixel:function(t,e,n,i,r,o){if("number"!=typeof n){var s=n;n=s.red,i=s.green,r=s.blue,o=s.alpha}void 0===o&&(o=0!==n||0!==i||0!==r?255:0);var a=this.context.createImageData(1,1);return a.data[0]=n,a.data[1]=i,a.data[2]=r,a.data[3]=o,this.context.putImageData(a,t,e),this.dirty=!0,this}},l={updateTexture:function(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture:function(t,e,n,i,r){var o,s=this.canvas,a=this.scene.sys,u=a.game.renderer;void 0===e&&(e=0),void 0===n&&(n=0),void 0===i?i=s.width:i*=this.resolution,void 0===r?r=s.height:r*=this.resolution;var h=(o=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,i,r)).getSourceImage();h.width!==i&&(h.width=i),h.height!==r&&(h.height=r);var l=h.getContext("2d");return l.clearRect(0,0,i,r),l.drawImage(s,e,n,i,r),u.gl&&o&&u.canvasToTexture(h,o.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var n=this.scene.textures.getFrame(t,e);return n?(this.width!==n.cutWidth||this.height!==n.cutHeight?this.resize(n.cutWidth,n.cutHeight):this.context.clearRect(0,0,n.cutWidth,n.cutHeight),this.context.drawImage(n.source.image,n.cutX,n.cutY,n.cutWidth,n.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=Phaser.Display.Canvas.CanvasPool,g=Phaser.GameObjects.GameObject,b=function(t){function e(t,n,i,r,o){var s,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),a=this,(s=!(u=d(e).call(this,t,"rexCanvas"))||"object"!==c(u)&&"function"!=typeof u?p(a):u).renderer=t.sys.game.renderer,s.resolution=t.sys.game.config.resolution,s.canvas=v.create(p(s),s.resolution*r,s.resolution*o),s.context=s.canvas.getContext("2d"),s.dirty=!1,s.setPosition(n,i),s.setSize(r,o),s.setOrigin(.5,.5),s.initPipeline(),s._crop=s.resetCropObject(),s.texture=t.sys.textures.addCanvas(null,s.canvas,!0),s.frame=s.texture.get(),s.frame.source.resolution=s.resolution,s.renderer&&s.renderer.gl&&(s.renderer.deleteTexture(s.frame.source.glTexture),s.frame.source.glTexture=null),s.dirty=!0,t.sys.game.events.on("contextrestored",function(){this.dirty=!0},p(s)),s}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,g),n=e,(i=[{key:"getCanvas",value:function(t){return t||(this.dirty=!0),this.canvas}},{key:"needRedraw",value:function(){return this.dirty=!0,this}},{key:"preDestroy",value:function(){v.remove(this.canvas)}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e?this:(this.setSize(t,e).updateDisplayOrigin(),t*=this.resolution,e*=this.resolution,t=Math.max(Math.ceil(t),1),e=Math.max(Math.ceil(e),1),this.canvas.width=t,this.canvas.height=e,this.dirty=!0,this)}}])&&f(n.prototype,i),r&&f(n,r),e}(),m=Phaser.GameObjects.Components;Phaser.Class.mixin(b,[m.Alpha,m.BlendMode,m.ComputedSize,m.Crop,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.ScrollFactor,m.Tint,m.Transform,m.Visible,a,h,l]);e.a=b},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){var e=i(t);return"number"===e||"string"===e}},function(t,e,n){"use strict";var i=n(9),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:i.a,events:{once:i.a}}},0,0,1,1);r.setOrigin(0),e.a=r},,function(t,e,n){"use strict";var i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t?t:(""===t?t=null:i.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)}},function(t,e,n){"use strict";e.a=function(t,e){return t&&e&&t.x===e.x&&t.y===e.y}},function(t,e,n){"use strict";e.a=function(t){for(var e=[],n=0;n<t;n++)e.push({x:0,y:0});return e}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,o="object"===("undefined"==typeof Reflect?"undefined":i(Reflect))?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}t.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var h=10;function l(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var o,s,a,u;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(n));if(void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),void 0===a)a=s[e]=n,++t._eventsCount;else if("function"==typeof a?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(t))>0&&a.length>o&&!a.warned){a.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=a.length,u=h,console&&console.warn&&console.warn(u)}return t}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,t))}.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):y(r,r.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return l(this)},u.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=r[t];if(void 0===u)return!1;if("function"==typeof u)s(u,this,e);else{var h=u.length,l=y(u,h);for(n=0;n<h;++n)s(l[n],this,e)}return!0},u.prototype.addListener=function(t,e){return c(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return c(this,t,e,!0)},u.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(e));return this.on(t,f(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(e));return this.prependListener(t,f(this,t,e)),this},u.prototype.removeListener=function(t,e){var n,r,o,s,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(e));if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},u.prototype.listeners=function(t){return d(this,t,!0)},u.prototype.rawListeners=function(t){return d(this,t,!1)},u.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},u.prototype.listenerCount=p,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var i=Phaser.Display.Canvas.CanvasPool,r={},o=function(t){var e=i.create(this),n=e.getContext("2d");t.syncFont(e,n);var o=Math.ceil(n.measureText(t.testString).width*t.baselineX),s=o,a=2*s;s=s*t.baselineY|0,e.width=o,e.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(t.testString,0,s);var u=r;if(!n.getImageData(0,0,o,a))return u.ascent=s,u.descent=s+6,u.fontSize=u.ascent+u.descent,i.remove(e),u;var h,l,c=n.getImageData(0,0,o,a).data,f=c.length,d=4*o,p=0,y=!1;for(h=0;h<s;h++){for(l=0;l<d;l+=4)if(255!==c[p+l]){y=!0;break}if(y)break;p+=d}for(u.ascent=s-h,p=f-d,y=!1,h=a;h>s;h--){for(l=0;l<d;l+=4)if(255!==c[p+l]){y=!0;break}if(y)break;p-=d}return u.descent=h-s,u.fontSize=u.ascent+u.descent,i.remove(e),u},s=n(1);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=Phaser.Utils.Objects.GetAdvancedValue,h=Phaser.Utils.Objects.GetValue,l={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]},c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(n,!1);var i=h(n,"metrics",!1);this.metrics=i?{ascent:h(i,"ascent",0),descent:h(i,"descent",0),fontSize:h(i,"fontSize",0)}:o(this)}var e,n,i;return e=t,(n=[{key:"setStyle",value:function(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=f[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=d[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var n=t.wrap;if(n.hasOwnProperty("mode")){var i=n.mode;"string"==typeof i&&(n.mode=p[i])}else n.hasOwnProperty("width")&&(n.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),l)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?h(t,l[r][0],l[r][1]):u(t,l[r][0],l[r][1]);var o=h(t,"font",null);this._font=null===o?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:o;var s=h(t,"fill",null);return null!==s&&(this.color=s),e?this.update(!0):this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}},{key:"update",value:function(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=o(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=h(t,"fontFamily","Courier"),this.fontSize=h(t,"fontSize","16px"),this.fontStyle=h(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.update(!1)}},{key:"setFill",value:function(t){return this.color=t,this.update(!1)}},{key:"setColor",value:function(t){return this.color=t,this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,n,i,r,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n="#000"),void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=n,this.shadowBlur=i,this.shadowStroke=r,this.shadowFill=o,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,n){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===n&&(n=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=n,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return"string"==typeof t&&(t=p[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),"string"==typeof e&&(e=f[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"toJSON",value:function(){var t={};for(var e in l)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}}])&&a(e.prototype,n),i&&a(e,i),t}(),f={left:s.a.hleft,center:s.a.hcenter,right:s.a.hright},d={top:s.a.vtop,center:s.a.vcenter,bottom:s.a.vbottom},p={none:s.a.NO_WRAP,word:s.a.WORD_WRAP,char:s.a.CHAR_WRAP,character:s.a.CHAR_WRAP};e.a=c},function(t,e,n){"use strict";e.a=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length),t.length=i-n;for(var r=0,o=t.length;r<o;r++)t[r]=e[r+n];return t}},function(t,e,n){"use strict";var i=n(10),r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=Object(r.a)(t);return o===t&&(t=void 0),(i=a(this,h(e).call(this,o,n))).scene=o,i.gameObject=t,t&&t.setInteractive(c(n,"inputConfig",void 0)),i.resetFromJSON(n),i.boot(),i}var n,o,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.setEnable(c(t,"enable",!0)),void 0===this.gameObject?this.bounds=c(t,"bounds",void 0):this.bounds=void 0,this.tracerState=d,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,u(h(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t,e){this.enable&&(void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=p,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart()))}},{key:"onPointerUp",value:function(t){this.enable&&((!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=d,this.onDragEnd()))}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=this.pointer===t;!n&&e||(n&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===p&&this.onDragEnd(),this.pointer=void 0,this.tracerState=d,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&s(n.prototype,o),f&&s(n,f),e}(),d=0,p=1,y="IDLE";e.a=f},function(t,e){t.exports=function(t,e,n){var i=n-e;return e+((t-e)%i+i)%i}},function(t,e,n){"use strict";var i=new(n(148).a)({uidKey:"$uid",remove:!1});e.a=i},function(t,e,n){(e=t.exports=n(45)).Stream=e,e.Readable=e,e.Writable=n(40),e.Duplex=n(13),e.Transform=n(50),e.PassThrough=n(103)},function(t,e,n){"use strict";(function(e,i,r){var o=n(23).nextTick;function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o;b.WritableState=g;var h=n(19);h.inherits=n(16);var l={deprecate:n(102)},c=n(46),f=n(24).Buffer,d=r.Uint8Array||function(){};var p,y=n(48);function v(){}function g(t,e){a=a||n(13),t=t||{};var i=e instanceof a;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,h=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(h||0===h)?h:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o(r,i),o(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),S(t,e))}(t,n,i,e,r);else{var s=x(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||k(t,n),i?u(w,t,n,s,r):w(t,n,s,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(t){if(a=a||n(13),!(p.call(b,this)||this instanceof a))return new b(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function m(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function w(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),S(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)r[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;r.allBuffers=u,m(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,l=n.encoding,c=n.callback;if(m(t,e,!1,e.objectMode?1:h.length,h,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function S(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o(O,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}h.inherits(b,c),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===b&&(t&&t._writableState instanceof g)}})):p=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,n){var i,r=this._writableState,s=!1,a=!r.objectMode&&(i=t,f.isBuffer(i)||i instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=v),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o(e,n)}(this,n):(a||function(t,e,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o(i,s),r=!1),r}(this,r,t,n))&&(r.pendingcb++,s=function(t,e,n,i,r,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,a,i,r,o);return u}(this,r,a,t,e,n)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||k(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},b.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?o(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(20),n(100).setImmediate,n(17))},function(t,e,n){var i,r,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),r=[],void 0===(o="function"==typeof(i=function(){"use strict";var t,e,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:{},r=!i.document&&!!i.postMessage,o=r&&/(\?|&)papaworker(=|&|$)/.test(i.location.search),a=!1,u={},h=0,l={parse:function(e,n){var r=(n=n||{}).dynamicTyping||!1;if(_(r)&&(n.dynamicTypingFunction=r,r={}),n.dynamicTyping=r,n.transform=!!_(n.transform)&&n.transform,n.worker&&l.WORKERS_SUPPORTED){var o=function(){if(!l.WORKERS_SUPPORTED)return!1;if(!a&&null===l.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=l.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var n=new i.Worker(e);return n.onmessage=k,n.id=h++,u[n.id]=n,n}();return o.userStep=n.step,o.userChunk=n.chunk,o.userComplete=n.complete,o.userError=n.error,n.step=_(n.step),n.chunk=_(n.chunk),n.complete=_(n.complete),n.error=_(n.error),delete n.worker,void o.postMessage({input:e,config:n,workerId:o.id})}var s=null;return e===l.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT?(s=new g(n)).getStream():("string"==typeof e?s=n.download?new d(n):new y(n):!0===e.readable&&_(e.read)&&_(e.on)?s=new v(n):(i.File&&e instanceof File||e instanceof Object)&&(s=new p(n)),s.stream(e))},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",a='"',u=!1;"object"===s(e)&&("string"!=typeof e.delimiter||l.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(r=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(i=e.header));var h=new RegExp(m(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return f(null,t,u);if("object"===s(t[0]))return f(c(t[0]),t,u)}else if("object"===s(t))return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:c(t.data[0])),Array.isArray(t.data[0])||"object"===s(t.data[0])||(t.data=[t.data])),f(t.fields||[],t.data||[],u);throw"exception: Unable to serialize unrecognized input";function c(t){if("object"!==s(t))return[];var e=[];for(var n in t)e.push(n);return e}function f(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&t.length>0,u=!Array.isArray(e[0]);if(a&&i){for(var h=0;h<t.length;h++)h>0&&(s+=r),s+=d(t[h],h);e.length>0&&(s+=o)}for(var l=0;l<e.length;l++){var c=a?t.length:e[l].length,f=!1,p=a?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!a&&(f="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&a){for(var y=[],v=0;v<c;v++){var g=u?t[v]:v;y.push(e[l][g])}f=""===y.join("").trim()}if(!f){for(var b=0;b<c;b++){b>0&&!p&&(s+=r);var m=a&&u?t[b]:b;s+=d(e[l][m],b)}l<e.length-1&&(!n||c>0&&!p)&&(s+=o)}}return s}function d(t,e){if(void 0===t||null===t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(h,a+a);var i="boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,l.BAD_DELIMITERS)||t.indexOf(r)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return i?a+t+a:t}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!i.Worker,l.SCRIPT_PATH=null,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=w,l.ParserHandle=b,l.NetworkStreamer=d,l.FileStreamer=p,l.StringStreamer=y,l.ReadableStreamStreamer=v,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(l.DuplexStreamStreamer=g),i.jQuery){var c=i.jQuery;c.fn.parse=function(t){var e=t.config||{},n=[];return this.each(function(t){var r="INPUT"===c(this).prop("tagName").toUpperCase()&&"file"===c(this).attr("type").toLowerCase()&&i.FileReader;if(!r||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:c.extend({},e)})}),r(),this;function r(){if(0!==n.length){var e,i,r,a,u=n[0];if(_(t.before)){var h=t.before(u.file,u.inputElem);if("object"===s(h)){if("abort"===h.action)return e="AbortError",i=u.file,r=u.inputElem,a=h.reason,void(_(t.error)&&t.error({name:e},i,r,a));if("skip"===h.action)return void o();"object"===s(h.config)&&(u.instanceConfig=c.extend(u.instanceConfig,h.config))}else if("skip"===h)return void o()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(t){_(f)&&f(t,u.file,u.inputElem),o()},l.parse(u.file,u.instanceConfig)}else _(t.complete)&&t.complete()}function o(){n.splice(0,1),r()}}}function f(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=S(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new b(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var s=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=r.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)i.postMessage({results:s,workerId:l.WORKER_ID,finished:u});else if(_(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!_(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){_(this._config.error)?this._config.error(t):o&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:t,finished:!1})}}function d(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),f.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=T(this._chunkLoaded,this),e.onerror=T(this._chunkError,this)),e.open("GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}r&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function p(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),f.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=T(this._chunkLoaded,this),e.onerror=T(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function y(t){var e;t=t||{},f.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function v(t){t=t||{},f.call(this,t);var e=[],n=!0,i=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=T(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=T(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=T(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(t){var e=n(92).Duplex,i=S(t),r=!0,o=!1,s=[],a=null;this._onCsvData=function(t){for(var e=t.data,n=0;n<e.length;n++)a.push(e[n])||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){a.push(null)},i.step=T(this._onCsvData,this),i.complete=T(this._onCsvComplete,this),f.call(this,i),this._nextChunk=function(){o&&1===s.length&&(this._finished=!0),s.length?s.shift()():r=!0},this._addToParseQueue=function(t,e){s.push(T(function(){if(this.parseChunk("string"==typeof t?t:t.toString(i.encoding)),_(e))return e()},this)),r&&(r=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(t,e,n){this._addToParseQueue(t,n)},this._onWriteComplete=function(){o=!0,this._addToParseQueue("")},this.getStream=function(){return a},(a=new e({readableObjectMode:!0,decodeStrings:!1,read:T(this._onRead,this),write:T(this._onWrite,this)})).once("finish",T(this._onWriteComplete,this))}function b(t){var e,n,i,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,u=0,h=!1,c=!1,f=[],d={data:[],errors:[],meta:{}};if(_(t.step)){var p=t.step;t.step=function(e){if(d=e,g())v();else{if(v(),0===d.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():p(d,s)}}}function y(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function v(){if(d&&i&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<d.data.length;e++)y(d.data[e])&&d.data.splice(e--,1);return g()&&function(){if(d){for(var e=0;g()&&e<d.data.length;e++)for(var n=0;n<d.data[e].length;n++){var i=d.data[e][n];t.trimHeaders&&(i=i.trim()),f.push(i)}d.data.splice(0,1)}}(),function(){if(!d||!t.header&&!t.dynamicTyping&&!t.transform)return d;for(var e=0;e<d.data.length;e++){var n,i=t.header?{}:[];for(n=0;n<d.data[e].length;n++){var r=n,o=d.data[e][n];t.header&&(r=n>=f.length?"__parsed_extra":f[n]),t.transform&&(o=t.transform(o,r)),o=b(r,o),"__parsed_extra"===r?(i[r]=i[r]||[],i[r].push(o)):i[r]=o}d.data[e]=i,t.header&&(n>f.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,u+e):n<f.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,u+e))}return t.header&&d.meta&&(d.meta.fields=f),u+=d.data.length,d}()}function g(){return t.header&&0===f.length}function b(e,n){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n}function k(t,e,n,i){d.errors.push({type:t,code:e,message:n,row:i})}this.parse=function(r,o,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),o=r.length>1&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var s=0,a=0;a<i.length;a++)"\n"===i[a][0]&&s++;return s>=i.length/2?"\r\n":"\r"}(r,a)),i=!1,t.delimiter)_(t.delimiter)&&(t.delimiter=t.delimiter(r),d.meta.delimiter=t.delimiter);else{var u=function(e,n,i,r){for(var o,s,a,u=[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP],h=0;h<u.length;h++){var c=u[h],f=0,d=0,p=0;a=void 0;for(var v=new w({comments:r,delimiter:c,newline:n,preview:10}).parse(e),g=0;g<v.data.length;g++)if(i&&y(v.data[g]))p++;else{var b=v.data[g].length;d+=b,void 0!==a?b>1&&(f+=Math.abs(b-a),a=b):a=0}v.data.length>0&&(d/=v.data.length-p),(void 0===s||f>s)&&d>1.99&&(s=f,o=c)}return t.delimiter=o,{successful:!!o,bestDelimiter:o}}(r,t.newline,t.skipEmptyLines,t.comments);u.successful?t.delimiter=u.bestDelimiter:(i=!0,t.delimiter=l.DefaultDelimiter),d.meta.delimiter=t.delimiter}var c=S(t);return t.preview&&t.header&&c.preview++,e=r,n=new w(c),d=n.parse(e,o,s),v(),h?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){h=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return c},this.abort=function(){c=!0,n.abort(),d.meta.aborted=!0,_(t.complete)&&t.complete(d),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,s=t.preview,a=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||l.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),r===n)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||l.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var h=0,c=!1;this.parse=function(t,l,f){if("string"!=typeof t)throw"Input must be a string";var d=t.length,p=n.length,y=i.length,v=r.length,g=_(o);h=0;var b=[],w=[],k=[],x=0;if(!t)return N();if(a||!1!==a&&-1===t.indexOf(e)){for(var O=t.split(i),S=0;S<O.length;S++){if(k=O[S],h+=k.length,S!==O.length-1)h+=i.length;else if(f)return N();if(!r||k.substr(0,v)!==r){if(g){if(b=[],A(k.split(n)),X(),c)return N()}else A(k.split(n));if(s&&S>=s)return b=b.slice(0,s),N(!0)}}return N()}for(var T,P=t.indexOf(n,h),C=t.indexOf(i,h),j=new RegExp(m(u)+m(e),"g");;)if(t[h]!==e)if(r&&0===k.length&&t.substr(h,v)===r){if(-1===C)return N();h=C+y,C=t.indexOf(i,h),P=t.indexOf(n,h)}else if(-1!==P&&(P<C||-1===C))k.push(t.substring(h,P)),h=P+p,P=t.indexOf(n,h);else{if(-1===C)break;if(k.push(t.substring(h,C)),Y(C+y),g&&(X(),c))return N();if(s&&b.length>=s)return N(!0)}else for(T=h,h++;;){if(-1===(T=t.indexOf(e,T+1)))return f||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:h}),L();if(T===d-1){var E=t.substring(h,T).replace(j,e);return L(E)}if(e!==u||t[T+1]!==u){if(e===u||0===T||t[T-1]!==u){var M=-1===C?P:Math.min(P,C),R=I(M);if(t[T+1+R]===n){k.push(t.substring(h,T).replace(j,e)),h=T+1+R+p,P=t.indexOf(n,h),C=t.indexOf(i,h);break}var D=I(C);if(t.substr(T+1+D,y)===i){if(k.push(t.substring(h,T).replace(j,e)),Y(T+1+D+y),P=t.indexOf(n,h),g&&(X(),c))return N();if(s&&b.length>=s)return N(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:h}),T++}}else T++}return L();function A(t){b.push(t),x=h}function I(e){var n=0;if(-1!==e){var i=t.substring(T+1,e);i&&""===i.trim()&&(n=i.length)}return n}function L(e){return f?N():(void 0===e&&(e=t.substr(h)),k.push(e),h=d,A(k),g&&X(),N())}function Y(e){h=e,A(k),k=[],C=t.indexOf(i,h)}function N(t){return{data:b,errors:w,meta:{delimiter:n,linebreak:i,aborted:c,truncated:!!t,cursor:x+(l||0)}}}function X(){o(N()),b=[],w=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return h}}function k(t){var e=t.data,n=u[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,x(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(_(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else _(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&x(e.workerId,e.results)}function x(t,e){var n=u[t];_(n.userComplete)&&n.userComplete(e),n.terminate(),delete u[t]}function O(){throw"Not implemented."}function S(t){if("object"!==s(t)||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=S(t[n]);return e}function T(t,e){return function(){t.apply(e,arguments)}}function _(t){return"function"==typeof t}return o?i.onmessage=function(t){var e=t.data;if(void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input)i.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(i.File&&e.input instanceof File||e.input instanceof Object){var n=l.parse(e.input,e.config);n&&i.postMessage({workerId:l.WORKER_ID,results:n,finished:!0})}}:l.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){a=!0},!0):a=!0),d.prototype=Object.create(f.prototype),d.prototype.constructor=d,p.prototype=Object.create(f.prototype),p.prototype.constructor=p,y.prototype=Object.create(y.prototype),y.prototype.constructor=y,v.prototype=Object.create(f.prototype),v.prototype.constructor=v,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(g.prototype=Object.create(f.prototype),g.prototype.constructor=g),l})?i.apply(e,r):i)||(t.exports=o)},function(t,e){var n=180/Math.PI;t.exports=function(t){return t*n}},function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}return t}},function(t,e){t.exports=function(t,e,n,i){return Math.atan2(i-e,n-t)}},function(t,e,n){"use strict";(function(e,i){var r=n(23).nextTick;t.exports=m;var o,s=n(93);m.ReadableState=b;n(33).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=n(46),h=n(24).Buffer,l=e.Uint8Array||function(){};var c=n(19);c.inherits=n(16);var f=n(97),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,y=n(98),v=n(48);c.inherits(m,u);var g=["error","close","destroy","pause","resume"];function b(t,e){o=o||n(13),t=t||{};var i=e instanceof o;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(49).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function m(t){if(o=o||n(13),!(this instanceof m))return new m(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,n,i,r){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}(t,s)):(r||(o=function(t,e){var n;i=e,h.isBuffer(i)||i instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):k(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?k(t,s,e,!1):_(t,s)):k(t,s,e,!1))):i||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function k(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),_(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=v.destroy,m.prototype._undestroy=v.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=h.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},m.prototype.unshift=function(t){return w(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return p||(p=n(49).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var x=8388608;function O(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r(T,t):T(t))}function T(t){d("emit readable"),t.emit("readable"),E(t)}function _(t,e){e.readingMore||(e.readingMore=!0,r(P,t,e))}function P(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function C(t){d("readable nexttick read 0"),t.read(0)}function j(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=h.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r(D,e,t))}function D(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function A(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}m.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):S(this),null;if(0===(t=O(t,e))&&e.ended)return 0===e.length&&R(this),null;var i,r=e.needReadable;return d("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",r=!0),e.ended||e.reading?d("reading or ended",r=!1):r&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=O(n,e))),null===(i=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&R(this)),null!==i&&this.emit("data",i),i},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?l:m;function h(e,i){d("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",c),t.removeListener("error",v),t.removeListener("unpipe",h),n.removeListener("end",l),n.removeListener("end",m),n.removeListener("data",y),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function l(){d("onend"),t.end()}o.endEmitted?r(u):n.once("end",u),t.on("unpipe",h);var c=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,E(t))}}(n);t.on("drain",c);var f=!1;var p=!1;function y(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==A(o.pipes,t))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(e){d("onerror",e),m(),t.removeListener("error",v),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",b),m()}function b(){d("onfinish"),t.removeListener("close",g),m()}function m(){d("unpipe"),n.unpipe(t)}return n.on("data",y),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",v),t.once("close",g),t.once("finish",b),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},m.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=A(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},m.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r(C,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r(j,t,e))}(this,t)),this},m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){(d("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause())))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){d("wrapped _read",e),i&&(i=!1,t.resume())},this},m._fromList=M}).call(this,n(17),n(20))},function(t,e,n){t.exports=n(33).EventEmitter},function(t,e,n){"use strict";(function(t){var i=n(94),r=n(95),o=n(96);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return h(this,t,e,n)}function h(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(l(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(i)return F(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:g(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var l=-1;for(o=n;o<a;o++)if(h(t,o)===h(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(h(t,o+f)!==h(e,f)){c=!1;break}if(c)return o}return-1}function b(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function m(t,e,n,i){return U(F(e,t.length-n),t,n,i)}function w(t,e,n,i){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function k(t,e,n,i){return w(t,e,n,i)}function x(t,e,n,i){return U(B(e),t,n,i)}function O(t,e,n,i){return U(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,h=t[r],l=null,c=h>239?4:h>223?3:h>191?2:1;if(r+c<=n)switch(c){case 1:h<128&&(l=h);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&h)<<6|63&o)>127&&(l=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=c}return function(t){var e=t.length;if(e<=_)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=_));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return h(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,s=n-e,a=Math.min(o,s),h=this.slice(i,r),l=t.slice(e,n),c=0;c<a;++c)if(h[c]!==l[c]){o=h[c],s=l[c];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return m(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function C(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function j(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=X(t[o]);return r}function E(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function D(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function A(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function I(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return o||I(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function Y(t,e,n,i,o){return o||I(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):A(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):A(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):A(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):A(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return Y(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return Y(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:F(new u(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(17))},function(t,e,n){"use strict";var i=n(23).nextTick;function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var i=n(24).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=c,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(n+2)}}(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var i=n(13),r=n(19);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(16),r.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";e.a=function(t,e,n){!t||void 0===e&&void 0===n||(t.resize?(void 0===e&&(e=t.width),void 0===n&&(n=t.height),t.resize(e,n)):(void 0!==e&&(t.displayWidth=e),void 0!==n&&(t.displayHeight=n)))}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=Phaser.Utils.Objects.GetValue,o=function(){function t(e,n,i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,n,i,r,o)}var e,n,o;return e=t,(n=[{key:"setTo",value:function(t,e,n,i,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(n,i),this}},{key:"setPosition",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){var e,n;void 0===t&&(t=0),"number"==typeof t?(e=t,n=t):(e=r(t,"x",0),n=r(t,"y",0));var i=this.cornerRadius;return i.tl=s(r(t,"tl",void 0),e,n),i.tr=s(r(t,"tr",void 0),e,n),i.bl=s(r(t,"bl",void 0),e,n),i.br=s(r(t,"br",void 0),e,n),this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}])&&i(e.prototype,n),o&&i(e,o),t}(),s=function(t,e,n){return void 0===t?{x:e,y:n}:"number"==typeof t?{x:t,y:t}:t},a=o,u=function(t,e,n){var i=n.length;if(i>=2){var r=n[i-2],o=n[i-1];if(t===r&&e===o)return n}return n.push(t,e),n},h=n(15),l=n.n(h),c=Phaser.Utils.Objects.GetValue,f=function(t,e,n,i,r,o,s,a){var h,f,d,p=c(n,"x",n),y=c(n,"y",n);o&&(r+=360),i=l()(i);for(var v=((r=l()(r))-i)/s,g=0;g<=s;g++)d=i+v*g,h=t+p*Math.cos(d),f=e+y*Math.sin(d),u(h,f,a);return a},d=n(142),p=n.n(d),y=n(143),v=n.n(y),g=n(144),b=n.n(g),m=n(9),w=(m.a,m.a,{renderWebGL:v.a,renderCanvas:b.a});function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=Phaser.Utils.Objects.GetValue,P=function(t){function e(t,n,i,r,o,s,u,h){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),void 0===i&&(i=0);var c=_(s,"iteration",void 0);s=_(s,"radius",s);var f=new a(0,0,r,o,s);return(l=O(this,S(e).call(this,t,"RoundRectangle",f))).setIteration(c),l.setPosition(n,i),void 0!==u&&l.setFillStyle(u,h),l.updateDisplayOrigin(),l.updateData(),l}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,Phaser.GameObjects.Shape),n=e,(i=[{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var n,i=t.cornerRadius,r=this.iteration+1;if(n=i.br,C(n)){var o=t.width-n.x,s=t.height-n.y;f(o,s,n,0,90,!1,r,e)}else u(t.width,t.height,e);if(n=i.bl,C(n)){o=n.x,s=t.height-n.y;f(o,s,n,90,180,!1,r,e)}else u(0,t.height,e);if(n=i.tl,C(n)){o=n.x,s=n.y;f(o,s,n,180,270,!1,r,e)}else u(0,0,e);if(n=i.tr,C(n)){o=t.width-n.x,s=n.y;f(o,s,n,270,360,!1,r,e)}else u(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=p()(e),this}},{key:"resize",value:function(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e?this:(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData(),this)}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"width",get:function(){return this.geom.width},set:function(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}},{key:"height",get:function(){return this.geom.height},set:function(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t}}])&&x(n.prototype,i),r&&x(n,r),e}(),C=function(t){return 0!==t.x&&0!==t.y};Object.assign(P.prototype,w);e.a=P},function(t,e,n){"use strict";var i=n(25),r=n(73);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null,this.setParent(e),this._deltaHeight=0}var e,n,i;return e=t,(n=[{key:"setParent",value:function(t){this.parent=t,this.parentContainer=t.getParentContainer()}},{key:"destroy",value:function(t){if(void 0===t&&(t=!1),!t){var e=this.parent;0!==this.deltaHeight&&e.nonZeroDeltaHeightCount--,this.destroyContainer()}this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}},{key:"getContainer",value:function(){return this.container}},{key:"setContainer",value:function(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}},{key:"destroyContainer",value:function(){return this.container&&(this.container.destroy(),this.container=null),this}},{key:"popContainer",value:function(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}},{key:"setXY",value:function(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}},{key:"setDeltaHeight",value:function(t){return this.deltaHeight=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"table",get:function(){return this.parent}},{key:"scrollMode",get:function(){return this.parentContainer.scrollMode}},{key:"colIndx",get:function(){return this.parent.cellIndxeToColIndex(this.index)}},{key:"rowIndx",get:function(){return this.parent.cellIndxeToRowIndex(this.index)}},{key:"deltaHeight",get:function(){return this._deltaHeight},set:function(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}},{key:"height",get:function(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth},set:function(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"width",get:function(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight},set:function(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"scene",get:function(){return this.parentContainer.scene}}])&&o(e.prototype,n),i&&o(e,i),t}();Object.assign(s.prototype,r.a);var a=s,u=n(12);function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=Phaser.Utils.Objects.GetValue,c=Phaser.Utils.Array.SpliceOne,f=new u.a,d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.cells=[],this.resetFromJSON(n)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(l(t,"cellHeight",30)),this.setDefaultCellWidth(l(t,"cellWidth",30)),this.initCells(l(t,"cellsCount",0)),this.setColumnCount(l(t,"columns",1)),this}},{key:"destroy",value:function(t){for(var e=0,n=this.cells.length;e<n;e++)this.freeCell(this.cells[e],t);this.cells=void 0,this.parent=void 0}},{key:"setDefaultCellHeight",value:function(t){return this.defaultCellHeight=t,this}},{key:"setDefaultCellWidth",value:function(t){return this.defaultCellWidth=t,this}},{key:"initCells",value:function(t){var e=this.cells;e.length=t;for(var n=0;n<t;n++)e[n]=null;return this}},{key:"insertNewCell",value:function(t,e){var n=this.cells;if(t===n.length){var i=t+e;n.legth=i;for(var r=t;r<i;r++)n[r]=null}else{var o,s=[];s.length=e;for(r=0;r<e;r++)s[r]=null;(o=this.cells).splice.apply(o,[t,0].concat(s))}return this.resetTotalRowsHeight(),this}},{key:"removeCell",value:function(t,e){for(var n=t+e,i=t;i<n;i++)this.freeCell(i);return n===this.cells.length?this.cells.length=t:(1===e?c(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}},{key:"setColumnCount",value:function(t){return this.colCount=t,this.resetTotalRowsHeight(),this}},{key:"isValidCellIdx",value:function(t){return t>=0&&t<this.cells.length}},{key:"heightToRowIndex",value:function(t,e){if(this.defaultCellHeightMode){var n=t/this.defaultCellHeight;return n=e?Math.ceil(n):Math.floor(n)}var i,r=this.rowCount,o=t;for(n=0;;){if(o-=this.getRowHeight(n),i=n>=0&&n<r,!(o>0&&i)){if(0===o)return n;if(e){var s=n;(i=(n+=1)>=0&&n<r)||(n=s)}return n}n+=1}}},{key:"widthToColIndex",value:function(t,e){var n=t/this.defaultCellWidth;return n=e?Math.ceil(n):Math.floor(n)}},{key:"colRowToCellIndex",value:function(t,e){return t>=this.colCount?null:e*this.colCount+t}},{key:"rowIndexToHeight",value:function(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var n=0,i=t;i<=e;i++)n+=this.getRowHeight(i);return n}},{key:"colIndexToWidth",value:function(t,e){return(e-t+1)*this.defaultCellWidth}},{key:"getRowHeight",value:function(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n,i=0,r=0;r<e;r++)i<(n=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(i=n);return i}},{key:"getColWidth",value:function(t){return this.defaultCellWidth}},{key:"getCellHeight",value:function(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var n=this.getCell(t,!1),i=n?n.deltaHeight:0;e=this.defaultCellHeight+i}return e}},{key:"resetTotalRowsHeight",value:function(){this._totalRowsHeight=null}},{key:"cellIndxeToColIndex",value:function(t){return t%this.colCount}},{key:"cellIndxeToRowIndex",value:function(t){return Math.floor(t/this.colCount)}},{key:"getCell",value:function(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}},{key:"newCell",value:function(t){var e=f.pop();return null===e?e=new a(this):e.setParent(this),e.index=t,e}},{key:"buildCellIndex",value:function(t){void 0===t&&(t=0);for(var e,n=this.cells,i=t,r=n.length;i<r;i++)(e=n[i])&&(e.index=i);return this}},{key:"getParentContainer",value:function(){return this.parent}},{key:"freeCell",value:function(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),f.push(t),this):this}},{key:"nonZeroDeltaHeightCount",get:function(){return this._nonZeroDeltaHeightCount},set:function(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}},{key:"defaultCellHeightMode",get:function(){return 0===this.nonZeroDeltaHeightCount}},{key:"rowCount",get:function(){return Math.ceil(this.cells.length/this.colCount)}},{key:"cellsCount",get:function(){return this.cells.length}},{key:"totalRowsHeight",get:function(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}},{key:"totalColumnWidth",get:function(){return this.colCount*this.defaultCellWidth}}])&&h(e.prototype,n),i&&h(e,i),t}(),p=n(61),y=n(51),v=n(58),g=n(119);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=i.a,T=Phaser.GameObjects.Components,_=Phaser.Structs.Set,P=Phaser.Utils.Objects.GetValue,C=Phaser.Math.Clamp,j=function(t){function e(t,n,i,r,o,s){var a,u,h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===s&&(s={}),u=this,(a=!(h=x(e).call(this,t,n,i,r,o))||"object"!==b(h)&&"function"!=typeof h?w(u):h).type="rexGridTable",a._tableOX=0,a._tableOY=0,a.visibleCells=new _,a.preVisibleCells=new _,a.visibleStartX=null,a.visibleEndX=null,a.visibleStartY=null,a.visibleEndY=null,a.lastVisibleCellIdx=null,a.execeedTopState=!1,a.execeedBottomState=!1,a.execeedLeftState=!1,a.execeedRightState=!1;var l=P(s,"reuseCellContainer",!1);a.cellContainersPool=l?t.add.group():void 0;var c=P(s,"cellVisibleCallback",null);if(null!==c){var f=P(s,"cellVisibleCallbackScope",void 0);a.on("cellvisible",c,f)}if(null!==(c=P(s,"cellInvisibleCallback",null))){f=P(s,"cellInvisibleCallbackScope",void 0);a.on("cellinvisible",c,f)}if(a.cellsMask=void 0,a.setCellsMask(P(s,"mask",!0)),a.setScrollMode(P(s,"scrollMode",0)),a.setClampMode(P(s,"clamplTableOXY",!0)),0===a.scrollMode){var p=P(s,"cellWidth",void 0);if(a.expandCellSize=void 0===p,void 0===p){var y=P(s,"columns",1);s.cellWidth=a.width/y}}else{p=P(s,"cellHeight",void 0);var v=P(s,"cellWidth",void 0);a.expandCellSize=void 0===p,s.cellWidth=p,s.cellHeight=v}return a.table=new d(w(a),s),a.updateTable(),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,S),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(t||this.setCellsCount(0),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),k(x(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=E[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampTableOXYMode=t,this}},{key:"setCellsCount",value:function(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}},{key:"setColumnCount",value:function(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this)}},{key:"setGridSize",value:function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}},{key:"insertNewCell",value:function(t,e){return"object"===b(t)&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=C(t,0,this.cellsCount),this.table.insertNewCell(t,e),this)}},{key:"removeCell",value:function(t,e){if("object"===b(t)&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var n,i=this.preVisibleCells,r=this.visibleCells,o=t,s=t+e;o<s;o++)(n=this.getCell(o,!1))&&(r.contains(n)&&(this.hideCell(n),r.delete(n)),i.delete(n));return this.table.removeCell(t,e),this}},{key:"setTableOY",value:function(t){var e=this.table,n=this.topTableOY,i=this.bottomTableOY,r=this.tableOYExceedTop(t),o=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=n:o&&(t=i));return this._tableOY!==t&&(this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,n)),this.execeedTopState=r,o&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=o,this}},{key:"setTableOX",value:function(t){var e=this.table,n=this.leftTableOX,i=this.rightTableOX,r=this.tableOXExeceedLeft(t),o=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=n:o&&(t=i));return this._tableOX!==t&&(this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,n)),this.execeedLeftState=r,o&&(this.execeedRightState||this.emit("execeedright",this,t,i)),this.execeedRightState=o,this}},{key:"setTableOXY",value:function(t,e){return this.setTableOY(e).setTableOX(t),this}},{key:"addTableOY",value:function(t){return this.setTableOY(this.tableOY+t),this}},{key:"addTableOX",value:function(t){return this.setTableOX(this.tableOX+t),this}},{key:"addTableOXY",value:function(t,e){return this.addTableOY(e).addTableOX(t),this}},{key:"setTableOYByPercentage",value:function(t){return this.setTableOY(-this.tableVisibleHeight*t),this}},{key:"getTableOYPercentage",value:function(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}},{key:"updateTable",value:function(t){return void 0===t&&(t=!1),t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}},{key:"getCell",value:function(t){return this.table.getCell(t,!0)}},{key:"getCellContainer",value:function(t){var e,n=this.table.getCell(t,!1);return n&&(e=n.getContainer()),e}},{key:"setCellHeight",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}},{key:"setCellWidth",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}},{key:"pointerToCellIndex",value:function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var n=this.tableOY-(0===this.scrollMode?e:t),i=this.tableOX-(0===this.scrollMode?t:e),r=this.table,o=r.heightToRowIndex(-n),s=r.widthToColIndex(-i),a=r.colRowToCellIndex(s,o);return null===a?null:this.cellIsVisible(a)?a:null}},{key:"pointerToCellContainer",value:function(t,e){var n=this.pointerToCellIndex(t,e);if(null!==n)return this.getCellContainer(n)}},{key:"cellIsVisible",value:function(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}},{key:"eachVisibleCell",value:function(t,e){return this.visibleCells.each(t,e),this}},{key:"iterateVisibleCell",value:function(t,e){return this.visibleCells.iterate(t,e),this}},{key:"setCellsMask",value:function(t){var e,n;if(!0===t?(e=!0,n=0):!1===t?e=!1:(e=P(t,"mask",!0),n=P(t,"padding",0)),e){var i=new p.a(this,0,n);this.cellsMask=i.createGeometryMask(),this.add(i)}return this}},{key:"maskCells",value:function(){for(var t,e=[],n=this.visibleCells.entries,i=0,r=n.length;i<r;i++)(t=n[i].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Object(g.a)(this,this.cellsMask,e)}},{key:"resize",value:function(t,n){return this.width===t&&this.height===n?this:(k(x(e.prototype),"resize",this).call(this,t,n),this.cellsMask&&Object(y.a)(Object(v.a)(this.cellsMask),t,n),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this)}},{key:"clearVisibleCellIndexes",value:function(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}},{key:"showCells",value:function(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var n=t.widthToColIndex(-this.tableOX);n<0&&(n=0);var i=t.colRowToCellIndex(n,e),r=this.bottomBound,o=this.rightBound,s=t.cellsCount-1,a=t.colCount-1,u=this.getTLX(n),h=u,l=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;l<r&&i<=s;){if(this.table.isValidCellIdx(i)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=n,this.visibleEndX=n),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=i),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<n&&(this.visibleEndX=n),this.lastVisibleCellIdx<i&&(this.lastVisibleCellIdx=i);var c=t.getCell(i,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(h,l):c.setXY(l,h)}h<o&&n<a?(h+=t.getColWidth(n),n+=1):(h=u,l+=t.getRowHeight(e),n=this.visibleStartX,e+=1),i=t.colRowToCellIndex(n,e)}}}},{key:"showCell",value:function(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var n=t.getContainer();n?null===e?this.cellContainersPool.add(n):e!==n&&(this.cellContainersPool.add(n),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}},{key:"hideCells",value:function(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}},{key:"hideCell",value:function(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}},{key:"tableOYExceedTop",value:function(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}},{key:"tableOYExeceedBottom",value:function(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}},{key:"tableOXExeceedLeft",value:function(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}},{key:"tableOXExeceedRight",value:function(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}},{key:"getTLX",value:function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}},{key:"getTLY",value:function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}},{key:"tableOY",get:function(){return this._tableOY},set:function(t){this.setTableOY(t).updateTable()}},{key:"tableOX",get:function(){return this._tableOX},set:function(t){this.setTableOX(t).updateTable()}},{key:"t",set:function(t){this.setTableOYByPercentage(t).updateTable()},get:function(){return this.getTableOYPercentage()}},{key:"cellsCount",get:function(){return this.table.cellsCount}},{key:"columnCount",get:function(){return this.table.colCount}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"tableHeight",get:function(){return this.table.totalRowsHeight}},{key:"tableWidth",get:function(){return this.table.totalColumnWidth}},{key:"topTableOY",get:function(){return 0}},{key:"bottomTableOY",get:function(){return-this.tableVisibleHeight}},{key:"leftTableOX",get:function(){return 0}},{key:"rightTableOX",get:function(){return-this.tableVisibleWidth}},{key:"tableVisibleHeight",get:function(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}},{key:"tableVisibleWidth",get:function(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}},{key:"bottomLeftY",get:function(){return-this.displayHeight*this.originY+this.displayHeight}},{key:"topRightX",get:function(){return-this.displayWidth*this.originX+this.displayWidth}},{key:"topLeftX",get:function(){return-this.displayWidth*this.originX}},{key:"topLeftY",get:function(){return-this.displayHeight*this.originY}},{key:"bottomBound",get:function(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}},{key:"rightBound",get:function(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}}])&&m(n.prototype,i),r&&m(n,r),e}();Object.assign(j.prototype,T.GetBounds);var E={v:0,vertical:0,h:1,horizontal:1};e.a=j},function(t,e,n){"use strict";var i=n(57),r={plainText:null,prevProp:null},o=new(n(34).a),s={},a={splitText:function(t,e){for(var n,i,r=[],o=0,s=t.length,a=s;n=l.exec(t);)i=n[0],o<(a=l.lastIndex-i.length)&&r.push(t.substring(o,a)),void 0===e&&r.push(i),o=l.lastIndex;return o<s&&r.push(t.substring(o,s)),r},tagTextToProp:function(t,e){var n,i;null==e&&(e={}),e.img&&u(e,M,"img"),c.test(t)?(u(e,R,"b",!0),n=""):f.test(t)?(u(e,M,"b"),n=""):d.test(t)?(u(e,R,"i",!0),n=""):p.test(t)?(u(e,M,"i"),n=""):y.test(t)?(i=t.match(y),u(e,R,"size",i[1]+"px"),n=""):v.test(t)?(u(e,M,"size"),n=""):g.test(t)?(i=t.match(g),u(e,R,"color",i[1]),n=""):b.test(t)?(u(e,M,"color"),n=""):m.test(t)?(i=t.match(m),u(e,R,"u",!0),n=""):w.test(t)?(i=t.match(w),u(e,R,"u",i[1]),n=""):k.test(t)?(u(e,M,"u"),n=""):x.test(t)?(u(e,R,"shadow",!0),n=""):O.test(t)?(u(e,M,"shadow"),n=""):S.test(t)?(u(e,R,"stroke",!0),n=""):T.test(t)?(i=t.match(T),u(e,R,"stroke",i[1]),n=""):_.test(t)?(u(e,M,"stroke"),n=""):P.test(t)?(i=t.match(P),u(e,R,"img",i[1]),n=""):C.test(t)?(u(e,M,"img"),n=""):j.test(t)?(i=t.match(j),u(e,R,"area",i[1]),n=""):E.test(t)?(u(e,M,"area"),n=""):n=t;var o=r;return o.plainText=n,o.prop=e,o},propToContextStyle:function(t,e){var n=o;if(e.hasOwnProperty("img"))n.image=e.img;else{if(n.image=null,e.hasOwnProperty("family")?n.fontFamily=e.family:n.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var i=e.size;"number"==typeof i&&(i=i.toString()+"px"),n.fontSize=i}else n.fontSize=t.fontSize;n.fontStyle=h(e.b,e.i),e.hasOwnProperty("color")?n.color=e.color:n.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(n.stroke=t.stroke,n.strokeThickness=t.strokeThickness):(n.stroke=e.stroke,n.strokeThickness=t.strokeThickness):(n.stroke=t.stroke,n.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor=e.shadow,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor="#000",n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0,n.shadowStroke=!1,n.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset):(n.underlineColor=e.u,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset):(n.underlineColor="#000",n.underlineThickness=0,n.underlineOffset=0),n},propToTagText:function(t,e,n){for(var i in null==n&&(n=s),n)e.hasOwnProperty(i)||(t="[/"+i+"]"+t);var r="";for(var i in e)n[i]!==e[i]&&("size"===i?r+="[size="+e[i].replace("px","")+"]":"color"===i||"stroke"===i||"img"===i?r+="["+i+"="+e[i]+"]":"u"===i?!0===e[i]?r+="[u]":r+="[u="+e[i]+"]":r+="["+i+"]");return t=r+t}},u=function(t,e,n,i){return e===R?t[n]=i:t.hasOwnProperty(n)&&delete t[n],t},h=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},l=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,c=/\[b\]/i,f=/\[\/b\]/i,d=/\[i\]/i,p=/\[\/i\]/i,y=/\[size=(\d+)\]/i,v=/\[\/size\]/i,g=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,b=/\[\/color\]/i,m=/\[u\]/i,w=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,k=/\[\/u\]/i,x=/\[shadow\]/i,O=/\[\/shadow\]/i,S=/\[stroke\]/i,T=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,_=/\[\/stroke\]/i,P=/\[img=([^\]]+)\]/i,C=/\[\/img\]/i,j=/\[area=([^\]]+)\]/i,E=/\[\/area\]/i,M=!1,R=!0,D=a;function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(t,n,i,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,L(e).call(this,t,n,i,r,o,"rexBBCodeText",D))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,i["a"]),e}();e.a=N},function(t,e,n){"use strict";var i=n(57);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o={plainText:null,prevProp:null},s=new(n(34).a),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e={}),this.tags=e}var e,n,i;return e=t,(n=[{key:"addTag",value:function(t,e){this.tags[t]=e}},{key:"splitText",value:function(t,e){for(var n,i,r,o=[],s=0,a=t.length,u=a;n=l.exec(t);)i=n[0],s<(u=l.lastIndex-i.length)&&o.push(t.substring(s,u)),void 0===e?o.push(i):1===e&&(c.test(i)?(r=i.match(f),o.push(r[2])):d.test(i)&&(r=i.match(p),o.push(r[2]))),s=l.lastIndex;return s<a&&o.push(t.substring(s,a)),o}},{key:"tagTextToProp",value:function(t,e){var n,i;if(c.test(t)){if(null!=(a=t.match(f))){var r=a[1],s=this.tags;(i=s.hasOwnProperty(r)?s[r]:{})._class=r,n=a[2]}}else if(d.test(t)){var a;if(null!=(a=t.match(p))){var h=a[1];(i=u(h))._style=h,n=a[2]}}null==n&&(n=t),null==i&&(i={});var l=o;return l.plainText=n,l.prop=i,l}},{key:"propToContextStyle",value:function(t,e){var n=s;if(e.hasOwnProperty("img"))n.image=e.img;else{if(n.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var i=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];n.fontFamily=i}else n.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),n.fontSize=r}else n.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var o=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];n.fontStyle=o}else n.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")){e.hasOwnProperty("color")?e.color:e["font-color"];n.color=e.color}else n.color=t.color;if(e.hasOwnProperty("stroke")){var a=e.stroke;n.stroke=a.hasOwnProperty("color")?a.color:t.stroke,n.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else n.stroke=t.stroke,n.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var u=e.shadow;n.shadowColor=u.hasOwnProperty("color")?u.color:t.shadowColor,n.shadowOffsetX=u.hasOwnProperty("offsetX")?u.offsetX:t.shadowOffsetX,n.shadowOffsetY=u.hasOwnProperty("offsetY")?u.offsetY:t.shadowOffsetY,n.shadowBlur=u.hasOwnProperty("blur")?u.blur:t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0}else n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=t.shadowStroke,n.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var h=e.hasOwnProperty("u")?e.u:e.underline;n.underlineColor=h.hasOwnProperty("color")?h.color:t.underlineColor,n.underlineThickness=h.hasOwnProperty("thinkness")?h.thinkness:t.underlineThickness,n.underlineOffset=h.hasOwnProperty("offset")?h.offset:t.underlineOffset}else n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset;return n}},{key:"propToTagText",value:function(t,e,n){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}},{key:"destroy",value:function(){this.tags=void 0}},{key:"isTextTag",value:function(t){var e=this.tags[t];return!!e&&null==e.img}}])&&r(e.prototype,n),i&&r(e,i),t}(),u=function(t){for(var e,n,i,r={},o=0,s=(t=t.split(";")).length;o<s;o++)if(n=(e=t[o].split(":"))[0],i=e[1],!h(n)&&!h(i)){switch(n){case"stroke":var a=i.split(" ");i={},(l=a.length)>=1&&(i.color=a[0]),l>=2&&(i.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var u=i.split(" ");i={},(l=u.length)>=1&&(i.color=u[0]),l>=2&&(i.offsetX=parseInt(u[1].replace("px",""))),l>=3&&(i.offsetY=parseInt(u[2].replace("px",""))),l>=4&&(i.blur=parseInt(u[3].replace("px","")));break;case"u":case"underline":var l,c=i.split(" ");i={},(l=c.length)>=1&&(i.color=c[0]),l>=2&&(i.thinkness=parseInt(c[1].replace("px",""))),l>=3&&(i.offset=parseInt(c[2].replace("px","")))}r[n]=i}return r},h=function(t){return 0===(t=t.replace(y,"")).length},l=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,c=/<\s*class=/i,f=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,d=/<\s*style=/i,p=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,y=/^\s+|\s+$/,v=a;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t,e,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=Phaser.Utils.Objects.GetValue,S=function(t){function e(t,n,i,r,o){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=O(o,"tags",void 0),u=new v(a);return(s=m(this,k(e).call(this,t,n,i,r,o,"rexTagText",u))).parser=u,s}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,i["a"]),n=e,(r=[{key:"addTag",value:function(t,e){return this.parser.addTag(t,e),this.updateText(!0)}},{key:"addTags",value:function(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}},{key:"preDestroy",value:function(){w(k(e.prototype),"preDestroy",this).call(this),this.parser.destroy(),this.parser=void 0}}])&&b(n.prototype,r),o&&b(n,o),e}();e.a=S},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)?t.events:t.on?t:void 0}},function(t,e,n){"use strict";var i=n(71),r=n.n(i),o=n(72),s=n.n(o),a=n(9),u=(a.a,a.a,{renderWebGL:r.a,renderCanvas:s.a}),h=n(34),l=n(1),c=(l.a.hleft,l.a.hcenter),f=l.a.hright,d=(l.a.vtop,l.a.vcenter),p=l.a.vbottom,y={draw:function(t,e,n,i){var r=this.penManager;this.hitAreaManager.clear();var o=this.context;o.save(),this.drawBackground(this.defatultStyle.backgroundColor);var s=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var a,u,h,l,y,v,g=s.halign,b=s.valign,m=s.lineHeight,w=r.lines,k=w.length,x=s.maxLines;x>0&&k>x?(u=x,h=b===d?Math.floor((k-u)/2):b===p?k-u:0):(u=k,h=0),l=h+u,v=b===d?Math.max((i-u*m)/2,0):b===p?Math.max(i-u*m-2,0):0,v+=e;for(var O=h;O<l;O++)if(0!==(a=r.getLineWidth(O))){y=g===c?(n-a)/2:g===f?n-a:0,y+=t;for(var S=w[O],T=0,_=S.length;T<_;T++)this.drawPen(S[T],y,v)}o.restore()},drawPen:function(t,e,n){e+=t.x,n+=t.y;var i=this.canvas,r=this.context;r.save();var o=this.parser.propToContextStyle(this.defatultStyle,t.prop);o.buildFont(),o.syncFont(i,r),o.syncStyle(i,r),o.underlineThickness>0&&t.width>0&&this.drawUnderline(e,n,t.width,o),t.isTextPen&&this.drawText(e,n,t.text,o),t.isImagePen&&this.drawImage(e,n,t.prop.img,o),r.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,n-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground:function(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline:function(t,e,n,i){e+=i.underlineOffset-i.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context,o=r.lineCap;r.lineCap="butt",r.beginPath(),r.strokeStyle=i.underlineColor,r.lineWidth=i.underlineThickness,r.moveTo(t,e),r.lineTo(t+n,e),r.stroke(),r.lineCap=o},drawText:function(t,e,n,i){this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context;i.strokeThickness&&(i.syncShadow(r,i.shadowStroke),r.strokeText(n,t,e)),i.color&&"none"!==i.color&&(i.syncShadow(r,i.shadowFill),r.fillText(n,t,e))},drawImage:function(t,e,n,i){var r=this.parent.imageManager,o=r.get(n),s=r.getFrame(n);t+=o.left,e+=-this.startYOffset+o.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(s.source.image,s.cutX,s.cutY,s.cutWidth,s.cutHeight,t,e,o.width,o.height)}},v=n(12);function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=Phaser.Utils.Objects.GetValue,m=l.a.NO_NEWLINE,w=l.a.RAW_NEWLINE,k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prop={},this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.text=b(t,"text",""),this.x=b(t,"x",0),this.y=b(t,"y",0),this.width=b(t,"width",0);var e=b(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=b(t,"newLineMode",0),this.startIndex=b(t,"startIndex",0)}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===w&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==m&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===w&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return""!==this.text}},{key:"isImagePen",get:function(){return!!this.prop.img}},{key:"hasAreaMarker",get:function(){return!!this.prop.area}}])&&g(e.prototype,n),i&&g(e,i),t}(),x=n(11);function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var S=Phaser.Utils.Objects.GetFastValue,T=l.a.NO_NEWLINE,_=l.a.WRAPPED_NEWLINE,P=new v.a,C=new v.a,j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=S(e,"pensPool",P),this.LinesPool=S(e,"linesPool",C),this.tagToText=S(e,"tagToText",a.a),this.tagToTextScope=S(e,"tagToTextScope",void 0)}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}},{key:"freePens",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}},{key:"addTextPen",value:function(t,e,n,i,r,o){var s=this.PensPool.pop();return null==s&&(s=new k),E.text=t,E.x=e,E.y=n,E.width=i,E.prop=r,E.newLineMode=o,s.resetFromJSON(E),this.addPen(s),this}},{key:"addImagePen",value:function(t,e,n,i){return this.addTextPen("",t,e,n,i,T),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,n=t?t.y:0,i=t?Object(x.a)(t.prop):null;return this.addTextPen("",e,n,0,i,_),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var n=this.lastLine;null==n&&(n=this.LinesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==T&&(n=this.LinesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}},{key:"clone",value:function(e){null==e&&(e=new t),e.freePens();for(var n=0,i=this.lines.length;n<i;n++)for(var r=this.lines[n],o=0,s=r.length;o<s;o++){var a=r[o];e.addPen(a.text,a.x,a.y,a.width,Object(x.a)(a.prop),a.newLineMode)}return e}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,n,i=!1;for(e=t;e>=0&&!(i=null!=(n=this.lines[e])&&n.length>0);e--);return i?n[n.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var n=e[e.length-1];return null==n?0:n.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,n=0,i=this.lines.length;n<i;n++)(t=this.getLineWidth(n))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,n=this.lines.length;e<n;e++)t.push(this.getLineWidth(e));return t}},{key:"getSliceTagText",value:function(t,e,n){if(void 0===t&&(t=0),void 0===e){var i=this.lastPen;if(null==i)return"";e=i.endIndex}void 0===n&&(n=!1);for(var r,o,s,a,u,h,l="",c=0,f=this.pens.length;c<f&&((a=(r=this.pens[c]).endIndex)<=t||(r=this.pens[c],o=n?r.wrapText:r.plainText,u=r.prop,(s=r.startIndex)>=t&&a<=e||(o=o.substring(t-s,e-s)),this.tagToTextScope?l+=this.tagToText.call(this.tagToTextScope,o,u,h):l+=this.tagToText(o,u,h),h=u,!(a>=e)));c++);return l}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,n=0,i=e.length;n<i;n++)t+=e[n].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,n=0,i=this.pens.length;n<i;n++)t+=e[n].rawTextLength;return t}}])&&O(e.prototype,n),i&&O(e,i),t}(),E={},M=j;function R(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var D=Phaser.Geom.Rectangle,A=new v.a,I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hitAreas=[]}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){return A.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,n,i,r){var o=A.pop();return null===o?o=new D(e,n,i,r):o.setTo(e,n,i,r),o.key=t,this.hitAreas.push(o),this}},{key:"contains",value:function(t,e){for(var n,i=this.hitAreas,r=0,o=i.length;r<o;r++)if((n=i[r]).contains(t,e))return n.key;return!1}},{key:"drawBounds",value:function(t,e,n){void 0===e&&(e=16777215),n&&t.save().scaleCanvas(n.scaleX,n.scaleY).rotateCanvas(n.rotation).translateCanvas(n.x,n.y);for(var i,r=this.hitAreas,o=0,s=r.length;o<s;o++)i=r[o],t.lineStyle(1,e).strokeRect(i.x,i.y,i.width,i.height);return n&&t.restore(),this}}])&&R(e.prototype,n),i&&R(e,i),t}(),L=function(t,e,n,i){var r=this.hitAreaManager.contains(n,i);!1!==r&&(this.parent.emit("".concat(t,"-").concat(r),e,n,i),this.parent.emit(t,r,e,n,i))},Y=function(){this.parent.on("pointerdown",function(t,e,n,i){L.call(this,"areadown",t,e,n)},this).on("pointerup",function(t,e,n,i){L.call(this,"areaup",t,e,n)},this)},N=l.a.NO_NEWLINE,X=l.a.RAW_NEWLINE,F=l.a.WRAPPED_NEWLINE,B=l.a.NO_WRAP,U=l.a.WORD_WRAP,W=(l.a.CHAR_WRAP,l.a.SPLITREGEXP),z=[],G=new v.a;G.newline=function(t,e,n){var i=this.pop();return null===i&&(i={}),i.text=t,i.width=e,i.newLineMode=n,i};var V=function(t,e,n,i,r){i<=0&&(n=B);var o=z;if(G.pushMultiple(o),!t||!t.length)return o;for(var s,a,u,h=t.split(W),l=0,c=h.length;l<c;l++)if(s=h[l],u=l===c-1?N:X,n!==B){var f,d;if(a=0===l?i-r:i,s.length<=100&&(w=e(s))<=a){o.push(G.newline(s,w,u));continue}for(var p,y="",v="",g=0,b=0,m=(f=n===U?s.split(" "):s).length;b<m;b++)d=f[b],n===U?(y+=d,b<m-1&&(y+=" ")):y+=d,(p=e(y))>a&&(0===b?o.push(G.newline("",0,F)):(o.push(G.newline(v,g,F)),y=d,n===U&&b<m-1&&(y+=" "),p=e(y)),a=i),v=y,g=p;o.push(G.newline(v,g,u))}else{var w=e(s);o.push(G.newline(s,w,u))}return o};function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var K=Phaser.Utils.Objects.GetValue,J=l.a.NO_WRAP,Z=l.a.NO_NEWLINE,q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e.parent,this.context=K(e,"context",null),this.canvas=this.context.canvas,this.parser=K(e,"parser",null),this.defatultStyle=K(e,"style",null),this.autoRound=!0,this.pensPool=K(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new I;var n=this.context;this.getTextWidth=function(t){return n.measureText(t).width}}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}},{key:"updatePenManager",value:function(t,e,n,i,r){if(void 0===r&&(r=this.penManager),r.freePens(),""===t)return r;for(var o,s,a,u,h,l=this.canvas,c=this.context,f=0,d=0,p=this.parser.splitText(t),y=0,v=p.length;y<v;y++)if(o=(u=this.parser.tagTextToProp(p[y],s)).plainText,(s=u.prop).img){var g=this.imageManager.getOuterWidth(s.img);n>0&&e!==J&&n<f+g&&(r.addNewLinePen(),d+=i,f=0),r.addImagePen(f,d,g,Object(x.a)(s)),f+=g}else if(""!==o){var b;this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,s)).buildFont(),a.syncFont(l,c),a.syncStyle(l,c);for(var m=0,w=(h=V(o,this.getTextWidth,e,n,f)).length;m<w;m++)b=h[m],r.addTextPen(b.text,f,d,b.width,Object(x.a)(s),b.newLineMode),b.newLineMode!==Z?(f=0,d+=i):f+=b.width;this.context.restore()}return r}},{key:"newPenManager",value:function(){return new M({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"getPlainText",value:function(t,e,n){var i;if(null==t)i=this.penManager.plainText;else{var r=this.parser.splitText(t,1);i="";for(var o=0,s=r.length;o<s;o++)i+=r[o]}return null==e&&null==n||(null==e&&(e=0),null==n&&(n=i.length),i=i.substring(e,n)),i}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var n=this.defatultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,e),e}},{key:"getText",value:function(t,e,n,i){if(null==t)return this.penManager.getSliceTagText(e,n,i);var r=this.tmpPenManager,o=this.defatultStyle;return this.updatePenManager(t,o.wrapMode,o.wrapWidth,o.lineHeight,r),r.getSliceTagText(e,n,i)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}},{key:"startXOffset",get:function(){return this.defatultStyle.strokeThickness/2}},{key:"startYOffset",get:function(){var t=this.defatultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return this.penManager.getMaxLineWidth()}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}}])&&H(e.prototype,n),i&&H(e,i),t}(),Q={setInteractive:Y};Object.assign(q.prototype,y,Q);var $=q;function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var et,nt=Phaser.Utils.Objects.GetValue,it=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureManager=e,this.images={}}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e){if("string"==typeof t)this._add(t,e);else if(Array.isArray(t))for(var n=0,i=(r=t).length;n<i;n++)this._add(r[n]);else{var r=t;for(var t in r)this._add(t,r[t])}return this}},{key:"_add",value:function(t,e){void 0===e&&(e={key:t});var n=e.key,i=e.frame,r=e.width,o=e.height;if(void 0===r||void 0===o){var s=this.textureManager.getFrame(n,i),a=s?s.cutWidth:0,u=s?s.cutHeight:0;void 0===r&&void 0===o?(r=a,o=u):void 0===r?r=a*(o/u):void 0===o&&(o=u*(r/a))}this.images[t]={key:n,frame:i,width:r,height:o,y:nt(e,"y",0),left:nt(e,"left",0),right:nt(e,"right",0)}}},{key:"remove",value:function(t){return this.images.hasOwnProperty(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.images.hasOwnProperty(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return!!this.getFrame(t)}}])&&tt(e.prototype,n),i&&tt(e,i),t}();function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=Phaser.DOM.AddToDOM,lt=Phaser.Display.Canvas.CanvasPool,ct=Phaser.GameObjects.GameObject,ft=Phaser.Utils.Objects.GetValue,dt=Phaser.DOM.RemoveFromDOM,pt=l.a.SPLITREGEXP,yt={},vt=function(t){function e(t,n,i,r,o,s,a){var u,l,c;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),void 0===i&&(i=0),l=this,(u=!(c=st(e).call(this,t,s))||"object"!==rt(c)&&"function"!=typeof c?at(l):c).renderer=t.sys.game.renderer,u.setPosition(n,i),u.setOrigin(0,0),u.initPipeline(),u.canvas=lt.create(at(u)),u.context=u.canvas.getContext("2d"),o&&o.hasOwnProperty("align")){var f=o.align;delete o.align,o.halign=f}return u.style=new h.a(at(u),o),u.autoRound=!0,u._text=void 0,u.padding={left:0,right:0,top:0,bottom:0},u.width=1,u.height=1,u.dirty=!1,0===u.style.resolution&&(u.style.resolution=t.sys.game.config.resolution),u._crop=u.resetCropObject(),u.texture=t.sys.textures.addCanvas(null,u.canvas,!0),u.frame=u.texture.get(),u.frame.source.resolution=u.style.resolution,u.renderer&&u.renderer.gl&&(u.renderer.deleteTexture(u.frame.source.glTexture),u.frame.source.glTexture=null),yt.hasOwnProperty(s)||(yt[s]=new v.a),u.canvasText=new $({parent:at(u),context:u.context,parser:a,style:u.style,pensPool:yt[s]}),o&&o.padding&&u.setPadding(o.padding),u.setText(r),t.sys.game.events.on("contextrestored",function(){this.dirty=!0},at(u)),u}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,ct),n=e,(i=[{key:"initRTL",value:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",ht(this.canvas,this.scene.sys.canvas),this.originX=1)}},{key:"setText",value:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}},{key:"setStyle",value:function(t){return this.style.setStyle(t)}},{key:"setFont",value:function(t){return this.style.setFont(t)}},{key:"setFontFamily",value:function(t){return this.style.setFontFamily(t)}},{key:"setFontSize",value:function(t){return this.style.setFontSize(t)}},{key:"setFontStyle",value:function(t){return this.style.setFontStyle(t)}},{key:"setFixedSize",value:function(t,e){return this.style.setFixedSize(t,e)}},{key:"setBackgroundColor",value:function(t){return this.style.setBackgroundColor(t)}},{key:"setFill",value:function(t){return this.style.setFill(t)}},{key:"setColor",value:function(t){return this.style.setColor(t)}},{key:"setStroke",value:function(t,e){return this.style.setStroke(t,e)}},{key:"setShadow",value:function(t,e,n,i,r,o){return this.style.setShadow(t,e,n,i,r,o)}},{key:"setShadowOffset",value:function(t,e){return this.style.setShadowOffset(t,e)}},{key:"setShadowColor",value:function(t){return this.style.setShadowColor(t)}},{key:"setShadowBlur",value:function(t){return this.style.setShadowBlur(t)}},{key:"setShadowStroke",value:function(t){return this.style.setShadowStroke(t)}},{key:"setShadowFill",value:function(t){return this.style.setShadowFill(t)}},{key:"setWrapMode",value:function(t){return this.style.setWrapMode(t)}},{key:"setWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setLineSpacing",value:function(t){return this.style.setLineSpacing(t)}},{key:"setPadding",value:function(t,e,n,i){if("object"===rt(t)){var r=t,o=ft(r,"x",null);null!==o?(t=o,n=o):(t=ft(r,"left",0),n=ft(r,"right",t));var s=ft(r,"y",null);null!==s?(e=s,i=s):(e=ft(r,"top",0),i=ft(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===i&&(i=e);return this.padding.left=t,this.padding.top=e,this.padding.right=n,this.padding.bottom=i,this.updateText(!1)}},{key:"setResolution",value:function(t){return this.style.setResolution(t)}},{key:"setMaxLines",value:function(t){return this.style.setMaxLines(t)}},{key:"updateText",value:function(t){void 0===t&&(t=!0);var e=this.canvasText,n=this.style;t&&e.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var i,r,o=this.padding;0===n.fixedWidth?(this.width=e.linesWidth+o.left+o.right,i=e.linesWidth):(this.width=n.fixedWidth,(i=this.width-o.left-o.right)<e.linesWidth&&(i=e.linesWidth)),0===n.fixedHeight?(this.height=e.linesHeight+o.top+o.bottom,r=e.linesHeight):(this.height=n.fixedHeight,(r=this.height-o.top-o.bottom)<e.linesHeight&&(r=e.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var u=n.resolution;s*=u,a*=u,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var h=this.canvas,l=this.context;h.width!==s||h.height!==a?(h.width=s,h.height=a,this.frame.setSize(s,a)):l.clearRect(0,0,s,a),l.save(),l.scale(u,u),e.draw(o.left,o.top,i,r),l.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(h,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this}},{key:"getTextMetrics",value:function(){return this.style.getTextMetrics()}},{key:"toJSON",value:function(){var t=gt.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}},{key:"preDestroy",value:function(){this.style.rtl&&dt(this.canvas),lt.remove(this.canvas),this.canvasText.destroy()}},{key:"setInteractive",value:function(t,e,n){return ct.prototype.setInteractive.call(this,t,e,n),this.canvasText.setInteractive(),this}},{key:"getWrappedText",value:function(t,e,n){return(t=this.canvasText.getText(t,e,n,!0)).split(pt)}},{key:"getPlainText",value:function(t,e,n){return this.canvasText.getPlainText(t,e,n)}},{key:"getText",value:function(t,e,n){return this.canvasText.getText(t,e,n,!1)}},{key:"getSubString",value:function(t,e,n){return this.getText(t,e,n)}},{key:"copyPenManager",value:function(t){return this.canvasText.copyPenManager(t)}},{key:"getPenManager",value:function(t,e){return this.canvasText.getPenManager(t,e)}},{key:"setSize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"resize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"addImage",value:function(t,e){return this.imageManager.add(t,e),this}},{key:"drawAreaBounds",value:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}},{key:"text",set:function(t){this.setText(t)},get:function(){return this._text}},{key:"lineSpacing",set:function(t){this.setLineSpacing(t)},get:function(){return this.style.lineSpacing}},{key:"imageManager",get:function(){return t=this.scene.textures,void 0===et&&(et=new it(t)),et;var t}}])&&ot(n.prototype,i),r&&ot(n,r),e}(),gt=Phaser.GameObjects.Components;Phaser.Class.mixin(vt,[gt.Alpha,gt.BlendMode,gt.ComputedSize,gt.Crop,gt.Depth,gt.Flip,gt.GetBounds,gt.Mask,gt.Origin,gt.Pipeline,gt.ScrollFactor,gt.Tint,gt.Transform,gt.Visible,u]);e.a=vt},function(t,e,n){"use strict";e.a=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask}},function(t,e,n){"use strict";var i=n(3);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(n),this.boot()}var e,n,a;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setScaleRange(s(t,"start",void 0),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this.setEase(o(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=u[t]),this.mode=t,this}},{key:"setScaleRange",value:function(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=o(t,"x",this.gameObject.scaleX),this.scaleStart.y=o(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=o(e,"x",this.scaleStart.x),this.scaleEnd.y=o(e,"y",this.scaleStart.y)),this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.sound.setScale(this.scaleEnd.x,this.scaleEnd.y),this.complete(),this):(this.gameObject.setScale(this.scaleStart.x,this.scaleStart.y),this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:this.scaleEnd.x,scaleY:this.scaleEnd.y,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&r(e.prototype,n),a&&r(e,a),t}(),u={stop:0,destroy:1,yoyo:2},h=a;e.a=h},function(t,e,n){"use strict";var i=n(3);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(n),this.boot()}var e,n,a;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setAlphaRange(s(t,"start",this.gameObject.alpha),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=u[t]),this.mode=t,this}},{key:"setAlphaRange",value:function(t,e){return this.alphaStart=t,this.alphaEnd=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.setAlpha(this.alphaEnd),this.complete(),this):(this.gameObject.setAlpha(this.alphaStart),this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:this.alphaEnd,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&r(e.prototype,n),a&&r(e,a),t}(),u={stop:0,destroy:1,yoyo:2},h=a;e.a=h},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.GameObjects.Graphics,l=function(t){function e(t,n,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),"string"==typeof n&&(shaep=c[n]),void 0===i&&(i=0),(r=o(this,a(e).call(this,t.scene))).parent=t,r.shape=n,r.padding=i,r.setPosition().resize(),r}var n,i,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(i=[{key:"destroy",value:function(){return this.parent=void 0,s(a(e.prototype),"destroy",this).call(this),this}},{key:"setPosition",value:function(t,n){var i=this.parent;return void 0===t&&(t=i.x),void 0===n&&(n=i.y),s(a(e.prototype),"setPosition",this).call(this,t,n),this}},{key:"resize",value:function(t,e,n){var i=this.parent;if(void 0===t&&(t=i.width),void 0===e&&(e=i.height),void 0===n&&(n=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===n)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,e)/2;this.fillCircle(0,0,r+n);break;default:this.fillRect(-t*i.originX-n,-e*i.originY-n,t+2*n,e+2*n)}return this.widthSave=t,this.heightSave=e,this.paddingSave=n,this}}])&&r(n.prototype,i),l&&r(n,l),e}(),c={rectangle:0,circle:1};e.a=l},,,,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=Phaser.Input.Keyboard.Key,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cursorKeys={up:new r,down:new r,left:new r,right:new r},this.noKeyDown=!0}var e,n,o;return e=t,(n=[{key:"createCursorKeys",value:function(){return this.cursorKeys}},{key:"setKeyState",value:function(t,e){var n=this.cursorKeys[t];return n.enabled?(e&&(this.noKeyDown=!1),n.isDown!==e&&(s.timeDown=Date.now(),e?n.onDown(s):n.onUp(s)),this):this}},{key:"clearAllKeysState",value:function(){for(var t in this.noKeyDown=!0,this.cursorKeys)this.setKeyState(t,!1);return this}},{key:"getKeyState",value:function(t){return this.cursorKeys[t]}},{key:"upKeyDown",get:function(){return this.cursorKeys.up.isDown}},{key:"downKeyDown",get:function(){return this.cursorKeys.down.isDown}},{key:"leftKeyDown",get:function(){return this.cursorKeys.left.isDown}},{key:"rightKeyDown",get:function(){return this.cursorKeys.right.isDown}},{key:"anyKeyDown",get:function(){return!this.noKeyDown}}])&&i(e.prototype,n),o&&i(e,o),t}(),s={altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,location:0};e.a=o},function(t,e,n){"use strict";var i=n(35),r=n(30),o=n(18),s=Phaser.Utils.Objects.GetValue,a=function(t,e,n){var o,a=s(n,"argsConvert",void 0),h=s(n,"argsConvertScope",void 0),l=t[0];if(u=Object(i.a)(u,t,1),a){!0===a&&(a=r.a,h=void 0);for(var c=0,f=u.length;c<f;c++)u[c]=h?a.call(h,u[c],t):a(u[c],t)}return"string"==typeof l?null==(o=e[l])&&(o=s(e,l,null)):o=l,o.apply(e,u)},u=[],h=function t(e,n,i){var r,u=s(i,"reverse",!1);if(Object(o.a)(e[0]))if(u)for(h=(l=e.length)-1;h>=0;h--)r=t(e[h],n,i);else for(var h=0,l=e.length;h<l;h++)r=t(e[h],n,i);else r=a(e,n,i);return r};e.a=h},function(t,e,n){"use strict";e.a=function(t,e,n){for(var i,r=t.points,o=0,s=r.length;o<s;o++)(i=r[o]).x+=e,i.y+=n;return t}},function(t,e,n){var i=new(n(111))({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=i},,,function(t,e){var n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,i,r,o){if(0!==e.width&&0!==e.height){var s=e.frame,a=s.width,u=s.height,h=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,u,e.x,e.y,a/e.style.resolution,u/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,u,h(e._tintTL,r.alpha*e._alphaTL),h(e._tintTR,r.alpha*e._alphaTR),h(e._tintBL,r.alpha*e._alphaBL),h(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}}},function(t,e){t.exports=function(t,e,n,i,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,i,r)}},function(t,e,n){"use strict";var i=n(0),r=n.n(i),o=n(7);e.a={enableData:function(){return void 0===this.data&&(this.data={}),this},getData:function(t,e){return this.enableData(),void 0===t?this.data:r()(this.data,t,e)},setData:function(t,e){return this.enableData(),this.data[t]=e,this},incData:function(t,e,n){return void 0===n&&(n=0),this.enableData(),this.setData(t,this.getData(t,n)+e),this},mulData:function(t,e,n){return void 0===n&&(n=0),this.enableData(),this.setData(t,this.getData(t,n)*e),this},clearData:function(){return this.data&&Object(o.a)(this.data),this}}},function(t,e,n){"use strict";var i=n(10),r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,d=Phaser.Math.Linear,p=Phaser.Math.Angle.Between,y=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,h(e).call(this,t,n))).gameObject=t,i.scene=Object(r.a)(t),i.resetFromJSON(n),i.boot(),i}var n,o,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=c(t,"isRunning",!1),this.setEnable(c(t,"enable",!0)),this.timeScale=c(t,"timeScale",1),this.setSpeed(c(t,"speed",400)),this.setRotateToTarget(c(t,"rotateToTarget",!1)),this.targetX=c(t,"targetX",0),this.targetY=c(t,"targetY",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,speed:this.speed,rotateToTarget:this.rotateToTarget,targetX:this.targetX,targetY:this.targetY,tickingMode:this.tickingMode}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToTarget",value:function(t){return this.rotateToTarget=t,this}},{key:"moveTo",value:function(t,n){if("number"!=typeof t){var i=t;t=c(i,"x",void 0),n=c(i,"y",void 0)}return null==t||null==n?this:(this.targetX=t,this.targetY=n,u(h(e.prototype),"start",this).call(this),this)}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var n=this.gameObject,i=n.x,r=n.y,o=this.targetX,s=this.targetY;if(i===o&&r===s)return this.complete(),this;if(0===this.speed||0===e||0===this.timeScale)return this;var a,u,h=e*this.timeScale/1e3,l=this.speed*h,c=f(i,r,o,s);if(l<c){var y=l/c;a=d(i,o,y),u=d(r,s,y)}else a=o,u=s;return n.setPosition(a,u),this.rotateToTarget&&(n.rotation=p(i,r,a,u)),this}}])&&s(n.prototype,o),y&&s(n,y),e}();e.a=y},function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t}},function(t,e){t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},,function(t,e){t.exports=function(t,e,n){return Math.max(e,Math.min(n,t))}},,,function(t,e,n){"use strict";var i=Math.sqrt(3);e.a=function(t){return 0===t.type?2*t.size:i*t.size}},function(t,e,n){"use strict";var i=Math.sqrt(3);e.a=function(t){return 0===t.type?i*t.size:2*t.size}},,function(t,e,n){"use strict";var i=n(36),r=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,d=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,n))),u={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit("".concat(s.tapsCount,"tap"),s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,d,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(d=[{key:"resetFromJSON",value:function(t){u(h(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(c(t,"time",250)),this.setTapInterval(c(t,"tapInterval",200)),this.setDragThreshold(c(t,"threshold",9)),this.setTapOffset(c(t,"tapOffset",10));var n=c(t,"taps",void 0);return void 0!==n?this.setTaps(n):(this.setMaxTaps(c(t,"maxTaps",void 0)),this.setMinTaps(c(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case p:this.state=y;break;case y:var t=this.lastPointer;f(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=v,this.state=y);break;case v:this.state=y}}},{key:"onDragEnd",value:function(){this.state===y&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=v))}},{key:"onDrag",value:function(){this.state!==p&&this.pointer.getDistance()>this.dragThreshold&&(this.state=p)}},{key:"preUpdate",value:function(t,e){if(this.state===y){var n=this.lastPointer;if(n.isDown)t-n.downTime>this.holdTime&&(this.state=p);else t-n.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=v:this.state=p)}}},{key:"postUpdate",value:function(t,e){this.state===v&&(this.state=p)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===v}}])&&s(n.prototype,d),g&&s(n,g),e}(),p="IDLE",y="BEGIN",v="RECOGNIZED";e.a=d},function(t,e,n){"use strict";var i=n(36),r=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,n))),u={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=d},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(f=[{key:"resetFromJSON",value:function(t){return u(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",9)),this.setMinHoldTime(c(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?y:p}},{key:"onDragEnd",value:function(){this.state=d}},{key:"onDrag",value:function(){this.state!==d&&this.pointer.getDistance()>this.dragThreshold&&(this.state=d)}},{key:"preUpdate",value:function(t,e){this.state===p&&(t-this.pointer.downTime>=this.holdTime&&(this.state=y))}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===y}}])&&s(n.prototype,f),v&&s(n,v),e}(),d="IDLE",p="BEGIN",y="RECOGNIZED";e.a=f},function(t,e,n){"use strict";var i=n(124),r=n(114),o=n(115),s=[[[[1,0],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1]],[[1,0],[1,1],[0,1],[-1,0],[0,-1],[1,-1]]],[[[1,0],[1,1],[0,1],[-1,0],[0,-1],[1,-1]],[[1,0],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1]]],[[[1,0],[0,1],[-1,0],[-1,-1],[0,-1],[1,-1]],[[1,1],[0,1],[-1,1],[-1,0],[0,-1],[1,0]]],[[[1,1],[0,1],[-1,1],[-1,0],[0,-1],[1,0]],[[1,0],[0,1],[-1,0],[-1,-1],[0,-1],[1,-1]]]],a=n(6),u=a.a.ODD_R,h=a.a.EVEN_R,l=a.a.ODD_Q,c=a.a.EVEN_Q,f=function(t,e,n){var i;switch(t){case u:case h:i=1&n;break;case l:case c:i=1&e}return i},d=function(t,e,n){var i=f(this.mode,t,e);return t+s[this.mode][i][n][0]},p=function(t,e,n){var i=f(this.mode,t,e);return e+s[this.mode][i][n][1]},y=function(t){var e,n,i,r={};for(var o in t)n=(e=t[o])[0],i=e[1],r.hasOwnProperty(n)||(r[n]={}),r[n][i]=parseInt(o);return r},v=[[y(s[0][0]),y(s[0][1])],[y(s[1][0]),y(s[1][1])],[y(s[2][0]),y(s[2][1])],[y(s[3][0]),y(s[3][1])]],g=function(t,e){var n=f(this.mode,t.x,t.y),i=v[this.mode][n],r=e.x-t.x,o=e.y-t.y;if(i.hasOwnProperty(r)){var s=i[r];if(s.hasOwnProperty(o))return s[o]}return null},b=function(t,e,n){return(n+3)%6},m=a.a.ODD_R,w=a.a.EVEN_R,k=a.a.ODD_Q,x=a.a.EVEN_Q,O={},S=function(t,e,n,i){void 0===i?i={}:!0===i&&(i=O);var r=t.x+e,o=t.y+n;switch(this.mode){case m:0!=(1&n)&&0==(1&o)&&(r+=1);break;case w:0!=(1&n)&&0==(1&o)&&(r-=1);break;case k:0!=(1&e)&&0==(1&r)&&(o+=1);break;case x:0!=(1&e)&&0==(1&r)&&(o-=1)}return i.x=r,i.y=o,i},T=n(8),_=a.a.ODD_R,P=a.a.EVEN_R,C={},j=function(t,e,n){void 0===n?n={}:!0===n&&(n=C);var i,r,o,s=Object(T.a)(this.mode,t.x,t.y,!0),a=this.mode===_||this.mode===P;return 1&e&&(a?(i=s.y,r=s.x,o=s.z):(i=-s.x,r=-s.z,o=-s.y),s.x=i,s.y=r,s.z=o),2&e&&(a?(i=-s.y,r=-s.x,o=-s.z):(i=s.x,r=s.z,o=s.y)),Object(T.b)(this.mode,i,r,o,n),n},E=n(37),M=n.n(E),R={},D=function(t,e,n){void 0===n?n={}:!0===n&&(n=R),e=M()(e,0,5);var i,r,o,s=Object(T.a)(this.mode,t.x,t.y,!0);switch(e){case 1:i=-s.z,r=-s.x,o=-s.y;break;case 2:i=s.y,r=s.z,o=s.x;break;case 3:i=-s.x,r=-s.y,o=-s.z;break;case 4:i=s.z,r=s.x,o=s.y;break;case 5:i=-s.y,r=-s.z,o=-s.x;break;default:i=s.x,r=s.y,o=s.z}return Object(T.b)(this.mode,i,r,o,n),n},A={},I={},L=function(t,e,n){Object(T.a)(this.mode,t.x,t.y,A),Object(T.a)(this.mode,e.x,e.y,I);var i=I.x-A.x,r=I.y-A.y,o=I.z-A.z;return(Math.abs(i)+Math.abs(r)+Math.abs(o))/2},Y={},N={},X=function(t,e,n){var i;void 0===n&&(n=!0),Object(T.a)(this.mode,t.x,t.y,Y),Object(T.a)(this.mode,e.x,e.y,N);var r=N.x-Y.x,o=N.y-Y.y,s=N.z-Y.z;return i=0===s?r>0?0:3:0===r?s>0?1:4:0===o?s>0?2:5:r>0&&o<0&&s>0?0+s/-o:r<0&&o<0&&s>0?1+-o/s:r<0&&o>0&&s>0?2+o/-r:r<0&&o>0&&s<0?3+-s/o:r>0&&o>0&&s<0?4+r/-s:5+-o/r,n&&(i=Math.round(i)),i},F=n(116),B=n(122),U=n(32),W=Object(U.a)(6),z={},G={},V=function(t,e,n){var i;return void 0===n?n=Object(U.a)(6):!0===n&&(n=W),void 0===t?(z.x=0,z.y=0):this.getWorldXY(t,e,z),void 0!==this.size?i=this.size:((i=G).width=this.width,i.height=this.height),Object(B.a)(z.x,z.y,i,this.staggeraxis,n),n},H=function(t,e,n){void 0===n&&(n=[]);var i,r,o,s=Object(T.a)(this.mode,t.x,t.y,!0),a=s.x,u=s.y,h=s.z;for(o=e,i=0;i>=-e;i--)r=-i-o,n.push(Object(T.b)(this.mode,a+i,u+r,h+o));for(i=-e,r=1;r<=e;r++)o=-i-r,n.push(Object(T.b)(this.mode,a+i,u+r,h+o));for(r=e,o=-1;o>=-e;o--)i=-r-o,n.push(Object(T.b)(this.mode,a+i,u+r,h+o));for(o=-e,i=1;i<=e;i++)r=-i-o,n.push(Object(T.b)(this.mode,a+i,u+r,h+o));for(i=e,r=-1;r>=-e;r--)o=-i-r,n.push(Object(T.b)(this.mode,a+i,u+r,h+o));for(r=-e,o=1;o<=e-1;o++)i=-r-o,n.push(Object(T.b)(this.mode,a+i,u+r,h+o));return n};function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Z(this,q(e).call(this,t))).sides=6,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,i["a"]),n=e,(r=[{key:"allDirections",get:function(){return tt}},{key:"halfDirections",get:function(){return et}}])&&J(n.prototype,r),o&&J(n,o),e}(),tt=[0,1,2,3,4,5],et=[0,1,2],nt={saveOrigin:r.a,restoreOrigin:o.a,getNeighborTileX:d,getNeighborTileY:p,getNeighborTileDirection:g,getOppositeDirection:b,offset:S,mirror:j,rotate:D,getDistance:L,directionBetween:X,directionNormalize:F.a,getGridPoints:V,ringToTileXYArray:H};Object.assign($.prototype,nt);e.a=$},function(t,e,n){"use strict";var i=n(125),r=n(114),o=n(115),s=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,1],[-1,-1],[1,-1]],a=s,u=[[[0,1],[-1,1],[-1,-1],[0,-1],[0,2],[-1,0],[0,-2],[1,0]],[[1,1],[0,1],[0,-1],[1,-1],[0,2],[-1,0],[0,-2],[1,0]]],h=function(t,e,n){switch(this.mode){case 0:t+=s[n][0];break;case 1:t+=a[n][0];break;case 2:t+=u[1&e][n][0]}return t},l=function(t,e,n){switch(this.mode){case 0:e+=s[n][1];break;case 1:e+=a[n][1];break;case 2:e+=u[1&e][n][1]}return e},c=function(t){var e,n,i,r={};for(var o in t)n=(e=t[o])[0],i=e[1],r.hasOwnProperty(n)||(r[n]={}),r[n][i]=parseInt(o);return r},f=c(s),d=f,p=[c(u[0]),c(u[1])],y=function(t,e){var n;switch(this.mode){case 0:n=f;break;case 1:n=d;break;case 2:n=p[1&tileY]}var i=e.x-t.x,r=e.y-t.y;if(n.hasOwnProperty(i)){var o=n[i];if(o.hasOwnProperty(r))return o[r]}return null},v={0:2,1:3,2:0,3:1,4:6,5:7,6:4,7:5},g=function(t,e,n){return v[n]},b={},m=function(t,e,n,i){void 0===i?i={}:!0===i&&(i=b);var r=t.x+e,o=t.y+n;return i.x=r,i.y=o,i},w={},k=function(t,e,n){return void 0===n?n={}:!0===n&&(n=w),n.x=1&e?-t.x:t.x,n.y=2&e?-t.y:t.y,n},x=n(37),O=n.n(x),S={},T=function(t,e,n){var i,r;switch(void 0===n?n={}:!0===n&&(n=S),e=O()(e,0,3)){case 1:i=-t.y,r=t.x;break;case 2:i=-t.x,r=-t.y;break;case 3:i=t.y,r=-t.x;break;default:i=t.x,r=t.y}return n.x=i,n.y=r,n},_=function(t,e,n){var i=e.x-t.x,r=e.y-t.y;return n?Math.abs(i)+Math.abs(r):Math.sqrt(i*i+r*r)},P=n(44),C=n.n(P),j=n(42),E=n.n(j),M=function(t,e,n){var i;switch(void 0===n&&(n=!0),this.mode){case 0:case 1:if(t.y===e.y)i=e.x>=t.x?0:2;else if(t.x===e.x)i=e.y>=t.y?1:3;else if(4===this.directions)(s=E()(C()(t.x,t.y,e.x,e.y)))<0&&(s+=360),i=s/90,n&&(i=Math.round(i));else{var r=e.x-t.x,o=e.y-t.y;if(r===o)i=r>0?4:6;else if(r===-o)i=r>0?7:5;else{var s;(s=E()(Math.atan2(o,r)))<0&&(s+=360);var a=s/45;n&&(a=Math.round(a)),i=a>=0&&a<1?a:a>=1&&a<2?a+3:a>=2&&a<3?a-1:a>=3&&a<4?a+2:a>=4&&a<5?a-2:a>=5&&a<6?a+1:a>=6&&a<7?a-3:a}}}return i===this.directions&&(i=0),i},R=n(116),D=n(32),A=function(t,e,n,i,r,o){void 0===o&&(o=Object(D.a)(4));var s=n/2,a=i/2;return 0===r?(o[0].x=t+s,o[0].y=e-a,o[1].x=t+s,o[1].y=e+a,o[2].x=t-s,o[2].y=e+a,o[3].x=t-s,o[3].y=e-a):(o[0].x=t+s,o[0].y=e,o[1].x=t,o[1].y=e+a,o[2].x=t-s,o[2].y=e,o[3].x=t,o[3].y=e-a),o},I={},L=Object(D.a)(4),Y=function(t,e,n){void 0===n?n=Object(D.a)(4):!0===n&&(n=L),void 0===t?(I.x=0,I.y=0):this.getWorldXY(t,e,I);var i=0===this.mode?0:1;return A(I.x,I.y,this.width,this.height,i,n),n},N=function(t,e,n){var i,r;for(void 0===n&&(n=[]),i=e,r=-e;r<=e;r++)n.push(m(t,i,r));for(r=e,i=e-1;i>=-e;i--)n.push(m(t,i,r));for(i=-e,r=e-1;r>=-e;r--)n.push(m(t,i,r));for(r=-e,i=1-e;i<=e-1;i++)n.push(m(t,i,r));return n};function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function B(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=B(this,U(e).call(this,t))).sides=4,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,i["a"]),n=e,(r=[{key:"allDirections",get:function(){return 4===this.directions?G:V}},{key:"halfDirections",get:function(){return 4===this.directions?H:K}}])&&F(n.prototype,r),o&&F(n,o),e}(),G=[0,1,2,3],V=[0,1,2,3,4,5,6,7],H=[0,1],K=[0,1,4,5],J={saveOrigin:r.a,restoreOrigin:o.a,getNeighborTileX:h,getNeighborTileY:l,getNeighborTileDirection:y,getOppositeDirection:g,offset:m,mirror:k,rotate:T,getDistance:_,directionBetween:M,directionNormalize:R.a,getGridPoints:Y,ringToTileXYArray:N};Object.assign(z.prototype,J);e.a=z},,,,function(t,e,n){"use strict";e.a=function(t){for(var e in t)return!1;return!0}},function(t,e,n){t.exports=r;var i=n(33).EventEmitter;function r(){i.call(this)}n(16)(r,i),r.Readable=n(39),r.Writable=n(104),r.Duplex=n(105),r.Transform=n(106),r.PassThrough=n(107),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(l(),0===i.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",h),t.removeListener("error",h),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",h),t.on("error",h),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=h(t),i=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),u=0,l=s>0?i-4:i,c=0;c<l;c+=4)e=r[t.charCodeAt(c)]<<18|r[t.charCodeAt(c+1)]<<12|r[t.charCodeAt(c+2)]<<6|r[t.charCodeAt(c+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=r[t.charCodeAt(c)]<<2|r[t.charCodeAt(c+1)]>>4,a[u++]=255&e);1===s&&(e=r[t.charCodeAt(c)]<<10|r[t.charCodeAt(c+1)]<<4|r[t.charCodeAt(c+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,h=u>>1,l=-7,c=n?r-1:0,f=n?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+c],c+=f,l-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=h}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,h=8*o-r-1,l=(1<<h)-1,c=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*u-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[n+d]=255&s,d+=p,s/=256,h-=8);t[n+d-p]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){"use strict";var i=n(24).Buffer,r=n(99);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r,o=i.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,r=a,e.copy(n,r),a+=s.data.length,s=s.next;return o},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(101),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(17))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,h={},l=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return h[u]=r,i(u),u++},f.clearImmediate=d}function d(t){delete h[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=h[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(17),n(20))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(17))},function(t,e,n){"use strict";t.exports=o;var i=n(50),r=n(19);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(16),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(40)},function(t,e,n){t.exports=n(13)},function(t,e,n){t.exports=n(39).Transform},function(t,e,n){t.exports=n(39).PassThrough},function(t,e,n){"use strict";var i=n(10),r=n(3),o=n(56);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Phaser.Utils.Objects.GetValue,d=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=u(this,l(e).call(this,t,n))).parent=t,i.scene=Object(r.a)(t),i.resetFromJSON(n),i.boot(),i}var n,s,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i["a"]),n=e,(s=[{key:"resetFromJSON",value:function(t){return this.isRunning=f(t,"isRunning",!1),this.timeScale=f(t,"timeScale",1),this.now=f(t,"now",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}},{key:"boot",value:function(){h(l(e.prototype),"boot",this).call(this);var t=Object(o.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){h(l(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){h(l(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){h(l(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"start",value:function(t){return void 0===t&&(t=0),this.now=t,h(l(e.prototype),"start",this).call(this),this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"update",value:function(t,e){return this.isRunning&&0!==this.timeScale?(this.now+=e*this.timeScale,this):this}}])&&a(n.prototype,s),d&&a(n,d),e}();e.a=d},function(t,e,n){"use strict";var i=n(4),r=n(7);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne,u=Phaser.Math.Distance.Between,h=Phaser.Math.Angle.Between,l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.input.manager.pointersTotal-1;i<2&&e.input.addPointer(2-i),this.scene=e,this.setEventEmitter(s(n,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setEnable(s(t,"enable",!0)),this.bounds=s(t,"bounds",void 0),this.tracerState=f,this.pointers.length=0,Object(r.a)(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Object(r.a)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t){if(this.enable&&(2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t)))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case f:this.tracerState=d,this.onDrag1Start();break;case d:this.tracerState=p,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],a(this.pointers,e),this.tracerState){case d:this.tracerState=f,this.onDrag1End();break;case p:this.tracerState=d,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=-1!==this.pointers.indexOf(t);if(!n&&e);else if(n&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case d:this.onDrag1();break;case p:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===p&&this.onDrag2End(),this.pointers.length=0,Object(r.a)(this.movedState),this.tracerState=f,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0],e=this.pointers[1];return u(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0],e=this.pointers[1];return h(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,n=t.prevPosition;c.x=e.x-n.x,c.y=e.y-n.y}else c.x=0,c.y=0;return c}},{key:"centerX",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==p)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==p)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&o(e.prototype,n),i&&o(e,i),t}();Object.assign(l.prototype,i.a);var c={},f=0,d=1,p=2,y="IDLE";e.a=l},function(t,e,n){"use strict";var i,r,o,s,a=n(145),u=n(22),h=n(38),l=n(27),c=h.a.uidKey,f=function(t){return Object(l.a)(t)?t:Object(u.a)(t)[c]},d=function(t){if(this.infinityMode)return this;if(void 0===this.width||this.width<=t)return this.width=t,this;var e,n,i;for(e=t;e<this.width;e++)for(n=0;n<this.height;n++)for(i in this.boardData.getUID(e,n))this.RemoveChess(!1,e,n,i);return this.width=t,this},p=function(t){if(this.infinityMode)return this;if(void 0===this.height||this.height<=t)return this.height=t,this;var e,n,i;for(n=t;n<this.height;n++)for(e=0;e<this.width;e++)for(i in this.boardData.getUID(e,n))this.RemoveChess(!1,e,n,i);return this.height=t,this},y=function(t,e){return this.tileXYToWorldXY(t,e,!0).x},v=function(t,e){return this.tileXYToWorldXY(t,e,!0).y},g=function(t,e,n){return this.grid.getWorldXY(t,e,n)},b=function(t,e){return this.worldXYToTileXY(t,e,!0).x},m=function(t,e){return this.worldXYToTileXY(t,e,!0).y},w=function(t,e,n){return this.grid.getTileXY(t,e,n)},k={},x=function(t,e,n){return void 0===n?n={}:!0===n&&(n=k),this.worldXYToTileXY(t,e,n),this.tileXYToWorldXY(n.x,n.y,n),n},O=n(44),S=n.n(O),T=function(t,e){var n=this.tileXYToWorldXY(t.x,t.y,!0),i=n.x,r=n.y,o=(n=this.tileXYToWorldXY(e.x,e.y,!0)).x,s=n.y;return S()(i,r,o,s)},_=n(130),P=n.n(_),C=n(179),j=n.n(C),E=(Math.PI,2*Math.PI),M=function(t,e,n,i){var r=this.chessToTileXYZ(t),o=this.chessToTileXYZ(e),s=this.angleBetween(r,o);s=P()(s);var a=Math.abs(s-n);a=Math.min(a,E-a);var u=i/2;return j()(a,u)||a<u},R=function(t,e){var n=this.wrapMode,i=this.infinityMode;this.wrapMode=!1,this.infinityMode=!0;var r=this.getNeighborTileXY(t,e,!0);return this.wrapMode=n,this.infinityMode=i,this.angleBetween(t,r)},D=function(t,e,n){if(this.infinityMode&&void 0===n)return!0;var i=this.wroldXYToTileXY(t,e,!0);return this.contains(i.x,i.y,n)},A=function(t,e,n){if(void 0===t)for(var i=this.getAllChess(),r=0,o=i.length;r<o;r++)this.gridAlign(i[r]);else{if(Object(l.a)(t)&&(t=this.uidToChess(t)),void 0===e){var s=this.chessToTileXYZ(t);e=s.x,n=s.y}this.tileXYToWorldXY(e,n,t)}return this},I=n(147),L=n.n(I),Y=n(149),N=n.n(Y),X=n(31),F=function(t,e,n,i,r){if("number"!=typeof t){var o=t;r=e,t=o.x1,e=o.y1,n=o.x2,i=o.y2}void 0===r&&(r=[]);for(var s,a,u,h,l,c=L()(t,e,n,i),f=Math.min(this.grid.cellWidth,this.grid.cellHeight),d=Math.ceil(c/(f/4)),p=0;p<=d;p++)s=p/d,a=N()(t,n,s),u=N()(e,i,s),l=this.worldXYToTileXY(a,u),this.contains(l.x,l.y)&&(h&&Object(X.a)(h,l)||(r.push(l),h=l));return r},B=n(180),U=n.n(B),W=function(t,e){return this.shapeToTileXYArray(t,U.a,e)},z=n(181),G=n.n(z),V=function(t,e){return this.shapeToTileXYArray(t,G.a,e)},H=n(182),K=n.n(H),J=n(183),Z=n.n(J),q=function(t,e){return i=Z()(t,i),this.shapeToTileXYArray(t,K.a,i,e)},Q=n(141),$=n.n(Q),tt=function(t,e){return this.shapeToTileXYArray(t,$.a,e)},et=n(184),nt=n.n(et),it=function(t,e){return Sthis.shapeToTileXYArray(t,nt.a,e)},rt=n(18),ot=n(140),st=n.n(ot),at=n(78),ut=n.n(at),ht=function(t,e){var n=t.left,i=t.top,r=t.right,o=t.bottom;return e.setTo(n,i,r-n,o-i),e},lt=function(t,e,n,i){Object(rt.a)(n)&&(i=n,n=void 0),void 0===n&&(void 0===r&&(r=new st.a),n=ht(t,r)),void 0===i&&(i=[]),o=this.worldXYToTileXY(n.left,n.top,o),s=this.worldXYToTileXY(n.right,n.bottom,s);var a,u=o.x-1,h=o.y-1,l=s.x+1,c=s.y+1;this.infinityMode||(u=ut()(u,0,this.width-1),h=ut()(h,0,this.height-1),l=ut()(l,0,this.width-1),c=ut()(c,0,this.height-1));for(var f=u;f<=l;f++)for(var d=h;d<=c;d++)e(t,(a=this.tileXYToWorldXY(f,d,!0)).x,a.y)&&i.push({x:f,y:d});return i},ct=function(t){return null==t?null:this.boardData.exists(t)?h.a.get(t).parent:null},ft=function(t,e,n,i,r){if(!this.contains(e,n))return this;void 0===r&&(r=!0);var o=this.chessToTileXYZ(t);if(void 0===i&&(i=o?o.z:0),o&&o.x===e&&o.y===n&&o.z===i)return this;var s=this.tileXYZToChess(e,n,i);return s&&this.emit("kickout",t,s,o),this.removeChess(t),s&&this.removeChess(s,e,n,i),this.boardData.addUID(this.getChessUID(t),e,n,i),this.isBoard&&this.getChessData(t).setBoard(this),r&&this.gridAlign(t,e,n),this},dt=function(t,e,n,i,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),t){var s=this.chessToTileXYZ(t);if(!s)return this;e=s.x,n=s.y,i=s.z}else if(!(t=this.tileXYZToChess(e,n,i)))return this;return o||this.boardData.removeUID(e,n,i),this.isBoard&&this.getChessData(t).setBoard(null),r&&t.destroy&&t.destroy(),this},pt=function(t,e){for(var n=this.getAllChess(),i=0,r=n.length;i<r;i++)this.removeChess(n[i],void 0,void 0,void 0,t,e);return this},yt=function(t,e,n){void 0===n&&(n=!0);var i=this.chessToTileXYZ(t),r=this.chessToTileXYZ(e);if(null==i||null==r)return this;this.removeChess(t),this.removeChess(e),this.addChess(t,r.x,r.y,r.z,n),this.addChess(e,i.x,i.y,i.z,n)},vt=function(t){void 0===t&&(t=[]);var e=this.boardData.UIDToXYZ;for(var n in e)t.push(this.uidToChess(n));return t},gt=function(t,e,n){var i;return(i=!!this.infinityMode||t>=0&&t<this.width&&e>=0&&e<this.height)&&void 0!==n&&(i=this.boardData.contains(t,e,n)),i},bt={x:0,y:0},mt=function(t,e,n){switch(void 0===n&&(n=0),n){case 0:for(var i=0;i<this.height;i++)for(var r=0;r<this.width;r++)bt.x=r,bt.y=i,e?t.call(e,bt,this):t(bt,this);break;case 1:for(i=0;i<this.height;i++)for(r=this.width-1;r>=0;r--)bt.x=r,bt.y=i,e?t.call(e,bt,this):t(bt,this);break;case 2:for(r=0;r<this.width;r++)for(i=0;i<this.height;i++)bt.x=r,bt.y=i,e?t.call(e,bt,this):t(bt,this);break;case 3:for(r=0;r<this.width;r++)for(i=this.height-1;i>=0;i--)bt.x=r,bt.y=i,e?t.call(e,bt,this):t(bt,this)}return this},wt=n(37),kt=n.n(wt),xt=function(t,e){return this.wrapMode?t=kt()(t,0,this.width):!this.infinityMode&&(t<0||t>=this.width)&&(t=null),t},Ot=function(t,e){return this.wrapMode?e=kt()(e,0,this.height):!this.infinityMode&&(e<0||e>=this.height)&&(e=null),e},St=function(t,e,n){var i=this.boardData.getUID(t,e,n);return this.uidToChess(i)},Tt=function(t,e,n){void 0===n&&(n=[]);var i=this.boardData.getUID(t,e);if(null==i)return n;for(var r in i)n.push(this.uidToChess(i[r]));return n},_t=function(t,e){void 0===e&&(e=[]);var n=this.boardData.UIDToXYZ;for(var i in n)n[i].z===t&&e.push(this.uidToChess(i));return e},Pt=function(t,e,n){Array.isArray(e)&&(n=e,e=void 0),void 0===n&&(n=[]);for(var i,r=null!=e,o=0,s=t.length;o<s;o++)i=t[o],r?n.push(this.tileXYZToChess(i.x,i.y,e)):this.tileXYToChessArray(i.x,i.y,n);return n},Ct=function(t){return!Object(l.a)(t)&&t&&!!t.rexChess},jt=n(21),Et=n.n(jt),Mt=function(t){return Et()(t)&&t.hasOwnProperty("x")&&t.hasOwnProperty("y")},Rt=function(t){if(Object(l.a)(t)||Ct(t)){var e=f(t);return this.boardData.getXYZ(e)}return Mt(t)?t:null},Dt=function(t,e,n){return this.grid.getOppositeDirection(t,e,n)},At=function(t,e,n){return this.grid.getDistance(t,e,n)},It=function(t,e,n){void 0===n&&(n=!0);var i=this.chessToTileXYZ(t),r=this.chessToTileXYZ(e);return this.grid.directionBetween(i,r,n)},Lt=function(t,e,n,i){var r=this.chessToTileXYZ(t),o=this.chessToTileXYZ(e),s=this.grid.directions;this.grid.setDirectionMode(this.sides);var a=this.grid.directionBetween(r,o,!1);this.grid.setDirectionMode(s);var u=Math.abs(a-n);return(u=Math.min(u,this.grid.directions-u))<=i/2},Yt={},Nt=function(t,e,n,i){return void 0===i?i={}:!0===i&&(i=Yt),0===e&&0===n?(i.x=t.x,i.y=t.y):this.grid.offset(t,e,n,i),i},Xt={},Ft=function(t,e,n,i){return void 0===i?i={}:!0===i&&(i=Xt),void 0!==n?this.offset(t,-n.x,-n.y,i):(i.x=t.x,i.y=t.y),this.grid.mirror(i,e,i),void 0!==n&&this.offset(i,n.x,n.y,i),i},Bt={},Ut=function(t,e,n,i){return void 0===i?i={}:!0===i&&(i=Bt),void 0!==n?this.offset(t,-n.x,-n.y,i):(i.x=t.x,i.y=t.y),this.grid.rotate(i,e,i),void 0!==n&&this.offset(i,n.x,n.y,i),i},Wt=function(t){var e,n=1/0,i=1/0;for(var r in t)e=t[r],n=Math.min(n,e.x),i=Math.min(i,e.y);if(0!==n||0!==i)for(var r in t)e=t[r],this.offset(e,-n,-i,e);var o=-1/0,s=-1/0;for(var r in t)e=t[r],o=Math.max(o,e.x),s=Math.max(s,e.y);return this.setBoardWidth(o),this.setBoardHeight(s),t},zt=function(t,e){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=0;n<this.height;n++)for(var i=0;i<this.width;i++)null===this.tileXYZToChess(i,n,t)&&e.push({x:i,y:n});return e},Gt=n(76),Vt=n.n(Gt),Ht=n(117),Kt=n.n(Ht),Jt=[],Zt={},qt=function(t,e){var n,i;void 0===t&&(t=0),void 0===e?e={}:!0===e&&(e=Zt);for(var r=!0,o=20;r&&o>0;)n=Vt()(0,this.width-1),i=Vt()(0,this.height-1),r=null!==this.tileXYZToChess(n,i,t),o--;if(r){if(0===(Jt=this.getEmptyTileXYArray(t,Jt)).length)return null;var s=Kt()(Jt);return e.x=s.x,e.y=s.y,Jt.length=0,e}return e.x=n,e.y=i,e},Qt={},$t=function(t,e,n){if("string"==typeof e&&(e=-1===e.indexOf(",")?parseInt(e):e.split(",")),"number"==typeof e){var i=e;void 0===n?n={}:!0===n&&(n=Qt);var r=this.grid.getNeighborTileX(t.x,t.y,i),o=this.grid.getNeighborTileY(t.x,t.y,i),s=this.getWrapTileX(r,o),a=this.getWrapTileY(r,o);return null==s||null==a?n=null:(n.x=s,n.y=a),n}var u;null==e&&(e=this.grid.allDirections),void 0===n&&(n=[]);for(var h=0,l=e.length;h<l;h++)i=e[h],null!==(u=this.getNeighborTileXY(t,i))&&n.push(u);return n};function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ee=[],ne=function(t,e,n,i){var r=this.chessToTileXYZ(t);if(null===r)return null;null==n&&(n=r.z);var o,s=te(e);if("number"===s||"string"===s&&-1===e.indexOf(",")){var a=e,u=this.getNeighborTileXY(r,a,!0);return null===u?null:this.tileXYZToChess(u.x,u.y,n)}void 0===i&&(i=[]),this.getNeighborTileXY(r,e,ee);for(var h=0,l=ee.length;h<l;h++)null!=(o=this.tileXYZToChess(ee[h].x,ee[h].y,n))&&i.push(o);return ee.length=0,i},ie=[],re=function(t,e){if(null===t||null===e)return null;if(Object(X.a)(t,e))return null;var n=this.grid.getNeighborTileDirection(t,e);if(this.wrapMode&&null===n){for(var i=0,r=(ie=this.getNeighborTileXY(t,null,ie)).length;i<r;i++)if(Object(X.a)(e,ie[i])){n=i;break}ie.length=0}return n},oe=function(t,e){var n=this.chessToTileXYZ(t),i=this.chessToTileXYZ(e);return this.getNeighborTileDirection(n,i)},se=function(t,e){return null!==this.getNeighborChessDirection(t,e)},ae=[],ue=function(t,e,n){var i;void 0===n&&(n=[]),this.grid.ringToTileXYArray(t,e,ae);for(var r=0,o=ae.length;r<o;r++)i=ae[r],this.contains(i.x,i.y)&&n.push(i);return ae.length=0,n},he=function(t,e,n,i){var r;Object(rt.a)(n)&&(i=n,n=void 0),void 0===n&&(n=!0),void 0===i&&(i=[]);for(var o=0;o<=e;o++)r=n?o:e-o,this.ringToTileXYArray(t,r,i);return i},le=[],ce=function(t,e,n){var i;if(void 0===n){for(var r=0,o=(i=this.tileXYToChessArray(t,e,le)).length;r<o;r++)if(!0===this.getChessData(i[r]).blocker)return le.length=0,!0;return le.length=0,!1}return null!==(i=this.tileXYZToChess(t,e,n))&&!0===this.getChessData(i).blocker},fe=function(t,e){return!1===t||!0===t?t:!0===t[e]},de=[],pe=function(t,e,n,i){var r;if(void 0===n){for(var o=0,s=(r=this.tileXYToChessArray(t,e,de)).length;o<s;o++)if(fe(this.getChessData(r[o]).blocker))return de.length=0,!0;return de.length=0,!1}return null!==(r=this.tileXYZToChess(t,e,n))&&fe(this.getChessData(r).blocker)},ye=function(t,e,n){return this.grid.getGridPoints(t,e,n)},ve={getChessData:u.a,getChessUID:f,setBoardWidth:d,setBoardHeight:p,tileXYToWorldX:y,tileXYToWorldY:v,tileXYToWorldXY:g,worldXYToTileX:b,worldXYToTileY:m,worldXYToTileXY:w,worldXYSnapToGrid:x,angleBetween:T,isAngleInCone:M,angleToward:R,isOverlappingPoint:D,gridAlign:A,lineToTileXYArray:F,circleToTileXYArray:W,ellipseToTileXYArray:V,polygonToTileXYArray:q,rectangleToTileXYArray:tt,triangleToTileXYArray:it,shapeToTileXYArray:lt,uidToChess:ct,addChess:ft,removeChess:dt,removeAllChess:pt,swapChess:yt,moveChess:ft,getAllChess:vt,contains:gt,forEachTileXY:mt,getWrapTileX:xt,getWrapTileY:Ot,tileXYZToChess:St,tileXYToChessArray:Tt,tileZToChessArray:_t,tileXYArrayToChessArray:Pt,chessToTileXYZ:Rt,offset:Nt,mirror:Ft,rotate:Ut,getOppositeDirection:Dt,getDistance:At,directionBetween:It,isDirectionInCone:Lt,fit:Wt,getEmptyTileXYArray:zt,getRandomEmptyTileXY:qt,getNeighborTileXY:$t,getNeighborChess:ne,getNeighborTileDirection:re,getNeighborChessDirection:oe,areNeighbors:se,ringToTileXYArray:ue,filledRingToTileXYArray:he,hasBlocker:ce,hasEdgeBlocker:pe,getGridPoints:ye},ge=n(7),be=n(91);function me(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var we=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.XYZToUID={},this.UIDToXYZ={},this.clear()}var e,n,i;return e=t,(n=[{key:"shutdown",value:function(){return this.XYZToUID=void 0,this.UIDToXYZ=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"clear",value:function(){return Object(ge.a)(this.UIDToXYZ),Object(ge.a)(this.XYZToUID),this.chessCount=0,this.clearBounds(),this}},{key:"clearBounds",value:function(){return this._xMax=void 0,this._xMin=void 0,this._yMax=void 0,this._yMin=void 0,this}},{key:"addUID",value:function(t,e,n,i){this.XYZToUID.hasOwnProperty(e)||(this.XYZToUID[e]={});var r=this.XYZToUID[e];return r.hasOwnProperty(n)||(r[n]={}),r[n][i]=t,this.UIDToXYZ[t]={x:e,y:n,z:i},this.chessCount++,this.clearBounds(),this}},{key:"getUID",value:function(t,e,n){var i=this.XYZToUID[t];return i&&(i=i[e])&&void 0!==n&&(i=i[n]),i}},{key:"removeUID",value:function(t,e,n){if(!this.XYZToUID.hasOwnProperty(t))return this;var i=this.XYZToUID[t];if(!i.hasOwnProperty(e))return this;var r=i[e];if(!r.hasOwnProperty(n))return this;var o=r[n];return delete r[n],delete this.UIDToXYZ[o],Object(be.a)(r)&&delete i[e],Object(be.a)(i)&&delete this.XYZToUID[t],this.chessCount--,this.clearBounds(),this}},{key:"exists",value:function(t){return this.UIDToXYZ.hasOwnProperty(t)}},{key:"contains",value:function(t,e,n){return null!=this.getUID(t,e,n)}},{key:"getXYZ",value:function(t){return this.exists(t)?this.UIDToXYZ[t]:null}},{key:"xMax",get:function(){if(void 0===this._xMax){this._xMax=-1/0;var t,e=this.UIDToXYZ;for(var n in e)t=e[n].x,this._xMax<t&&(this._xMax=t)}return this._xMax}},{key:"xMin",get:function(){if(void 0===this._xMin){this._xMin=1/0;var t,e=this.UIDToXYZ;for(var n in e)t=e[n].x,this._xMin>t&&(this._xMin=t)}return this._xMin}},{key:"yMax",get:function(){if(void 0===this._yMax){this._yMax=-1/0;var t,e=this.UIDToXYZ;for(var n in e)t=e[n].y,this._yMax<t&&(this._yMax=t)}return this._yMax}},{key:"yMin",get:function(){if(void 0===this._yMin){this._yMin=1/0;var t,e=this.UIDToXYZ;for(var n in e)t=e[n].y,this._yMin>t&&(this._yMin=t)}return this._yMin}}])&&me(e.prototype,n),i&&me(e,i),t}(),ke=n(87),xe=n(86),Oe={quadGrid:ke.a,hexagonGrid:xe.a},Se=n(0),Te=n.n(Se);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ce(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function je(t,e,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Re=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Ce(this,Ee(e).call(this))).scene=t,i.boardData=new we,i.resetFromJSON(n),i.boot(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(e,a["a"]),n=e,(i=[{key:"resetFromJSON",value:function(t){return this.isBoard=Te()(t,"isBoard",!0),this.setGrid(Te()(t,"grid",void 0)),this.setWrapMode(Te()(t,"wrap",!1)),this.setInfinityBoard(Te()(t,"inifinity",!1)),this.setBoardWidth(Te()(t,"width",0)),this.setBoardHeight(Te()(t,"height",0)),this}},{key:"boot",value:function(){this.scene&&this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){return this.removeAllChess(!0,!0),je(Ee(e.prototype),"shutdown",this).call(this),this.boardData.shutdown(),this.scene=void 0,this.boardData=void 0,this}},{key:"destroy",value:function(){return this.emit("destroy"),this.shutdown(),this}},{key:"setGrid",value:function(t){if(Et()(t)){var e=t,n=Te()(e,"gridType","quadGrid");t=new Oe[n](e)}return this.grid=t,this}},{key:"setWrapMode",value:function(t){return void 0===t&&(t=!0),this.wrapMode=t,this}},{key:"setInfinityBoard",value:function(t){return void 0===t&&(t=!0),this.infinityMode=t,this}},{key:"setBoardSize",value:function(t,e){return this.setBoardWidth(t),this.setBoardHeight(e),this}},{key:"exists",value:function(t){return this.boardData.exists(this.getChessUID(t))}},{key:"clear",value:function(t){return void 0===t&&(t=!0),this.removeAllChess(t,!0),this.boardData.clear(),this}},{key:"chessCount",get:function(){return this.boardData.chessCount}}])&&Pe(n.prototype,i),r&&Pe(n,r),e}();Object.assign(Re.prototype,ve);e.a=Re},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,i){var r=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&r.value&&"object"===n(r.value)&&(r=r.value),!(!r||!function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(r))&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}function r(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"===n(i.value)&&(i=i.value),!1===i.configurable)}function o(t,e,n,o){for(var s in e)if(e.hasOwnProperty(s)){var u=i(e,s,n);if(!1!==u){if(r((o||t).prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,s,u)}else t.prototype[s]=e[s]}}function s(t,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)o(t,e[n].prototype||e[n])}}function a(t){var e,n;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var i=t.Extends;e=function(){i.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,n=t.Extends,delete t.Extends):e.prototype.constructor=e;var r=null;return t.Mixins&&(r=t.Mixins,delete t.Mixins),s(e,r),o(e,t,!0,n),e}a.extend=o,a.mixin=s,a.ignoreFinals=!1,t.exports=a},function(t,e,n){"use strict";e.a={"up&down":0,"left&right":1,"4dir":2,"8dir":3}},function(t,e,n){"use strict";var i={};e.a=function(t,e,n){switch(void 0===n?n={}:!0===n&&(n=i),n.left=!1,n.right=!1,n.up=!1,n.down=!1,t=(t+360)%360,e){case 0:t<180?n.down=!0:n.up=!0;break;case 1:t>90&&t<=270?n.left=!0:n.right=!0;break;case 2:t>45&&t<=135?n.down=!0:t>135&&t<=225?n.left=!0:t>225&&t<=315?n.up=!0:n.right=!0;break;case 3:t>22.5&&t<=67.5?(n.down=!0,n.right=!0):t>67.5&&t<=112.5?n.down=!0:t>112.5&&t<=157.5?(n.down=!0,n.left=!0):t>157.5&&t<=202.5?n.left=!0:t>202.5&&t<=247.5?(n.left=!0,n.up=!0):t>247.5&&t<=292.5?n.up=!0:t>292.5&&t<=337.5?(n.up=!0,n.right=!0):n.right=!0}return n}},function(t,e,n){"use strict";e.a=function(){return this._savedOriginX=this.x,this._savedOriginY=this.y,this}},function(t,e,n){"use strict";e.a=function(){return this.x=this._savedOriginX,this.y=this._savedOriginY,this}},function(t,e,n){"use strict";var i=n(37),r=n.n(i);e.a=function(t){return r()(t,0,this.directions)}},function(t,e){t.exports=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var i=e+Math.floor(Math.random()*n);return void 0===t[i]?null:t[i]}},function(t,e,n){"use strict";var i=n(3),r=n(4);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.setEventEmitter(s(n,"eventEmitter",void 0)),e.setInteractive(s(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(s(t,"enable",!0)),this.holdThreshold=s(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.once("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"onPointIn",value:function(t,e,n){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=n)}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,n){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=n)}},{key:"preupdate",value:function(t,e){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.x,this.y=n.y,this.preX=n.x,this.preY=n.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.x,this.y=n.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&o(e.prototype,n),r&&o(e,r),t}();Object.assign(u.prototype,r.a);var h=u;e.a=h},function(t,e,n){"use strict";var i=n(58),r=Phaser.Geom.Intersects.RectangleToRectangle,o=Phaser.Geom.Rectangle.Overlaps,s=function(t,e){var n=0,i=e.top,r=e.bottom,o=e.left,s=e.right;return n+=t.contains(o,i)?1:0,n+=t.contains(o,r)?1:0,n+=t.contains(s,i)?1:0,n+=t.contains(s,r)?1:0},a=function(t,e){t.setVisible(!0).clearMask()},u=function(t,e){t.setVisible(!0).setMask(e)},h=function(t,e){t.setVisible(!1).clearMask()};e.a=function(t,e,n){if(e){void 0===n&&(n=t.getAllChildren());for(var l,c,f=t.getBounds(),d=Object(i.a)(e),p=0,y=n.length;p<y;p++)if(!(l=n[p]).hasOwnProperty("isRexContainerLite")&&l!==d){if(l.getBounds)switch(c=l.getBounds(c),s(f,c)){case 4:a(l,e);break;case 0:r(f,c)||o(f,c)?u(l,e):h(l,e);break;default:u(l,e)}else u(l,e);t.resetChildVisibleState(l).updateChildVisible(l)}}}},function(t,e,n){"use strict";var i;e.a=function(t,e){void 0===e&&(void 0===i&&(i=new Phaser.Geom.Rectangle),e=i);var n=t.game.config;return e.setTo(0,0,n.width,n.height),e}},function(t,e,n){"use strict";e.a={cascadeMode:!1,setParent:function(t){return this.gameObject=t,this.scene=t.scene,this},setCascadeMode:function(t){return this.cascadeMode=t,this},bodySetVelocity:function(t,e){var n=this.gameObject.body,i=n.velocity.x,r=n.velocity.y;this.cascaseMode&&(t+=i,e+=r),t===i&&e===r||n.setVelocity(t,e)},bodySetAcceleration:function(t,e){var n=this.gameObject.body,i=n.acceleration.x,r=n.acceleration.y;this.cascaseMode&&(t+=i,e+=r),t===i&&e===r||n.setAcceleration(t,e)},bodySetGravity:function(t,e){var n=this.gameObject.body,i=n.gravity.x,r=n.gravity.y;this.cascaseMode&&(t+=i,e+=r),t===i&&e===r||n.setAcceleration(t,e)},bodySetAngularVelocity:function(t){var e=this.gameObject.body,n=e.angularVelocity;this.cascaseMode&&(t+=n),t!==n&&e.setAngularVelocity(t)},bodySetAngularAcceleration:function(t){var e=this.gameObject.body,n=e.angularAcceleration;this.cascaseMode&&(t+=n),t!==n&&e.setAngularAcceleration(t)}}},function(t,e,n){"use strict";var i=n(32),r=n(15),o=n.n(r);e.a=function(t,e,n,r,s){if(void 0===s&&(s=Object(i.a)(6)),void 0===n);else if("number"==typeof n)for(var a,u,h=0===r?0:-30,l=0;l<6;l++)a=60*l+h,u=o()(a),s[l].x=t+n*Math.cos(u),s[l].y=e+n*Math.sin(u);else{var c=n,f=c.width,d=c.height,p=f/2,y=f/4,v=d/2,g=d/4;0===r?(s[0].x=t+p,s[0].y=e,s[1].x=t+y,s[1].y=e+v,s[2].x=t-y,s[2].y=e+v,s[3].x=t-p,s[3].y=e,s[4].x=t-y,s[4].y=e-v,s[5].x=t+y,s[5].y=e-v):(s[0].x=t+p,s[0].y=e-g,s[1].x=t+p,s[1].y=e+g,s[2].x=t,s[2].y=e+v,s[3].x=t-p,s[3].y=e+g,s[4].x=t-p,s[4].y=e-g,s[5].x=t,s[5].y=e-v)}return s}},,function(t,e,n){"use strict";var i=n(81),r=n(82),o=n(6),s=o.a.ODD_R,a=o.a.EVEN_R,u=o.a.ODD_Q,h=o.a.EVEN_Q,l={},c=function(t,e,n){void 0===n?n={}:!0===n&&(n=l);var i=t*this.width,r=e*this.height;switch(this.mode){case s:1&e&&(i+=this._halfWidth),r*=.75;break;case a:1&e&&(i-=this._halfWidth),r*=.75;break;case u:i*=.75,1&t&&(r+=this._halfHeight);break;case h:i*=.75,1&t&&(r-=this._halfHeight)}return i+=this.x,r+=this.y,n.x=i,n.y=r,n},f=function(t,e){return this.getWorldXY(t,e,!0).x},d=function(t,e){return this.getWorldXY(t,e,!0).y},p=n(8),y=o.a.ODD_R,v=o.a.EVEN_R,g=o.a.ODD_Q,b=o.a.EVEN_Q,m={},w={},k=function(t,e,n){var i,r;switch(void 0===n?n={}:!0===n&&(n=w),t-=this.x,e-=this.y,this.mode){case y:case v:r=e*(4/3)/this.height,i=t/this.width-2/3*(e/this.height);break;case g:case b:r=e/this.height-2/3*(t/this.width),i=t*(4/3)/this.width}var o=Object(p.c)(i,r,m);return Object(p.d)(o),Object(p.b)(this.mode,o.x,o.y,o.z,n),n},x=function(t,e){return this.getTileXY(t,e,!0).x},O=function(t,e){return this.getTileXY(t,e,!0).y},S=n(0),T=n.n(S);function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var P=o.a.ODD_R,C=o.a.EVEN_R,j=o.a.ODD_Q,E=o.a.EVEN_Q,M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,o;return e=t,(n=[{key:"resetFromJSON",value:function(t){if(this.setType(T()(t,"staggeraxis",1),T()(t,"staggerindex",1)),this.setDirectionMode(),this.setOriginPosition(T()(t,"x",0),T()(t,"y",0)),this.size=T()(t,"size",void 0),void 0!==this.size){var e={size:this.size,type:this.staggeraxis},n=Object(i.a)(e),o=Object(r.a)(e);this.setCellSize(n,o)}else this.setCellSize(T()(t,"cellWidth",0),T()(t,"cellHeight",0))}},{key:"setType",value:function(t,e){return"string"==typeof t&&(t=D[t]),"string"==typeof e&&(e=A[e]),this.staggeraxis=t,this.staggerindex=e,this.mode=0===t?0===e?E:j:0===e?C:P,this}},{key:"setDirectionMode",value:function(){return this.directions=6,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&_(e.prototype,n),o&&_(e,o),t}(),R={getWorldXY:c,getWorldX:f,getWorldY:d,getTileXY:k,getTileX:x,getTileY:O};Object.assign(M.prototype,R);var D={y:0,x:1},A={even:0,odd:1};e.a=M},function(t,e,n){"use strict";var i={},r=function(t,e,n){var r,o;switch(void 0===n?n={}:!0===n&&(n=i),this.mode){case 0:r=t*this.width,o=e*this.height;break;case 1:r=(t-e)*this._halfWidth,o=(t+e)*this._halfHeight}return r+=this.x,o+=this.y,n.x=r,n.y=o,n},o=function(t,e){return this.getWorldXY(t,e,!0).x},s=function(t,e){return this.getWorldXY(t,e,!0).y},a={},u=function(t,e,n){void 0===n?n={}:!0===n&&(n=a),t-=this.x,e-=this.y;var i=t/this.width,r=e/this.height;switch(this.mode){case 0:n.x=Math.round(i),n.y=Math.round(r);break;case 1:n.x=Math.round(+i+r),n.y=Math.round(-i+r)}return n},h=function(t,e){return this.getTileXY(t,e,!0).x},l=function(t,e){return this.getTileXY(t,e,!0).y},c=n(0),f=n.n(c);function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setType(f()(t,"type",0)),this.setDirectionMode(f()(t,"dir",4)),this.setOriginPosition(f()(t,"x",0),f()(t,"y",0)),this.setCellSize(f()(t,"cellWidth",0),f()(t,"cellHeight",0))}},{key:"setType",value:function(t){return"string"==typeof t&&(t=v[t]),this.mode=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=g[t]),this.directions=t,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&d(e.prototype,n),i&&d(e,i),t}(),y={getWorldXY:r,getWorldX:o,getWorldY:s,getTileXY:u,getTileX:h,getTileY:l};Object.assign(p.prototype,y);var v={orthogonal:0,isometric:1,staggered:2},g={"4dir":4,"8dir":8};e.a=p},function(t,e,n){"use strict";var i=n(109),r=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,n))),u={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=d},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(f=[{key:"resetFromJSON",value:function(t){return u(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?y:p}},{key:"onDrag2End",value:function(){this.state=d}},{key:"onDrag2",value:function(){switch(this.state){case p:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=y}break;case y:t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===y}}])&&s(n.prototype,f),v&&s(n,v),e}(),d="IDLE",p="BEGIN",y="RECOGNIZED";e.a=f},,,,function(t,e){t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},function(t,e,n){"use strict";e.a=function(t){return"rexMiniBoard"===t.type}},,function(t,e,n){"use strict";var i=n(22),r=n(131);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.GameObjects.Polygon,l=function(t){function e(t,n,u,h,l,f,d){var p;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===d&&(d=!0);var y,v=Object(r.a)(t);v&&(t=(y=t).board);var g,b,m=t.scene;d?(g=0,b=0):(g=n,b=u);var w,k,x=t.getGridPoints(void 0,void 0,!0);return c(x),w=this,p=!(k=s(e).call(this,m,g,b,x,l,f))||"object"!==o(k)&&"function"!=typeof k?a(w):k,d?v?y.addChess(a(p),n,u,h):t.addChess(a(p),n,u,h,!0):Object(i.a)(a(p)),p}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),e}(),c=function(t){for(var e,n=1/0,i=1/0,r=0,o=t.length;r<o;r++)e=t[r],n=Math.min(n,e.x),i=Math.min(i,e.y);if(0===n&&0===i)return t;for(r=0,o=t.length;r<o;r++)(e=t[r]).x-=n,e.y-=i;return t};e.a=l},function(t,e,n){"use strict";var i=n(22),r=n(12),o=function(t,e,n){return void 0===n&&(n=","),"".concat(t).concat(n).concat(e)},s=n(43),a=n.n(s),u=n(44),h=n.n(u);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.preNodes=[],this.manager=void 0}var e,n,i;return e=t,(n=[{key:"reset",value:function(t){this.manager=t,this.sn=void 0,this.key=void 0,this.x=void 0,this.y=void 0,this._px=void 0,this._py=void 0,this.cost=void 0,this.f=0,this.g=0,this.h=0,this.closerH=0,this.visited=!1,this.closed=!1,this.preNodes.length=0}},{key:"destroy",value:function(){this.preNodes.length=0,this.manager=void 0}},{key:"heuristic",value:function(t,e,n){if(null===e)return 0;var i,r=this.board.getDistance(t,this,!0)*this.pathFinder.weight;if(1===e&&void 0!==n){var o=t.angleTo(n)-this.angleTo(n);i=r+Math.abs(o)}else i=2===e?r+Math.random():r;return i}},{key:"getNeighborNodes",value:function(){var t=this.board.getNeighborTileXY(this);this.pathFinder.shuffleNeighbors&&a()(t);for(var e,n=[],i=0,r=t.length;i<r;i++)e=this.manager.getNode(t[i],!0),n.push(e);return n}},{key:"getCost",value:function(t){return this.pathFinder.cacheCost?void 0===this.cost&&(this.cost=this.pathFinder.getCost(this,t)):this.cost=this.pathFinder.getCost(this,t),this.cost}},{key:"angleTo",value:function(t){return h()(this.worldX,this.wroldY,t.worldX,t.wroldY)}},{key:"pathFinder",get:function(){return this.manager.pathFinder}},{key:"board",get:function(){return this.manager.pathFinder.board}},{key:"worldX",get:function(){return void 0===this._px&&(this._px=this.board.tileXYToWroldX(this.x,this.y)),this._px}},{key:"wroldY",get:function(){return void 0===this._py&&(this._py=this.board.tileXYToWroldY(this.x,this.y)),this._py}},{key:"pathCost",get:function(){return this.g}}])&&l(e.prototype,n),i&&l(e,i),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=new r.a,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sn=0,this.pool=p,this.nodes={},this.pathFinder=e,this.closestNode=null}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){return this.freeAllNodes(),this.pathFinder=null,this.pool=void 0,this}},{key:"getNode",value:function(t,e,n){var i;switch(f(t)){case"number":i=o(t,e);break;case"string":i=t,n=e;break;default:var r=t;n=e,t=r.x,e=r.y,i=o(t,e)}if(void 0===n&&(n=!1),this.sn++,!this.nodes.hasOwnProperty(i)){if(!n)return null;var s=this.pool.pop();null===s&&(s=new c),s.reset(this),s.sn=this.sn,s.key=i,s.x=t,s.y=e,this.nodes[i]=s}return this.nodes[i]}},{key:"freeAllNodes",value:function(){this.closestNode=null;var t,e=this.nodes,n=this.pool;for(var i in e)(t=e[i]).destroy(),n.push(t),delete e[i];return this.sn=0,this}},{key:"getAllNodes",value:function(){return this.nodes}}])&&d(e.prototype,n),i&&d(e,i),t}();function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var g={AREA_MODE:16,PATH_MODE:0,random:0,diagonal:1,straight:2,line:3,"A*":10,"A*-random":11,"A*-line":12,BLOCKER:null,INFINITY:void 0},b=g.PATH_MODE,m=g["A*"],w=g["A*-line"],k=g["A*-random"],x=g.BLOCKER,O=g.INFINITY,S=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.content=[],this.scoreFunction=e}var e,n,i;return e=t,(n=[{key:"clear",value:function(){this.content.length=0}},{key:"push",value:function(t){this.content.push(t),this.sinkDown(this.content.length-1)}},{key:"pop",value:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t}},{key:"remove",value:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))}},{key:"size",value:function(){return this.content.length}},{key:"rescoreElement",value:function(t){this.sinkDown(this.content.indexOf(t))}},{key:"sinkDown",value:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}}},{key:"bubbleUp",value:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(r=this.scoreFunction(u))<i&&(a=s)}if(o<e){var h=this.content[o];this.scoreFunction(h)<(null===a?i:r)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}}])&&v(e.prototype,n),i&&v(e,i),t}())(function(t){return t.f}),T=function(t,e,n,i){void 0===this.nodeManager&&(this.nodeManager=new y(this));var r=this.nodeManager;r.freeAllNodes();var o=i===b,s=this.pathMode===m||this.pathMode===w||this.pathMode===k,a=o&&s,u=o&&!s,h=a?this.pathMode==m?0:this.pathMode==w?1:this.pathMode==k?2:null:null,l=null!==e?r.getNode(e.x,e.y,!0):null,c=r.getNode(t.x,t.y,!0);c.h=c.heuristic(l,h);var f=c,d=function(t,e){t.closerH=a?t.h:t.closerH||t.heuristic(l,h,e)};for(o&&d(f),S.push(c);S.size()>0;){var p=S.pop();if(o&&p===l){f=l;break}p.closed=!0;for(var v,g,T=p.getNeighborNodes(),_=0,P=T.length;_<P;++_)if(g=(v=T[_]).getCost(p),!v.closed&&g!==x){var C=p.g+g,j=v.visited;n!=O&&C>n||(!j||C<v.g?(v.visited=!0,v.preNodes.length=0,v.preNodes.push(p),v.h=v.h||v.heuristic(l,h,c),v.g=C,v.f=v.g+v.h,o&&(d(v,c),(v.closerH<f.closerH||v.closerH===f.closerH&&v.g<f.g)&&(f=v)),j?S.rescoreElement(v):S.push(v)):u&&C==v.g&&v.preNodes.push(p))}}return r.closestNode=o?f:null,S.clear(),this},_=g.BLOCKER,P=function(t,e){return this.occupiedTest&&this.board.contains(t.x,t.y,this.chessData.tileXYZ.z)?_:this.blockerTest&&this.board.hasBlocker(t.x,t.y)?_:(this.edgeBlockerTest,"number"==typeof this.costCallback?this.costCallback:(void 0===(n=this.costCallbackScope?this.costCallback.call(this.costCallbackScope,t,e,this):this.costCallback(t,e,this))&&(n=_),n));var n},C=g.AREA_MODE,j=g.INFINITY,E=function(t,e){if(void 0===e&&(e=[]),null===this.board)return e;if(t!==j&&t<=0)return e;var n=this.chessData.tileXYZ,i=n.x,r=n.y;this.aStarSearch(n,null,t,C);var o,s=this.nodeManager.getAllNodes(),a=[];for(var u in s)(o=s[u]).x===i&&o.y===r||o.closed&&a.push(o);a.sort(function(t,e){var n=t.sn,i=e.sn;return n>i?1:n<i?-1:0});for(var h=0,l=a.length;h<l;h++)o=a[h],e.push({x:o.x,y:o.y,cost:o.g});return e},M=n(76),R=n.n(M),D=g.random,A=g.diagonal,I=g.straight,L=g.line,Y=g["A*"],N=g["A*-line"],X=g["A*-random"],F=function(t,e,n){for(var i,r,o,s,a,u=t.board,h=e,l=[];h.preNodes.length>0;)switch(l.push(h),a=h.preNodes.length,n){case Y:case N:case X:h=s=h.preNodes[0];break;case D:h=s=1===a?h.preNodes[0]:h.preNodes[R()(0,a-1)];break;case A:for(var c=0;c<a;c++)if(s=h.preNodes[c],(r=u.getNeighborTileDirection(h,s))!==i){i=r;break}h=s;break;case I:for(c=0;c<a&&(s=h.preNodes[c],(r=u.getNeighborTileDirection(h,s))!==i);c++);i=r,h=s;break;case L:if(void 0===o&&(o=e.angleTo(t)),1===a)h=s=h.preNodes[0],o=e.angleTo(h);else{s=h.preNodes[0];var f,d=Math.abs(e.angleTo(s)-o);for(c=1;c<a;c++)f=h.preNodes[c],Math.abs(e.angleTo(f)-o)<d&&(s=f);h=s}}return l.reverse()},B=g.PATH_MODE,U=g.INFINITY,W={aStarSearch:T,getCost:P,findArea:E,getPath:function(t,e){if(void 0===e&&(e=[]),void 0===this.board)return e;var n=this.nodeManager;if(void 0===n)return e;var i=n.getNode(this.chessData.tileXYZ,!1),r=n.getNode(t,!1);if(null===i||null===r)return e;for(var o,s=F(i,r,this.pathMode),a=0,u=s.length;a<u;a++)o=s[a],e.push({x:o.x,y:o.y,cost:o.g});return e},findPath:function(t,e,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=[]),null===this.board)return i;if(e!==U&&e<=0)return i;var r=this.chessData.tileXYZ;this.aStarSearch(r,t,e,B);var o=this.nodeManager,s=n?o.closestNode:o.getNode(t);return null===s?i:this.getPath(s,i)},tileXYToCost:function(t,e,n){if(void 0===this.nodeManager)return null;var i=this.nodeManager.getNode(t,e);return null===i?null:(void 0===n&&(n=!0),n?i.g:i.cost)}},z=n(0),G=n.n(z);function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var H=g.BLOCKER,K=g.INFINITY,J=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.chessData=Object(i.a)(e),this.nodeManager=void 0,this.resetFromJSON(n)}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){var e=G()(t,"costCallback",void 0),n=G()(t,"costCallbackScope",void 0);return void 0===e&&(e=G()(t,"cost",1)),this.setOccupiedTest(G()(t,"occupiedTest",!1)),this.setBlockerTest(G()(t,"blockerTest",!1)),this.setEdgeBlockerTest(G()(t,"edgeBlockerTest",!1)),this.setCostFunction(e,n),this.setPathMode(G()(t,"pathMode",0)),this.setCacheCostMode(G()(t,"cacheCost",!0)),this.setWeight(G()(t,"weight",10)),this.setShuffleNeighborsMode(G()(t,"shuffleNeighbors",!1)),this}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0!==this.nodeManager&&this.nodeManager.destroy(),this.gameObject=void 0,this.chessData=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setCostFunction",value:function(t,e){return this.costCallback=t,this.costCallbackScope=e,this}},{key:"setPathMode",value:function(t){return"string"==typeof t&&(t=g[t]),this.pathMode=t,this}},{key:"setCacheCostMode",value:function(t){return void 0===t&&(t=!0),this.cacheCost=t,this}},{key:"setOccupiedTest",value:function(t){return void 0===t&&(t=!0),this.occupiedTest=t,this}},{key:"setBlockerTest",value:function(t){return void 0===t&&(t=!0),this.blockerTest=t,this}},{key:"setEdgeBlockerTest",value:function(t){return void 0===t&&(t=!0),this.edgeBlockerTest=t,this}},{key:"setWeight",value:function(t){return this.weight=t,this}},{key:"setShuffleNeighborsMode",value:function(t){return void 0===t&&(t=!0),this.shuffleNeighbors=t,this}},{key:"BLOCKER",get:function(){return H}},{key:"INFINITY",get:function(){return K}},{key:"board",get:function(){return this.chessData.board}}])&&V(e.prototype,n),r&&V(e,r),t}();Object.assign(J.prototype,W);e.a=J},function(t,e,n){"use strict";var i=n(110),r=Phaser.GameObjects.GameObject.RENDER_MASK,o=function(t){if(t.renderFlags!==r)return!1;var e=!0,n=t.parentContainer;if(n)do{if(n.renderFlags!==r){e=!1;break}n=n.parentContainer}while(n);return e},s=[],a=function(t,e,n,i,r,a){for(var u,h="string"!=typeof t?t:void 0,l="string"!=typeof e?e:void 0,c=n.tileXYToChessArray(i,r,s),f=0,d=c.length;f<d;f++)u=c[f],o(u)&&(u.emit&&(l?l(u):u.emit(e,a)),h?h(u):n.emit(t,a,u));s.length=0},u=function(t){if(this.enable&&t.isDown){var e=this.board;null===this.pointer&&(this.pointer=t);var n=e.worldXYToTileXY(t.worldX,t.worldY,!0),i=n.x,r=n.y;this.tilePosition.x=i,this.tilePosition.y=r,e.contains(i,r)&&(e.emit("tiledown",t,this.tilePosition),a("gameobjectdown","board.pointerdown",e,i,r,t))}},h=function(t){if(this.enable){var e=this.board,n=e.worldXYToTileXY(t.worldX,t.worldY,!0),i=n.x,r=n.y;this.tilePosition.x=i,this.tilePosition.y=r,e.contains(i,r)&&(e.emit("tileup",t,this.tilePosition),a("gameobjectup","board.pointerup",e,i,r,t),this.pointer===t&&(this.pointer=null))}},l=n(31),c=function(t){if(this.enable){var e=this.board,n=e.worldXYToTileXY(t.worldX,t.worldY,!0);if(!Object(l.a)(this.tilePosition,n)){var i=n.x,r=n.y;this.tilePosition.x=i,this.tilePosition.y=r,e.contains(i,r)?(null===this.pointer&&(this.pointer=t),e.emit("tilemove",t,this.tilePosition),a("gameobjectmove","board.pointermove",e,i,r,t)):this.pointer===t&&(this.pointer=null)}}},f=n(84),d={},p=function(t){if(this.enable){var e=this.board;e.worldXYToTileXY(t.worldX,t.worldY,d);var n=d.x,i=d.y;if(e.contains(n,i)){var r="".concat(t.tapsCount,"tap");e.emit("tiletap",t,d),e.emit("tile"+r,t,d),a(function(n){e.emit("gameobjecttap",t,n),e.emit("gameobject"+r,t,n)},function(e){e.emit("board.tap",t),e.emit("board."+r,t)},e,n,i)}}},y=n(85),v={},g=function(t){if(this.enable){var e=this.board;e.worldXYToTileXY(t.worldX,t.worldY,v);var n=v.x,i=v.y;e.contains(n,i)&&(e.emit("tilepressstart",t,v),a("gameobjectpressstart","board.pressstart",e,n,i,t))}},b={},m=function(t){if(this.enable){var e=this.board;e.worldXYToTileXY(t.worldX,t.worldY,b);var n=b.x,i=b.y;e.contains(n,i)&&(e.emit("tilepressend",t,b),a("gameobjectpressend","board.pressend",e,n,i,t))}};function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e,this.enable=!0,this.pointer=null,this.tilePosition={x:void 0,y:void 0};var n=e.scene;n.input.on("pointerdown",u,this),n.input.on("pointerup",h,this),n.input.on("pointermove",c,this),this._tap=new f.a(n),this._tap.on("tap",p,this),this._press=new y.a(n),this._press.on("pressstart",g,this).on("pressend",m,this),e.once("destroy",this.destroy,this)}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){var t=this.board.scene;t&&(t.input.off("pointerdown",u,this),t.input.off("pointerup",h,this),t.input.off("pointermove",c,this)),this._tap.destroy(),this._press.destroy()}},{key:"setEnable",value:function(t){return this.enable=t,t||(this.pointer=null),this._tap.setEnable(t),this._press.setEnable(t),this}}])&&w(e.prototype,n),i&&w(e,i),t}(),x={setInteractive:function(t){return void 0===t&&(t=!0),this.input||(this.input=new k(this)),this.input.setEnable(t),this}};Object.assign(i.a.prototype,x);e.a=i.a},function(t,e,n){"use strict";var i=n(10),r=function(t){var e=this.chessData.board,n=this.chessData.tileXYZ,i=n.x,r=n.y,o=t.toString();do{o+="."}while(e.contains(i,r,o));return o},o={x:0,y:0,direction:null},s=[],a=function(t,e,n){var i=this.chessData.board;if(null==i)return!1;var a=this.chessData.tileXYZ,u=a.x,h=a.y,l=a.z;if(t===u&&e===h)return!0;if(!i.contains(t,e))return!1;if(void 0===n&&(n=this.chessData.getTileDirection(t,e)),this.sneakMode)if(void 0===this.tileZSave){if(i.contains(t,e,l)){this.tileZSave=l;var c=r.call(this,this.tileZSave);i.moveChess(this.gameObject,t,e,c,!1),l=c}}else i.contains(t,e,this.tileZSave)?(c=r.call(this,this.tileZSave),i.moveChess(this.gameObject,t,e,c,!1),l=c):(i.moveChess(this.gameObject,t,e,this.tileZSave,!1),l=this.tileZSave,this.tileZSave=void 0);if(this.occupiedTest&&!this.sneakMode&&i.contains(t,e,l))return!1;if(this.blockerTest&&i.hasBlocker(t,e))return!1;if(this.edgeBlockerTest){var f=this.TileXYToChessArray(u,h,s);if(f.length>1)for(var d=0,p=f.length;d<p;d++)if(f[d]!==this.gameObject&&i.hasEdgeBlocker(u,h,this.chessToTileXYZ(f[d]).z,n))return s.length=0,!1;s.length=0}if(this.moveableTestCallback){if(o.x=t,o.y=e,o.direction=n,this.moveableTestScope)var y=this.moveableTestCallback.call(this.moveableTestScope,a,o,i);else y=this.moveableTestCallback(a,o,i);if(!y)return!1}return!0},u=n(0),h=n.n(u),l={},c=function(t,e,n){var i=this.chessData.board;if(null===i)return this.lastMoveResult=!1,this;if(null!=t&&"number"!=typeof t){var r=t;t=h()(r,"x",void 0),e=h()(r,"y",void 0),n=h()(r,"direction",void 0)}var o=this.chessData.tileXYZ;if(void 0!==n&&null==t||null==e){var s=i.getNeighborTileXY(o,n,!0);null!==s?(t=s.x,e=s.y):(t=null,e=null)}if(null==t||null==e)return this.lastMoveResult=!1,this;if(void 0===n&&(l.x=t,l.y=e,n=i.getNeighborTileDirection(o,l)),!this.canMoveTo(t,e,n))return this.lastMoveResult=!1,this;if(this.destinationTileX=t,this.destinationTileY=e,this.destinationDirection=n,i.wrapMode&&null!==n){var a=i.grid.getNeighborTileX(o.x,o.y,n),u=i.grid.getNeighborTileY(o.x,o.y,n);if(a===t&&u===e){var c=i.tileXYToWorldXY(t,e,!0);this.moveAlongLine(void 0,void 0,c.x,c.y)}else{var f=(c=i.tileXYToWorldXY(a,u,!0)).x,d=c.y,p=(c=i.tileXYToWorldXY(o.x,o.y,!0)).x,y=c.y,v=(p+f)/2,g=(y+d)/2;this.moveAlongLine(void 0,void 0,v,g);var b=i.getOppositeDirection(t,e,n);a=i.grid.getNeighborTileX(t,e,b),u=i.grid.getNeighborTileY(t,e,b),f=(c=i.tileXYToWorldXY(a,u,!0)).x,d=c.y,p=(f+(v=(c=i.tileXYToWorldXY(t,e,!0)).x))/2,y=(d+(g=c.y))/2,this.addMoveLine(p,y,v,g)}}else c=i.tileXYToWorldXY(t,e,!0),this.moveAlongLine(void 0,void 0,c.x,c.y);return i.moveChess(this.gameObject,t,e,void 0,!1),this.isRunning=!0,this.lastMoveResult=!0,this},f=function(t){return this.moveTo(void 0,void 0,t),this},d=n(11),p=n(43),y=n.n(p),v=[],g={x:0,y:0},b=[],m={canMoveTo:a,moveTo:c,moveToward:f,moveToRandomNeighbor:function(){var t=this.chessData.board;if(null===t)return this.lastMoveResult=!1,this;var e=t.grid.allDirections;v.length!==e.length&&Object(d.a)(e,v),y()(v);for(var n=0,i=v.length;n<i;n++)if(this.moveToward(v[n]),this.lastMoveResult)return this;return this},moveAway:function(t,e,n){var i=this.chessData.board;if(null===i)return this.lastMoveResult=!1,this;if("number"!=typeof t){var r=t;t=r.x,e=r.y}g.x=t,g.y=e,void 0===n&&(n=!0);var o,s,a=this.chessData.tileXYZ,u=i.grid.allDirections;if(b.length!==u.length+1){b.length=0;for(var h=0,l=u.length;h<l;h++)b.push({direction:h});b.push({direction:null})}for(h=0,l=b.length;h<l;h++){if(null===(s=(o=b[h]).direction))o.x=a.x,o.y=a.y;else if(null===i.getNeighborTileXY(a,s,o)){o.x=null,o.y=null,o.distance=null;continue}o.distance=i.getDistance(o,g,!0)}var c=this.destinationDirection;b.sort(function(t,e){return null===t.distance?1:null===e.distance?-1:t.distance>e.distance?n?-1:1:t.distance<e.distance?n?1:-1:t.direction===c?1:e.direction===c?-1:null===t.direction?1:null===e.direction?-1:0});for(h=0,l=b.length;h<l;h++){if(null===(o=b[h]).distance)return this;if(this.moveTo(o),this.lastMoveResult)return this}return this},moveCloser:function(t,e){return this.moveAway(t,e,!1),this}},w=n(74),k=n(22);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t,e,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=S(this,_(e).call(this,t,n))).gameObject=t,i.chessData=Object(k.a)(t),i.scene=t.scene,i.moveToTask=new w.a(t,j),i.resetFromJSON(n),i.boot(),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,i["a"]),n=e,(r=[{key:"resetFromJSON",value:function(t){return this.isRunning=h()(t,"isRunning",!1),this.setEnable(h()(t,"enable",!0)),this.timeScale=h()(t,"timeScale",1),this.setSpeed(h()(t,"speed",400)),this.setRotateToTarget(h()(t,"rotateToTarget",!1)),this.setOccupiedTest(h()(t,"occupiedTest",!1)),this.setBlockerTest(h()(t,"blockerTest",!1)),this.setEdgeBlockerTest(h()(t,"edgeBlockerTest",!1)),this.setMoveableTestCallback(h()(t,"moveableTest",void 0),h()(t,"moveableTestScope",void 0)),this.setSneakEnable(h()(t,"sneak",!1)),this.destinationTileX=h()(t,"destinationTileX",null),this.destinationTileY=h()(t,"destinationTileY",null),this.destinationDirection=h()(t,"destinationDirection",null),this.lastMoveResult=h()(t,"lastMoveResult",void 0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,speed:this.speed,occupiedTest:this.occupiedTest,blockerTest:this.blockerTest,edgeBlockerTest:this.edgeBlockerTest,moveableTest:this.moveableTestCallback,moveableTestScope:this.moveableTestScope,rotateToTarget:this.rotateToTarget,destinationTileX:this.destinationTileX,destinationTileY:this.destinationTileY,destinationDirection:this.destinationDirection,lastMoveResult:this.lastMoveResult,tickingMode:this.tickingMode}}},{key:"boot",value:function(){T(_(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.moveToTask.shutdown(),T(_(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){T(_(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){T(_(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToTarget",value:function(t){return this.rotateToTarget=t,this}},{key:"setOccupiedTest",value:function(t){return void 0===t&&(t=!0),this.occupiedTest=t,this}},{key:"setBlockerTest",value:function(t){return void 0===t&&(t=!0),this.blockerTest=t,this}},{key:"setEdgeBlockerTest",value:function(t){return void 0===t&&(t=!0),this.edgeBlockerTest=t,this}},{key:"setMoveableTestCallback",value:function(t,e){return this.moveableTestCallback=t,this.moveableTestScope=e,this}},{key:"setSneakEnable",value:function(t){return void 0===t&&(t=!0),this.sneakMode=t,this.tileZSave=void 0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"moveAlongLine",value:function(t,e,n,i){return void 0!==t&&(this.gameObject.x=t),void 0!==e&&(this.gameObject.y=e),this.moveToTask.moveTo(n,i),this}},{key:"addMoveLine",value:function(t,e,n,i){return this.moveToTask.hasOwnProperty("nextlines")||(this.moveToTask.nextlines=[]),this.moveToTask.nextlines.push([t,e,n,i]),this}},{key:"moveNextLine",value:function(){var t=this.moveToTask.nextlines;return!!t&&(0!==t.length&&(this.moveAlongLine.apply(this,t[0]),t.length=0,!0))}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var n=this.moveToTask;return n.update(t,e),n.isRunning?this:(this.moveNextLine()||this.complete(),this)}},{key:"enable",set:function(t){this.moveToTask.setEnable(t)},get:function(){return this.moveToTask.enable}},{key:"timeScale",get:function(){return this.moveToTask.timeScale},set:function(t){this.moveToTask.timeScale=t}},{key:"speed",set:function(t){this.moveToTask.setSpeed(t)},get:function(){return this.moveToTask.speed}},{key:"rotateToTarget",set:function(t){this.moveToTask.setRotateToTarget(t)},get:function(){return this.moveToTask.rotateToTarget}}])&&O(n.prototype,r),o&&O(n,o),e}(),j={tickingMode:0};Object.assign(C.prototype,m);e.a=C},function(t,e,n){"use strict";var i=function(t,e,n,i){for(var r,o,s=this.board,a=s.grid.halfDirections,u=this.dirMask,h=s.width,l=s.height,c=0,f=a.length;c<f;c++)if(!1!==u[r=a[c]])for(var d=0;d<l;d++)for(var p=0;p<h;p++)if(!1!==(o=this.matchAtDir(t,p,d,r))&&(e&&(n?e.call(n,o,s):e(o,s)),i))return o;return this},r={tileXY:[],direction:void 0,pattern:void 0},o={match:i,matchAtDir:function(t,e,n,i){var o,s="number"==typeof t;s?(o=t,t=null):o=t.length;var a,u,h=this.wildcard,l=this.board,c=r.tileXY;c.length=0;for(var f=0;f<o;f++){if(void 0===u)u={x:e,y:n};else if(null===(u=l.getNeighborTileXY(u,i,u)))return!1;if(null==(a=this.getSymbol(u.x,u.y)))return!1;if(a!==h)if(s){if(null===t)t=a;else if(t!==a)return!1}else if(t[f]!==a)return!1;c.push({x:u.x,y:u.y})}return r.direction=i,r.pattern=t,r}},s=n(75),a=n(0),u=n.n(a),h=n(21),l=n.n(h);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.symbols=[],this.dirMask={},this.resetFromJSON(e),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setBoard(u()(t,"board",void 0)),this.setWildcard(u()(t,"wildcard",void 0));var e=u()(t,"dirMask",void 0);return void 0!==e&&this.setDirMask(e),this}},{key:"boot",value:function(){}},{key:"shutdown",value:function(){return this.board=void 0,this.symbols=void 0,this.dirMask=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setBoard",value:function(t){return this.board=t,t&&this.clearSymbols(),this}},{key:"setDirMask",value:function(t,e){if(l()(t)){var n=t;for(t in n)this.dirMask[t]=n[t]}else this.dirMask[t]=e;return this}},{key:"setDirectionMode",value:function(t){return this.board.grid.setDirectionMode(t),this}},{key:"clearSymbols",value:function(){return this.refreshSymbols(null),this}},{key:"setSymbol",value:function(t,e,n,i){var r,o=this.board;return o.contains(t,e)?(Object(s.a)(n)?(d.x=t,d.y=e,r=i?n.call(i,d,o):n(d,o)):r=n,this.symbols[this.tileXYToKey(t,e)]=r,this):this}},{key:"getSymbol",value:function(t,e){return this.symbols[this.tileXYToKey(t,e)]}},{key:"dumpSymobls",value:function(t,e){for(var n,i,r=this.board,o=0,s=this.symbols.length;o<s;o++)i=this.symbols[o],n=this.keyToTileXY(o),e?t.call(e,n,i,r):t(n,i,r);return this}},{key:"refreshSymbols",value:function(t,e){var n,i=this.board,r=i.width,o=i.height;if(this.symbols.length=r*o,Object(s.a)(t))for(var a,u=0,h=this.symbols.length;u<h;u++)a=this.keyToTileXY(u),n=e?t.call(e,a,i):t(a,i),this.symbols[u]=n;else{n=t;for(u=0,h=this.symbols.length;u<h;u++)this.symbols[u]=n}return this}},{key:"setWildcard",value:function(t){return this.wildcard=t,this}},{key:"tileXYToKey",value:function(t,e){return t+e*this.board.width}},{key:"keyToTileXY",value:function(t,e){void 0===e&&(e={});var n=this.board.width;return e.x=t%n,e.y=Math.floor(t/n),e}},{key:"anyMatch",value:function(t){return this.match(t,null,null,!0)}}])&&c(e.prototype,n),i&&c(e,i),t}(),d={x:0,y:0};Object.assign(f.prototype,o);e.a=f},,function(t,e,n){"use strict";var i=n(60),r={};e.a=function(t,e,n,o){return n instanceof i.a&&(o=n,n=void 0),void 0===n&&(n=!0),r.mode=n?1:0,r.end=0,r.duration=e,void 0===o?o=new i.a(t,r):o.resetFromJSON(r),o.restart(),o}},function(t,e,n){var i=n(111),r=n(141),o=n(154),s=n(203),a=n(204),u=n(210),h=new i({initialize:function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i},contains:function(t,e){return r(this,t,e)},getPoint:function(t,e){return o(this,t,e)},getPoints:function(t,e,n){return s(this,t,e,n)},getRandomPoint:function(t){return u(this,t)},setTo:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new a),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new a),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new a),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new a),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},function(t,e){t.exports=function(t,e,n){return!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=n&&t.y+t.height>=n}},function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,a,u,h,l,d,y,v=e&&e.length,g=v?e[0]*n:t.length,b=r(t,0,g,n,!0),m=[];if(!b||b.next===b.prev)return m;if(v&&(b=function(t,e,n,i){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,h=s<a-1?e[s+1]*i:t.length,(l=r(t,u,h,i,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],n),n=o(n,n.next);return n}(t,e,b,n)),t.length>80*n){i=u=t[0],a=h=t[1];for(var w=n;w<g;w+=n)l=t[w],d=t[w+1],l<i&&(i=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);y=0!==(y=Math.max(u-i,h-a))?1/y:0}return s(b,m,n,i,a,y),m}function r(t,e,n,i,r){var o,s;if(r===T(t,e,n,i)>0)for(o=e;o<n;o+=i)s=x(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=x(o,t[o],t[o+1],s);return s&&b(s,s.next)&&(O(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!b(i,i.next)&&0!==g(i.prev,i,i.next))i=i.next;else{if(O(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function s(t,e,n,i,r,c,f){if(t){!f&&c&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,h=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<h&&(a++,i=i.nextZ);e++);for(u=h;a>0||u>0&&i;)0!==a&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,h*=2}while(s>1)}(r)}(t,i,r,c);for(var p,y,v=t;t.prev!==t.next;)if(p=t.prev,y=t.next,c?u(t,i,r,c):a(t))e.push(p.i/n),e.push(t.i/n),e.push(y.i/n),O(t),t=y.next,v=y.next;else if((t=y)===v){f?1===f?s(t=h(t,e,n),e,n,i,r,c,2):2===f&&l(t,e,n,i,r,c):s(o(t),e,n,i,r,c,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(g(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&g(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(g(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,h=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,l=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,n,i),f=d(h,l,e,n,i),p=t.prevZ,v=t.nextZ;p&&p.z>=c&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function h(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!b(r,o)&&m(r,i,i.next,o)&&w(r,o)&&w(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),O(i),O(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,n,i,r,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&v(u,h)){var l=k(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,n,i,r,a),void s(l,e,n,i,r,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,h=n,l=n.x,c=n.y,f=1/0;i=n.next;for(;i!==h;)r>=i.x&&i.x>=l&&r!==i.x&&y(o<c?r:s,o,l,c,o<c?s:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<f||u===f&&i.x>n.x)&&w(i,t)&&(n=i,f=u),i=i.next;return n}(t,e)){var n=k(e,t);o(n,n.next)}}function d(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function y(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&m(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&w(t,e)&&w(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,n,i){return!!(b(t,e)&&b(n,i)||b(t,i)&&b(n,e))||g(t,e,n)>0!=g(t,e,i)>0&&g(n,i,t)>0!=g(n,i,e)>0}function w(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function k(t,e){var n=new S(t.i,t.x,t.y),i=new S(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function x(t,e,n,i){var r=new S(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(T(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var h=e[a]*n,l=a<u-1?e[a+1]*n:t.length;s-=Math.abs(T(t,h,l,n))}var c=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,d=i[a+1]*n,p=i[a+2]*n;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},function(t,e,n){var i=n(185),r=n(186);t.exports=function(t,e,n,o,s){var a=this.pipeline,u=a._tempMatrix1,h=a._tempMatrix2,l=a._tempMatrix3;t.setPipeline(a),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),u.copyFrom(o.matrix),s?(u.multiplyWithOffset(s,-o.scrollX*e.scrollFactorX,-o.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=o.scrollX*e.scrollFactorX,h.f-=o.scrollY*e.scrollFactorY),u.multiply(h,l);var c=e._displayOriginX,f=e._displayOriginY,d=o.alpha*e.alpha;e.isFilled&&i(a,l,e,d,c,f),e.isStroked&&r(a,e,d,c,f)}},function(t,e,n){var i=n(187),r=n(188),o=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,n,s,a){var u=t.currentContext;if(o(t,u,e,s,a)){var h=e._displayOriginX,l=e._displayOriginY,c=e.pathData,f=c.length-1,d=c[0]-h,p=c[1]-l;u.beginPath(),u.moveTo(d,p),e.closePath||(f-=2);for(var y=2;y<f;y+=2){var v=c[y]-h,g=c[y+1]-l;u.lineTo(v,g)}u.closePath(),e.isFilled&&(i(u,e),u.fill()),e.isStroked&&(r(u,e),u.stroke()),u.restore()}}},function(t,e,n){"use strict";var i=n(146),r=n.n(i);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,r.a),n=e,(i=[{key:"shutdown",value:function(){this.removeAllListeners()}},{key:"destroy",value:function(){this.removeAllListeners()}}])&&s(n.prototype,i),o&&s(n,o),e}();e.a=l},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,i||t,o),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},u.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,n);break;case 4:l[h].fn.call(l[h].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,h=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&h.push(s[u]);h.length?this._events[o]=1===h.length?h[0]:h:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u},function(t,e){t.exports=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)}},function(t,e,n){"use strict";var i=n(0),r=n.n(i);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nextId=r()(e,"start",1),this.uidKey=r()(e,"uidKey","$uid"),this.autoRemove=r()(e,"remove",!0),this.refs={},this.count=0}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e){var n=this.refs,i=this.uidKey;if(i&&null!=(e=t[i]))return this;if(null==e)do{e=this.nextId,this.nextId++}while(n.hasOwnProperty(e));return n.hasOwnProperty(e)?e=null:(n[e]=t,this.count++,i&&(t[i]=e),this.autoRemove&&t.on&&t.once("destroy",function(){this.remove(e)},this)),i?this:e}},{key:"addMultiple",value:function(t){for(var e=0,n=t.length;e<n;e++)this.add(t[e]);return this}},{key:"get",value:function(t){return this.refs[t]}},{key:"has",value:function(t){return this.refs.hasOwnProperty(t)}},{key:"remove",value:function(t){var e=this.refs;if(e.hasOwnProperty(t)){if(this.uidKey)e[t][this.uidKey]=void 0;delete e[t],this.count--}return this}},{key:"forEach",value:function(t,e){var n,i=this.refs;for(var r in i)n=i[r],e?t.call(e,n,r):t(n,r)}},{key:"clear",value:function(){this.forEach(function(t){this.remove(t)},this)}}])&&o(e.prototype,n),i&&o(e,i),t}();e.a=s},function(t,e){t.exports=function(t,e,n){return(e-t)*n+t}},function(t,e,n){"use strict";var i=n(65),r=n(42),o=n.n(r),s=n(112),a=n(113);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,p=Phaser.Math.Distance.Between,y=Phaser.Math.Angle.Between,v=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,c(e).call(this))).resetFromJSON(t),n}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["a"]),n=e,(r=[{key:"resetFromJSON",value:function(t){void 0==this.start&&(this.start={}),void 0==this.end&&(this.end={}),this.setEnable(d(t,"enable",!0)),this.setMode(d(t,"dir","8dir")),this.setDistanceThreshold(d(t,"forceMin",16));var e=d(t,"start.x",null),n=d(t,"start.y",null),i=d(t,"end.x",null),r=d(t,"end.y",null);return this.setVector(e,n,i,r),this}},{key:"toJSON",value:function(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=s.a[t]),this.dirMode=t,this}},{key:"setEnable",value:function(t){if((t=void 0==t||!!t)!==this.enable)return!1===t&&this.clearVector(),this.enable=t,this}},{key:"setDistanceThreshold",value:function(t){return t<0&&(t=0),this.forceMin=t,this}},{key:"clearVector",value:function(){return this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.clearAllKeysState(),this}},{key:"setVector",value:function(t,e,n,i){if(this.clearVector(),!this.enable)return this;if(null===t)return this;if(void 0===n&&(n=t,t=0,i=e,e=0),this.start.x=t,this.start.y=e,this.end.x=n,this.end.y=i,this.forceMin>0&&this.force<this.forceMin)return this;var r=Object(a.a)(this.angle,this.dirMode,!0);for(var o in r)r[o]&&this.setKeyState(o,!0);return this}},{key:"forceX",get:function(){return this.end.x-this.start.x}},{key:"forceY",get:function(){return this.end.y-this.start.y}},{key:"force",get:function(){return p(this.start.x,this.start.y,this.end.x,this.end.y)}},{key:"rotation",get:function(){return y(this.start.x,this.start.y,this.end.x,this.end.y)}},{key:"angle",get:function(){return o()(this.rotation)}},{key:"octant",get:function(){var t=0;return this.rightKeyDown?t=this.downKeyDown?45:0:this.downKeyDown?t=this.leftKeyDown?135:90:this.leftKeyDown?t=this.upKeyDown?225:180:this.upKeyDown&&(t=this.rightKeyDown?315:270),t}}])&&h(n.prototype,r),u&&h(n,u),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t,e,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=Phaser.Events.EventEmitter,S=Phaser.Utils.Objects.GetValue,T=Phaser.Geom.Circle,_=Phaser.Geom.Circle.Contains,P=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=m(this,k(e).call(this,n))).events=new O,i.scene=t.scene,i.gameObject=t,i.radius=S(n,"radius",100),t.setInteractive(new T(t.displayOriginX,t.displayOriginY,i.radius),_),i.boot(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,v),n=e,(i=[{key:"resetFromJSON",value:function(t){return w(k(e.prototype),"resetFromJSON",this).call(this,t),this.pointer=void 0,this}},{key:"toJSON",value:function(){var t=w(k(e.prototype),"toJSON",this).call(this);return t.radius=this.radius,t}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this),this.scene.input.on("pointermove",this.onKeyDown,this),this.scene.input.on("pointerup",this.onKeyUp,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&(this.scene.input.off("pointermove",this.onKeyDown,this),this.scene.input.off("pointerup",this.onKeyUp,this)),this.events.destroy(),this.pointer=void 0,this.scene=void 0,this.gameObject=void 0,this.events=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"onKeyDownStart",value:function(t){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.onKeyDown(t))}},{key:"onKeyDown",value:function(t){if(this.pointer===t){var e=this.gameObject,n=t;this.setVector(e.x,e.y,n.x,n.y),this.events.emit("update")}}},{key:"onKeyUp",value:function(t){this.pointer===t&&(this.pointer=void 0,this.clearVector(),this.events.emit("update"))}},{key:"on",value:function(){var t=this.events;return t.on.apply(t,arguments),this}},{key:"once",value:function(){var t=this.events;return t.once.apply(t,arguments),this}}])&&b(n.prototype,i),r&&b(n,r),e}();e.a=P},function(t,e,n){"use strict";var i=n(4),r=n(3);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.setEventEmitter(s(n,"eventEmitter",void 0)),e.setInteractive(s(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(s(t,"enable",!0)),this.setMode(s(t,"mode",1)),this.setClickInterval(s(t,"clickInterval",100)),this.setDragThreshold(s(t,"threshold",void 0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=u[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t))}},{key:"onRelease",value:function(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t),this.pointer=void 0)}},{key:"onPointOut",value:function(t){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e){if(void 0===t)return this.emit("click",this,this.gameObject,e),this;this.pointer=void 0;var n=this.lastClickTime;return void 0!==n&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject,e),this)}},{key:"cancel",value:function(){return this.pointer=void 0,this}}])&&o(e.prototype,n),i&&o(e,i),t}();Object.assign(a.prototype,i.a);var u={press:0,pointerdown:0,release:1,pointerup:1};e.a=a},function(t,e,n){"use strict";var i=Phaser.GameObjects.Text;e.a=function(t){return t instanceof i}},function(t,e,n){"use strict";var i=function(t,e){var n;return-1==(n=e).indexOf("==")&&-1==n.indexOf("!=")&&-1==n.indexOf(">=")&&-1==n.indexOf("<=")&&-1==n.indexOf(">")&&-1==n.indexOf("<")&&(isNaN(e)&&(e="'"+e+"'"),e="==("+e+")"),"(values['"+t+"']"+e+")"};e.a=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++)""!==e[r]&&null!=e[r]&&n.push(i(t[r],e[r]));var s=n.length>0?n.join("&&"):"false";return new Function("values","return "+s)}},function(t,e,n){var i=n(155),r=n(68);t.exports=function(t,e,n){if(void 0===n&&(n=new r),e<=0||e>=1)return n.x=t.x,n.y=t.y,n;var o=i(t)*e;return e>.5?(o-=t.width+t.height)<=t.width?(n.x=t.right-o,n.y=t.bottom):(n.x=t.x,n.y=t.bottom-(o-t.width)):o<=t.width?(n.x=t.x+o,n.y=t.y):(n.x=t.right,n.y=t.y+(o-t.width)),n}},function(t,e){t.exports=function(t){return 2*(t.width+t.height)}},,,,,function(t,e,n){"use strict";var i=n(59),r={};e.a=function(t,e,n,o,s,a){switch(s instanceof i.a&&(a=s,s=void 0),void 0===s&&(s=!0),r.mode=s?1:0,n){case"x":r.end={x:0};break;case"y":r.end={y:0};break;default:r.end=0}return r.duration=e,r.ease=void 0===o?"Linear":o,void 0===a?a=new i.a(t,r):a.resetFromJSON(r),a.restart(),a}},function(t,e,n){"use strict";var i=n(59),r={};e.a=function(t,e,n,o,s){switch(r.mode=0,n){case"x":r.start={x:0};break;case"y":r.start={y:0};break;default:r.start=0}return r.end=1,r.duration=e,r.ease=void 0===o?"Cubic":o,void 0===s?s=new i.a(t,r):s.resetFromJSON(r),s.restart(),s}},function(t,e,n){"use strict";var i=n(3),r=n(4),o=n(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=u(this,h(e).call(this,n))).parent=t,i.init(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o["a"]),n=e,(i=[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(t,e){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(t,e){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(t,e){var n=this.parent;n.dragState.justMoved&&n.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}])&&a(n.prototype,i),r&&a(n,r),e}(),f=n(118);function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=Phaser.Utils.Objects.GetValue,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setValue(p(t,"value",0)),this.setSpeed(p(t,"speed",0)),this.setAcceleration(p(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return this.speed>0}}])&&d(e.prototype,n),i&&d(e,i),t}();function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value,this.dir,this.movement=new y}var e,n,i;return e=t,(n=[{key:"init",value:function(t,e,n,i,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(n).setAcceleration(-i),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}])&&v(e.prototype,n),i&&v(e,i),t}();function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m=Phaser.Utils.Objects.GetValue,w=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.setEventEmitter(m(n,"eventEmitter",void 0));var r=m(n,"enable",!0),o={enable:r,eventEmitter:!1};this._state=new c(this,o);var s={inputConfig:m(n,"inputConfig",void 0),enable:r,eventEmitter:!1};this.dragState=new f.a(e,s),this._value=void 0,this._slowDown=new g;var a=m(n,"valuechangeCallback",null);if(null!==a){var u=m(n,"valuechangeCallbackScope",void 0);this.on("valuechange",a,u)}if(null!==(a=m(n,"overmaxCallback",null))){u=m(n,"overmaxCallbackScope",void 0);this.on("overmax",a,u)}if(null!==(a=m(n,"overminCallback",null))){u=m(n,"overminCallbackScope",void 0);this.on("overmin",a,u)}this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setOrientationMode(m(t,"orientation",0)),this.setDragThreshold(m(t,"threshold",10)),this.setSlidingDeceleration(m(t,"slidingDeceleration",5e3)),this.setBackDeceleration(m(t,"backDeceleration",2e3));var e=m(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(m(t,"max",0),m(t,"min",0)),this.setValue(m(t,"value",this.maxValue||0)),this.setEnable(m(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=k[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var n=t;t=n[0],e=n[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"setValue",value:function(t){this.value=t}},{key:"setEnable",value:function(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var n=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),n)}},{key:"sliding",value:function(t,e){e*=.001;var n=this._slowDown.update(e).value;this.overMax(n)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(n)?(this.value=this.minValue,this._slowDown.stop()):this.value=n}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,n=Math.abs(e-t),i=this.backDeceleration,r=Math.sqrt(2*i*n);this._slowDown.init(t,void 0,r,i,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,n=this.overMax(t),i=this.overMin(t);n&&this.emit("overmax",t,e),i&&this.emit("overmin",t,e),this.backEnable||(n&&(t=this.maxValue),i&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}}])&&b(e.prototype,n),r&&b(e,r),t}();Object.assign(w.prototype,r.a);var k={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},x=w;e.a=x},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=Phaser.Structs.Set,o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setCompleteCallback(e,n),this.events=new r}var e,n,o;return e=t,(n=[{key:"shutdown",value:function(){return this.setCompleteCallback(void 0,void 0),this.events.clear(),this.event=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setCompleteCallback",value:function(t,e){return this.completeCallback=t,this.scope=e,this}},{key:"waitCallback",value:function(){var t=this,e=function e(){t.remove(e)};return this.events.set(e),e}},{key:"waitEvent",value:function(t,e){return t.once(e,this.waitCallback()),this}},{key:"remove",value:function(t){return this.events.delete(t),0===this.events.size&&(this.scope?this.completeCallback.call(this.scope):this.completeCallback()),this}}])&&i(e.prototype,n),o&&i(e,o),t}();e.a=o},function(t,e,n){"use strict";var i=n(3),r=n(152);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Clamp,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(n),this.boot()}var e,n,u;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setText(s(t,"text","")),this.setStartIdx(s(t,"start",0)),this.setPageIdx(s(t,"page",-1)),this}},{key:"toJSON",value:function(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}},{key:"boot",value:function(){this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){this.shutdown()}},{key:"setTextObjectType",value:function(){return this.textObjectType=Object(r.a)(this.gameObject)?0:1,this}},{key:"setText",value:function(t,e){return void 0===e&&(e=!0),this.text=h(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}},{key:"appendText",value:function(t){return this.setText(this.text.concat(h(t))),this}},{key:"getPage",value:function(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}},{key:"getNextPage",value:function(){return this.getPage(this.pageIndex+1)}},{key:"getPreviousPage",value:function(){return this.getPage(this.pageIndex-1)}},{key:"showPage",value:function(t){return this.displayText(this.getPage()),this}},{key:"showNextPage",value:function(){return this.displayText(this.getNextPage()),this}},{key:"showPreviousPage",value:function(){return this.displayText(this.getPreviousPage()),this}},{key:"show",value:function(){return this.displayText(this.getLines()),this}},{key:"showNextLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}},{key:"showPreviousLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}},{key:"setStartIdx",value:function(t){return t=a(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}},{key:"resetPageIdx",value:function(){this.pageIndex=-1}},{key:"setPageIdx",value:function(t){return t=a(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}},{key:"getLines",value:function(t){void 0===t&&(t=this.startLineIdx);var e,n=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,n).join("\n");else{var i=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(n-1);e=this.lines.getSliceTagText(i,r,!0)}return e}},{key:"displayText",value:function(t){this.gameObject.setText(t)}},{key:"isFirstPage",get:function(){return this.pageIndex<=0}},{key:"isLastPage",get:function(){return this.pageIndex>=this.pageCount-1}},{key:"totalLinesCount",get:function(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"pageLinesCount",get:function(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}}])&&o(e.prototype,n),u&&o(e,u),t}(),h=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},l=u;e.a=l},function(t,e,n){"use strict";var i=n(3);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetFastValue,f=Phaser.Utils.Objects.GetValue,d=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,u(e).call(this))).gameObject=t,r.scene=Object(i.a)(t),r.timer=null,r.resetFromJSON(n),r.boot(),r}var n,r,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l),n=e,(r=[{key:"resetFromJSON",value:function(t){this.setTypeMode(f(t,"typeMode",0)),this.setTypeSpeed(f(t,"speed",333)),this.setTextCallback=c(t,"setTextCallback",null),this.setTextCallbackScope=c(t,"setTextCallbackScope",null),this.typingIdx=c(t,"typingIdx",0),this.text=p(c(t,"text","")),this.textLen=c(t,"textLen",0),this.insertIdx=c(t,"insertIdx",null);var e=c(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}},{key:"toJSON",value:function(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}},{key:"boot",value:function(){return this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return a(u(e.prototype),"shutdown",this).call(this),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setTypeMode",value:function(t){return"string"==typeof t&&(t=y[t]),this.typeMode=t,this}},{key:"setTypeSpeed",value:function(t){return this.speed=t,this}},{key:"start",value:function(t,e,n,i){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===n&&(n=0),this.typingIdx=n+1,0===this.speed?this.stop(!0):this.startTimer(i),this}},{key:"appendText",value:function(t){var e=this.text.concat(p(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}},{key:"stop",value:function(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}},{key:"pause",value:function(){var t=this.getTimer();return t&&(t.paused=!0),this}},{key:"resume",value:function(){var t=this.getTimer();return t&&(t.paused=!1),this}},{key:"setTypingContent",value:function(t){return this.text=p(t),this.textLen=this.getTextLength(this.text),this}},{key:"onTyping",value:function(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}},{key:"getTypingString",value:function(t,e,n,i){var r;if(0===i){var o=0,s=e;this.insertIdx=s,r=this.getSubString(t,o,s)}else if(1===i){o=(s=n)-e;this.insertIdx=0,r=this.getSubString(t,o,s)}else if(2===i){var a=n/2;s=(o=Math.floor(a-e/2))+e;this.insertIdx=e%2?e:0,r=this.getSubString(t,o,s)}else if(3===i){var u,h=Math.floor(e/2);if(h>0){o=(s=n)-h;u=this.getSubString(t,o,s)}else u="";var l,c=e-h;if(c>0){s=(o=0)+c;this.insertIdx=s,l=this.getSubString(t,o,s)}else l="",this.insertIdx=0;r=l+u}return r}},{key:"startTimer",value:function(t){var e;return this.timer&&this.freeTimer(),void 0===t?(0,e=0):(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}},{key:"getTimer",value:function(){return this.timer}},{key:"freeTimer",value:function(){return this.timer&&(this.timer.remove(),this.timer=null),this}},{key:"setText",value:function(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}},{key:"getTextLength",value:function(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}},{key:"getSubString",value:function(t,e,n){var i=this.gameObject;return i.getSubString?i.getSubString(t,e,n):t.slice(e,n)}},{key:"isTyping",get:function(){return null!==this.getTimer()}},{key:"isLastChar",get:function(){return this.typingIdx===this.textLen}}])&&o(n.prototype,r),d&&o(n,d),e}(),p=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},y={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},v=d;e.a=v},function(t,e,n){"use strict";var i=n(54);e.a=function(t,e,n,r){var o=new i.a(this.scene,t,e,n,r);return this.scene.add.existing(o),o}},function(t,e,n){"use strict";var i=n(54),r=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){var n=r(t,"text",""),s=r(t,"style",null),a=r(t,"padding",null);null!==a&&(s.padding=a),void 0!==e&&(t.add=e);var u=new i.a(this.scene,0,0,n,s);return o(this.scene,u,t),u.autoRound=r(t,"autoRound",!0),u.resolution=r(t,"resolution",1),u}},function(t,e,n){"use strict";var i=n(55);e.a=function(t,e,n,r){var o=new i.a(this.scene,t,e,n,r);return this.scene.add.existing(o),o}},function(t,e,n){"use strict";var i=n(55),r=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){var n=r(t,"text",""),s=r(t,"style",null),a=r(t,"padding",null);null!==a&&(s.padding=a),void 0!==e&&(t.add=e);var u=new i.a(this.scene,0,0,n,s);return o(this.scene,u,t),u.autoRound=r(t,"autoRound",!0),u.resolution=r(t,"resolution",1),u}},function(t,e,n){"use strict";var i=n(26);e.a=function(t,e,n,r){var o=new i.a(this.scene,t,e,n,r);return this.scene.add.existing(o),o}},function(t,e,n){"use strict";var i=n(26),r=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){var n=r(t,"width",256),s=r(t,"height",n);void 0!==e&&(t.add=e);var a=new i.a(this.scene,0,0,n,s);o(this.scene,a,t);var u=r(t,"fill",null);return a.fill(u),a}},function(t,e,n){"use strict";var i=n(25);e.a=function(t,e,n,r,o){var s=new i.a(this.scene,t,e,n,r,o);return this.scene.add.existing(s),s}},function(t,e,n){"use strict";var i=n(25),r=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.Utils.Objects.GetValue,s=Phaser.GameObjects.BuildGameObject;e.a=function(t){var e=r(t,"width",1),n=r(t,"height",e),a=o(t,"children",void 0),u=new i.a(this.scene,0,0,e,n);return u.syncChildrenEnable=!1,s(this.scene,u,t),u.syncChildrenEnable=!0,u.add(a),u}},function(t,e,n){"use strict";var i=n(53);e.a=function(t,e,n,r,o){var s=new i.a(this.scene,t,e,n,r,o);return this.scene.add.existing(s),s}},function(t,e,n){"use strict";var i=n(53),r=Phaser.Utils.Objects.GetValue,o=Phaser.GameObjects.BuildGameObject;e.a=function(t){var e=r(t,"width",256),n=r(t,"height",256),s=new i.a(this.scene,0,0,e,n,t);return s.syncChildrenEnable=!1,o(this.scene,s,t),s.syncChildrenEnable=!0,s.syncPosition().syncVisible().syncAlpha(),s}},function(t,e,n){"use strict";var i=n(52);e.a=function(t,e,n,r,o,s,a){var u=new i.a(this.scene,t,e,n,r,o,s,a);return this.scene.add.existing(u),u}},function(t,e,n){"use strict";var i=n(52),r=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.Utils.Objects.GetValue,s=Phaser.GameObjects.BuildGameObject;e.a=function(t){var e=r(t,"width",void 0),n=r(t,"height",e),a=o(t,"radius",void 0),u=r(t,"fillColor",void 0),h=r(t,"fillAlpha",void 0),l=new i.a(this.scene,0,0,e,n,a,u,h);return s(this.scene,l,t),l}},function(t,e,n){"use strict";var i=n(10),r=n(3),o=n(0),s=n.n(o),a=n(35),u=n(66),h=n(56),l=n(18);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=d(this,y(e).call(this,t,n))).parent=t,i.scene=Object(r.a)(t),i.resetFromJSON(n),i.boot(),i}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=s()(t,"isRunning",!1),this.state=s()(t,"state",0),this.commands=s()(t,"commands",[]),this.scope=s()(t,"scope",void 0),this.setTimeUnit(s()(t,"timeUnit",0)),this.setDtMode(s()(t,"dtMode",0)),this.setTimeScale(s()(t,"timeScale",1)),this.index=s()(t,"index",0),this.nextDt=s()(t,"nextDt",0),this.seek(s()(t,"now",0)),this.timeScale=s()(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){p(y(e.prototype),"boot",this).call(this);var t=Object(h.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){p(y(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){p(y(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){p(y(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"load",value:function(t,e,n){this.stop();var i=s()(n,"timeUnit",void 0);void 0!==i&&this.setTimeUnit(i);var r=s()(n,"dtMode",void 0);return void 0!==r&&this.setDtMode(r),t=t.filter(function(t){var e=t[0];return!isNaN(e)}).map(function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t}),0===this.dtMode&&t.sort(function(t,e){var n=t[0],i=e[0];return n>i?1:n<i?-1:0}),this.commands=t,this.scope=e,this}},{key:"start",value:function(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this.state=0,this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"setTimeScale",value:function(t){this.timeScale=t}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var n=this.commands[this.index],i=n[1];if(Object(l.a)(i)||(i=Object(a.a)(b,n,1)),Object(u.a)(i,this.scope),this.emit("runcommand",i,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}},{key:"complete",value:function(){p(y(e.prototype),"complete",this).call(this),this.state=2}},{key:"getNextDt",value:function(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}},{key:"setDtMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.dtMode=t,this}},{key:"setTimeUnit",value:function(t){return"string"==typeof t&&(t=m[t]),this.timeUnit=t,this}},{key:"isPlaying",get:function(){return this.isRunning}},{key:"completed",get:function(){return 2===this.state}}])&&f(n.prototype,o),c&&f(n,c),e}(),b=[],m={ms:0,s:1,sec:1},w={abs:0,absolute:0,inc:1,increment:1};e.a=g},function(t,e){t.exports=function(t,e,n){return void 0===n&&(n=1e-4),Math.abs(t-e)<n}},function(t,e){t.exports=function(t,e,n){return t.radius>0&&e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-n)*(t.y-n)<=t.radius*t.radius}},function(t,e){t.exports=function(t,e,n){if(t.width<=0||t.height<=0)return!1;var i=(e-t.x)/t.width,r=(n-t.y)/t.height;return(i*=i)+(r*=r)<.25}},function(t,e){t.exports=function(t,e,n){for(var i=!1,r=-1,o=t.points.length-1;++r<t.points.length;o=r){var s=t.points[r].x,a=t.points[r].y,u=t.points[o].x,h=t.points[o].y;(a<=n&&n<h||h<=n&&n<a)&&e<(u-s)*(n-a)/(h-a)+s&&(i=!i)}return i}},function(t,e,n){var i=n(140);t.exports=function(t,e){void 0===e&&(e=new i);for(var n,r=1/0,o=1/0,s=-r,a=-o,u=0;u<t.points.length;u++)n=t.points[u],r=Math.min(r,n.x),o=Math.min(o,n.y),s=Math.max(s,n.x),a=Math.max(a,n.y);return e.x=r,e.y=o,e.width=s-r,e.height=a-o,e}},function(t,e){t.exports=function(t,e,n){var i=t.x3-t.x1,r=t.y3-t.y1,o=t.x2-t.x1,s=t.y2-t.y1,a=e-t.x1,u=n-t.y1,h=i*i+r*r,l=i*o+r*s,c=i*a+r*u,f=o*o+s*s,d=o*a+s*u,p=h*f-l*l,y=0===p?0:1/p,v=(f*c-l*d)*y,g=(h*d-l*c)*y;return v>=0&&g>=0&&v+g<1}},function(t,e){var n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,i,r,o,s){for(var a=n.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*r),u=i.pathData,h=i.pathIndexes,l=0;l<h.length;l+=3){var c=2*h[l],f=2*h[l+1],d=2*h[l+2],p=u[c+0]-o,y=u[c+1]-s,v=u[f+0]-o,g=u[f+1]-s,b=u[d+0]-o,m=u[d+1]-s,w=e.getX(p,y),k=e.getY(p,y),x=e.getX(v,g),O=e.getY(v,g),S=e.getX(b,m),T=e.getY(b,m);t.setTexture2D(),t.batchTri(w,k,x,O,S,T,0,0,1,1,a,a,a,t.tintEffect)}}},function(t,e){var n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,i,r,o){var s=t.strokeTint,a=n.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*i);s.TL=a,s.TR=a,s.BL=a,s.BR=a;var u=e.pathData,h=u.length-1,l=e.lineWidth,c=l/2,f=u[0]-r,d=u[1]-o;e.closePath||(h-=2);for(var p=2;p<h;p+=2){var y=u[p]-r,v=u[p+1]-o;t.setTexture2D(),t.batchLine(f,d,y,v,c,c,l,p-2,!!e.closePath&&p===h-1),f=y,d=v}}},function(t,e){t.exports=function(t,e,n,i){var r=n||e.fillColor,o=i||e.fillAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,u=255&r;t.fillStyle="rgba("+s+","+a+","+u+","+o+")"}},function(t,e){t.exports=function(t,e,n,i){var r=n||e.strokeColor,o=i||e.strokeAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,u=255&r;t.strokeStyle="rgba("+s+","+a+","+u+","+o+")",t.lineWidth=e.lineWidth}},,function(t,e,n){"use strict";var i=n(124),r=n(28),o=Phaser.Display.Align.In.QuickSet,s=Phaser.Utils.Objects.GetFastValue,a=new i.a,u=function(t,e){void 0===e&&(e={});var n=s(e,"width",-1),i=s(e,"height",-1),u=s(e,"cellWidth",1),h=s(e,"cellHeight",u),l=s(e,"staggeraxis",1),c=s(e,"staggerindex",1),f=s(e,"position",Phaser.Display.Align.CENTER),d=s(e,"x",0),p=s(e,"y",0);a.setOriginPosition(d,p).setCellSize(u,h).setType(l,c),r.a.setSize(u,h);for(var y=i-1,v=n-1,g=0,b=0,m=0,w=t.length;m<w;m++)if(a.getWorldXY(b,g,r.a),o(t[m],r.a,f),-1===n)g++;else if(-1===i)b++;else if(b===v){if(g===y)break;b=0,g++}else b++;return t},h=n(125),l=Phaser.Display.Align.In.QuickSet,c=Phaser.Utils.Objects.GetFastValue,f=new h.a,d=function(t,e){void 0===e&&(e={});var n=c(e,"width",-1),i=c(e,"height",-1),o=c(e,"cellWidth",1),s=c(e,"cellHeight",o),a=c(e,"type",0),u=c(e,"position",Phaser.Display.Align.CENTER),h=c(e,"x",0),d=c(e,"y",0);f.setOriginPosition(h,d).setCellSize(o,s).setType(a),r.a.setSize(o,s);for(var p=i-1,y=n-1,v=0,g=0,b=0,m=t.length;b<m;b++)if(f.getWorldXY(g,v,r.a),l(t[b],r.a,u),-1===n)v++;else if(-1===i)g++;else if(g===y){if(v===p)break;g=0,v++}else g++;return t};n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d})},,function(t,e,n){var i,r=function(){function t(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},o={compressToBase64:function(t){if(null==t)return"";var e=o._compress(t,6,function(t){return n.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(i){return t(n,e.charAt(i))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),i=0,r=e.length;r>i;i++){var s=e.charCodeAt(i);n[2*i]=s>>>8,n[2*i+1]=s%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var n=new Array(t.length/2),i=0,r=n.length;r>i;i++)n[i]=256*t[2*i]+t[2*i+1];var s=[];return n.forEach(function(t){s.push(e(t))}),o.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,function(t){return i.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(n){return t(i,e.charAt(n))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(t,e,n){if(null==t)return"";var i,r,o,s={},a={},u="",h="",l="",c=2,f=3,d=2,p=[],y=0,v=0;for(o=0;o<t.length;o+=1)if(u=t.charAt(o),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,a[u]=!0),h=l+u,Object.prototype.hasOwnProperty.call(s,h))l=h;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(i=0;d>i;i++)y<<=1,v==e-1?(v=0,p.push(n(y)),y=0):v++;for(r=l.charCodeAt(0),i=0;8>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1}else{for(r=1,i=0;d>i;i++)y=y<<1|r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r=0;for(r=l.charCodeAt(0),i=0;16>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1}0==--c&&(c=Math.pow(2,d),d++),delete a[l]}else for(r=s[l],i=0;d>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1;0==--c&&(c=Math.pow(2,d),d++),s[h]=f++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(i=0;d>i;i++)y<<=1,v==e-1?(v=0,p.push(n(y)),y=0):v++;for(r=l.charCodeAt(0),i=0;8>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1}else{for(r=1,i=0;d>i;i++)y=y<<1|r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r=0;for(r=l.charCodeAt(0),i=0;16>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1}0==--c&&(c=Math.pow(2,d),d++),delete a[l]}else for(r=s[l],i=0;d>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1;0==--c&&(c=Math.pow(2,d),d++)}for(r=2,i=0;d>i;i++)y=y<<1|1&r,v==e-1?(v=0,p.push(n(y)),y=0):v++,r>>=1;for(;;){if(y<<=1,v==e-1){p.push(n(y));break}v++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,n,i){var r,o,s,a,u,h,l,c=[],f=4,d=4,p=3,y="",v=[],g={val:i(0),position:n,index:1};for(r=0;3>r;r+=1)c[r]=r;for(s=0,u=Math.pow(2,2),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),s|=(a>0?1:0)*h,h<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),s|=(a>0?1:0)*h,h<<=1;l=e(s);break;case 1:for(s=0,u=Math.pow(2,16),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),s|=(a>0?1:0)*h,h<<=1;l=e(s);break;case 2:return""}for(c[3]=l,o=l,v.push(l);;){if(g.index>t)return"";for(s=0,u=Math.pow(2,p),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),s|=(a>0?1:0)*h,h<<=1;switch(l=s){case 0:for(s=0,u=Math.pow(2,8),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),s|=(a>0?1:0)*h,h<<=1;c[d++]=e(s),l=d-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),s|=(a>0?1:0)*h,h<<=1;c[d++]=e(s),l=d-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,p),p++),c[l])y=c[l];else{if(l!==d)return null;y=o+o.charAt(0)}v.push(y),c[d++]=o+y.charAt(0),o=y,0==--f&&(f=Math.pow(2,p),p++)}}};return o}();void 0===(i=function(){return r}.call(e,n,e,t))||(t.exports=i)},,,function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.Loader.FILE_POPULATED,h=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,s(e).call(this,t,n))}var n,i,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,Phaser.Loader.File),n=e,(i=[{key:"load",value:function(){if(this.state===u)this.loader.nextFile(this,!0);else{var t=this.config,e=t.callback,n=t.scope,i=this.onLoad.bind(this),r=this.onError.bind(this);e?n?e.call(n,i,r):e(i,r):this.onLoad()}}},{key:"onLoad",value:function(){this.loader.nextFile(this,!0)}},{key:"onError",value:function(){this.loader.nextFile(this,!1)}}])&&r(n.prototype,i),h&&r(n,h),e}(),l=Phaser.Utils.Objects.IsPlainObject;e.a=function(t,e){return l(t)?(e=t).hasOwnProperty("config")?(e.type="await",e.url=""):e={key:"await",type:"await",url:"",config:e}:e={type:"await",url:"",key:t,config:e},this.addFile(new h(this,e)),this}},function(t,e,n){"use strict";var i=n(247),r=n.n(i);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Loader.FILE_POPULATED,c=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,t,n))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,Phaser.Loader.File),n=e,(i=[{key:"load",value:function(){if(this.state===l)this.loader.nextFile(this,!0);else{var t=this.config;t.active=this.onLoad.bind(this),t.inactive=this.onError.bind(this),t.fontactive=this.onFontActive.bind(this),t.fontinactive=this.onFontInactive.bind(this),r.a.load(t)}}},{key:"onLoad",value:function(){this.loader.nextFile(this,!0)}},{key:"onError",value:function(){this.loader.nextFile(this,!1)}},{key:"onFontActive",value:function(t,e){this.loader.emit("webfontactive",this,t)}},{key:"onFontInactive",value:function(t,e){this.loader.emit("webfontinactive",this,t)}}])&&s(n.prototype,i),o&&s(n,o),e}(),f=Phaser.Utils.Objects.IsPlainObject;e.a=function(t,e){return f(t)?(e=t).hasOwnProperty("config")?(e.type="webfont",e.url=""):e={key:"webfont",type:"webfont",url:"",config:e}:e={type:"webfont",url:"",key:t,config:e},this.addFile(new c(this,e)),this}},,,,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=Phaser.Utils.Objects.GetValue,o=Phaser.Utils.Objects.GetAdvancedValue,s=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=n,this.scene=e,this.volume={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,n,s;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setMode(r(t,"mode",0)),this.setVolumeRange(o(t,"volume.start",this.sound.volume),o(t,"volume.end",0)),this.setDelay(o(t,"delay",0)),this.setFadeOutTime(o(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,volume:this.volume,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this),this.sound.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.stop(),this.scene.events.off("destroy",this.destroy,this),this.sound.off("destroy",this.destroy,this),this.sound=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=a[t]),this.mode=t,this}},{key:"setVolumeRange",value:function(t,e){return this.volume.start=t,this.volume.end=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setFadeOutTime",value:function(t){return this.duration=t,this}},{key:"start",value:function(){if(!this.tween)return 0===this.duration?(this.sound.setVolume(this.volume.end),this.complete(),this):(this.sound.setVolume(this.volume.start),this.tween=this.scene.tweens.add({targets:this.sound,volume:this.volume.end,delay:this.delay,duration:this.duration,ease:"Linear",onComplete:this.complete,onCompleteScope:this}),this)}},{key:"stop",value:function(){if(this.tween)return this.tween.remove(),this.tween=void 0,this}},{key:"complete",value:function(){switch(this.stop(),this.mode){case 1:this.sound.stop();break;case 2:this.sound.destroy()}}}])&&i(e.prototype,n),s&&i(e,s),t}(),a={stop:1,destroy:2},u=s,h={volume:{}},l=function(t,e,n,i,r){var o;return void 0===i&&(i=1),void 0===r&&(r=0),h.mode=0,h.volume.start=r,h.volume.end=i,h.duration=n,"string"==typeof e&&(e=t.sound.add(e)),e.hasOwnProperty("_fade")?(o=e._fade).stop().resetFromJSON(h):(o=new u(t,e,h),e._fade=o),o.start(),e.isPlaying||e.setVolume(r).play(),e},c={volume:{}},f=function(t,e,n,i){var r;return void 0===i&&(i=!0),c.mode=i?2:1,c.volume.start=e.volume,c.volume.end=0,c.duration=n,e.hasOwnProperty("_fade")?(r=e._fade).stop().resetFromJSON(c):(r=new u(t,e,c),e._fade=r),r.start(),e.isPlaying||e.play(),e};e.a={fadeIn:l,fadeOut:f}},function(t,e,n){"use strict";var i=n(192),r=n.n(i);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetFastValue,a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setEncoding(s(t,"encoding",0)),this}},{key:"toJSON",value:function(){return{encoding:this.encoding}}},{key:"setEncoding",value:function(t){return void 0===t?t=0:"string"==typeof t&&(t=u[t.toLowerCase()]||0),this.encoding=t,this}},{key:"compress",value:function(t){var e=h[this.encoding];return r.a[e](t)}},{key:"decompress",value:function(t){var e=l[this.encoding];return r.a[e](t)}}])&&o(e.prototype,n),i&&o(e,i),t}(),u={none:0,base64:1,utf16:2,uri:3},h=["compress","compressToBase64","compressToUTF16","compressToEncodedURIComponent"],l=["decompress","decompressFromBase64","decompressFromUTF16","decompressFromEncodedURIComponent"],c=a;e.a=c},function(t,e,n){"use strict";var i=n(108),r=n(11),o=n(56);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Phaser.Utils.Objects.GetValue,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.scene=GetSceneObject(e),this.clock=new i.a(e),this.resetFromJSON(n),this.boot()}var e,n,u;return e=t,(n=[{key:"resetFromJSON",value:function(t){var e=a(t,"clock",void 0);return this.clock.resetFromJSON(e),this.commands=a(t,"commands",[]),this}},{key:"toJSON",value:function(){return{clock:this.clock.toJSON(),commands:this.commands}}},{key:"boot",value:function(){var t=Object(o.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.clock.shutdown(),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"start",value:function(t){return this.clock.start(t),this.clear(),this}},{key:"pause",value:function(){return this.clock.pause(),this}},{key:"resume",value:function(){return this.clock.resume(),this}},{key:"stop",value:function(){return this.clock.stop(),this}},{key:"seek",value:function(t){return this.clock.seek(t),this}},{key:"addCommand",value:function(t,e){if(!this.isRecording)return this;void 0===e&&(e=0);var n=this.clock.now+e;return this.commands.push([n,t]),this}},{key:"getCommands",value:function(t){return void 0===t&&(t=!1),t?this.commands:Object(r.a)(this.commands)}},{key:"clear",value:function(){this.commands.length=0}},{key:"isRecording",get:function(){return this.clock.isRunning}},{key:"timeScale",get:function(){return this.clock.timeScale},set:function(t){this.clock.timeScale=t}},{key:"now",get:function(){return this.clock.now}}])&&s(e.prototype,n),u&&s(e,u),t}(),h=n(178);e.a={Recorder:u,Player:h.a}},function(t,e,n){var i=n(154),r=n(155);t.exports=function(t,e,n,o){void 0===o&&(o=[]),e||(e=r(t)/n);for(var s=0;s<e;s++){var a=s/e;o.push(i(t,a))}return o}},function(t,e,n){var i=n(111),r=n(205),o=n(206),s=n(208),a=n(209),u=new i({initialize:function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x1=t,this.y1=e,this.x2=n,this.y2=i},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,n){return o(this,t,e,n)},getRandomPoint:function(t){return s(this,t)},setTo:function(t,e,n,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x1=t,this.y1=e,this.x2=n,this.y2=i,this},getPointA:function(t){return void 0===t&&(t=new a),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new a),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=u},function(t,e,n){var i=n(68);t.exports=function(t,e,n){return void 0===n&&(n=new i),n.x=t.x1+(t.x2-t.x1)*e,n.y=t.y1+(t.y2-t.y1)*e,n}},function(t,e,n){var i=n(207),r=n(68);t.exports=function(t,e,n,o){void 0===o&&(o=[]),e||(e=i(t)/n);for(var s=t.x1,a=t.y1,u=t.x2,h=t.y2,l=0;l<e;l++){var c=l/e,f=s+(u-s)*c,d=a+(h-a)*c;o.push(new r(f,d))}return o}},function(t,e){t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(t,e,n){var i=n(68);t.exports=function(t,e){void 0===e&&(e=new i);var n=Math.random();return e.x=t.x1+n*(t.x2-t.x1),e.y=t.y1+n*(t.y2-t.y1),e}},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=new(n(111))({initialize:function(t,e){this.x=0,this.y=0,"object"===i(t)?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new r(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},distanceSq:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,n=t*t+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var n=this.x,i=this.y;return this.x=n+e*(t.x-n),this.y=i+e*(t.y-i),this},transformMat3:function(t){var e=this.x,n=this.y,i=t.val;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},transformMat4:function(t){var e=this.x,n=this.y,i=t.val;return this.x=i[0]*e+i[4]*n+i[12],this.y=i[1]*e+i[5]*n+i[13],this},reset:function(){return this.x=0,this.y=0,this}});r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1),t.exports=r},function(t,e,n){var i=n(68);t.exports=function(t,e){return void 0===e&&(e=new i),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},,,,,function(t,e,n){"use strict";var i=n(151);e.a=i.a},function(t,e,n){"use strict";var i=n(126);e.a=i.a},function(t,e,n){"use strict";var i=n(74);e.a=i.a},function(t,e,n){"use strict";var i=n(4),r=n(0),o=n.n(r),s=n(41),a=n.n(s),u=n(11),h=n(7);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=Phaser.Utils.Objects.GetValue,f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scenario=e,this.queue=[],this.currentIdx=-1,this.nextIdx=0}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){var e=c(t,"queue",void 0);return void 0===e?Object(h.a)(this.queue):Object(u.a)(e,this.queue),this.currentIdx=c(t,"curIdx",-1),this.nextIdx=c(t,"nextIdx",0),this}},{key:"clear",value:function(){return this.currentIdx=-1,this.nextIdx=0,this.queue.length=0,this}},{key:"append",value:function(t){return this.queue.push(t),this}},{key:"setNextIndex",value:function(t){return void 0===t&&(t=this.currentIdx+1),this.nextIdx=t,this}},{key:"get",value:function(t){return void 0===t&&(t=this.nextIdx),this.currentIdx=t,this.queue[t]}},{key:"length",get:function(){return this.queue.length}}])&&l(e.prototype,n),i&&l(e,i),t}();function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scenario=e,this.type=n}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){}},{key:"toJSON",value:function(){return{}}},{key:"parse",value:function(t,e){return t}},{key:"run",value:function(t){}}])&&d(e.prototype,n),i&&d(e,i),t}(),y=n(66),v=n(30);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=Phaser.Utils.Array.SpliceOne,O=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=m(this,w(e).call(this,t,"-"))).task=void 0,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,p),n=e,(i=[{key:"resetFromJSON",value:function(t){this.task&&(this.task.off("complete",this.resume,this),this.task=void 0)}},{key:"parse",value:function(t,e){var n=x(t,0),i=this.scenario,r=i.argsConvert,o=i.argsConvertScope;if(r){!0===r&&(r=v.a,o=void 0);for(var s=1,a=t.length;s<a;s++)t[s]=o?r.call(o,t[s],t):r(t[s],t)}return t=[n,t]}},{key:"run",value:function(t){var e=this.scenario,n=Object(y.a)(t[1],e.scope);n&&"function"==typeof n.once?(n.once("complete",this.resume,this),this.pause(),this.task=n):this.task=void 0}},{key:"pause",value:function(){this.scenario.pause()}},{key:"resume",value:function(){this.task=void 0;var t=this.scenario;t.resume(),t.runNextCmd()}}])&&b(n.prototype,i),r&&b(n,r),e}();function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,P(e).call(this,t,"wait"))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,p),n=e,(i=[{key:"parse",value:function(t,e){t.length=2;var n=this.getEventName(t);return isNaN(n)||(t[1]=parseFloat(n)),t}},{key:"run",value:function(t){var e=this.getEventName(t);"number"==typeof e?this.waitTime(e):this.waitEvent(e)}},{key:"waitTime",value:function(t){t>this.scenario.offset?(t-=this.scenario.offset,this.scenario.offset=0,this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)):this.scenario.offset-=t}},{key:"waitEvent",value:function(t){this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)}},{key:"getEventName",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}])&&T(n.prototype,i),r&&T(n,r),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function R(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=Phaser.Utils.Objects.GetValue,L=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=R(this,D(e).call(this,t,"label"))).labels={},n.prevLabel="",n.lastLabel="",n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,p),n=e,(i=[{key:"resetFromJSON",value:function(t){this.prevLabel=I(t,"preLabel",""),this.lastLabel=I(t,"lastLabel","");var e=I(t,"labels",void 0);void 0===e?Object(h.a)(this.labels):Object(u.a)(e,this.labels)}},{key:"toJSON",value:function(){return{preLabel:this.prevLabel,lastLabel:this.lastLabel,labels:this.labels}}},{key:"parse",value:function(t,e){t.length=2;var n=this.getLabel(t);return this.addLabel(n,e),t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#LABEL: "+e),this.prevLabel=this.lastLabel,this.lastLabel=e;var n=this.scenario;n.emit("labelchange",this.lastLabel,this.prevLabel,n)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}},{key:"addLabel",value:function(t,e){this.labels[t]=e}},{key:"getIndex",value:function(t){return""!==t&&this.hasLabel(t)?this.labels[t]:0}},{key:"hasLabel",value:function(t){return this.labels.hasOwnProperty(t)}}])&&M(n.prototype,i),r&&M(n,r),e}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function X(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,F(e).call(this,t,"exit"))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,p),n=e,(i=[{key:"parse",value:function(t,e){return t.length=1,t}},{key:"run",value:function(t){this.scenario.log("#EXIT"),this.scenario.complete()}}])&&N(n.prototype,i),r&&N(n,r),e}();function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function G(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,V(e).call(this,t,"goto"))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,p),n=e,(i=[{key:"parse",value:function(t,e){return t.length=2,t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#GOTO label: "+e),this.scenario.goto(e)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}])&&z(n.prototype,i),r&&z(n,r),e}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,Q(e).call(this,t,"if"))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,p),n=e,(i=[{key:"parse",value:function(t,e){t.length=4;var n="("+this.getCond(t)+")";return t[1]=new Function("return "+n),t}},{key:"run",value:function(t){var e=this.getCond(t).call(this.scenario.scope),n=e?this.getTrueLabel(t):this.getFalseLabel(t);""!==n&&(this.scenario.isDebugMode&&this.scenario.log("#IF "+e+"- GOTO label: "+n),this.scenario.goto(n))}},{key:"getCond",value:function(t){var e=t[1];return null!=e&&""!==e||(e="true",t[1]=e),e}},{key:"getTrueLabel",value:function(t){var e=t[2];return null==e&&(e="",t[2]=e),e}},{key:"getFalseLabel",value:function(t){var e=t[3];return null==e&&(e="",t[3]=e),e}}])&&Z(n.prototype,i),r&&Z(n,r),e}();function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var nt=Phaser.Utils.Objects.GetValue,it=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cmds={"-":new O(e),wait:new j(e),label:new L(e),exit:new U(e),goto:new K(e),if:new tt(e)}}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){for(var e in this.cmds)this.cmds[e].resetFromJSON(nt(t,e,void 0));return this}},{key:"toJSON",value:function(){var t={};for(var e in this.cmds)t[e]=this.cmds[e].toJSON();return t}},{key:"get",value:function(t){return this.cmds[t]}},{key:"isValidCmdName",value:function(t){return this.cmds.hasOwnProperty(t)}}])&&et(e.prototype,n),i&&et(e,i),t}();function rt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ot=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setEventEmitter(o()(n,"eventEmitter",void 0)),this.scene=e,this.timer=void 0,this.instMem=new f(this),this.cmdHandlers=new it(this),this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this._inRunCmdLoop=!1,this.isRunning=o()(t,"state",!1),this.isPaused=o()(t,"pause",!1),this.waitEvent=o()(t,"wait",void 0),this.scope=o()(t,"scope",void 0),this.timeUnit=o()(t,"timeUnit",0),this.cmdPrefix=o()(t,"prefix",at),this.argsConvert=o()(t,"argsConvert",!0),this.argsConvertScope=o()(t,"argsConvertScope",void 0),this.cmdHandlers.resetFromJSON(o()(t,"handlers",void 0)),this.instMem.resetFromJSON(o()(t,"instMem",void 0)),this}},{key:"toJSON",value:function(){return{state:this.isRunning,pause:this.isPaused,wait:this.waitEvent,scope:this.scope,timeUnit:this.timeUnit,prefix:this.cmdPrefix,argsConvert:this.argsConvert,argsConvertScope:this.argsConvertScope,handlers:this.cmdHandlers.toJSON(),instMem:this.instMem.toJSON()}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.clear(),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(t,e,n){return this.clear(),this.timeUnit=o()(n,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=st[this.timeUnit]),this.cmdPrefix=o()(n,"prefix",this.cmdPrefix),"string"==typeof this.cmdPrefix&&(this.cmdPrefix=new RegExp(this.cmdPrefix)),this.argsConvert=o()(n,"argsConvert",this.argsConvert),this.argsConvertScope=o()(n,"argsConvertScope",this.argsConvertScope),this.scope=e,this.append(t),this}},{key:"clear",value:function(){this.stop(),this.instMem.resetFromJSON(),this.cmdHandlers.resetFromJSON()}},{key:"start",value:function(t){this.stop();var e=o()(t,"label","");return this.offset=o()(t,"offset",0),this.isDebugMode&&this.log("Start at Label: "+e),!!this.goto(e)&&(this.isRunning=!0,this.runNextCmd(),!0)}},{key:"getIndex",value:function(t){var e=this.getCmdHandler("label").getIndex(t);return null==e&&this.error("Label: "+t+" is not found"),e}},{key:"goto",value:function(t){var e;return null!=(e="string"==typeof t?this.getIndex(t):t)&&(this.instMem.setNextIndex(e),!0)}},{key:"wait",value:function(t){if(this.waitEvent=t,"number"==typeof t){var e=t;1===this.timeUnit&&(e*=1e3),this.timer=this.scene.time.delayedCall(e,this.continue,[t],this)}return this}},{key:"stop",value:function(){return this.isRunning?(this.isRunning=!1,this.isPaused=!1,this.waitEvent=void 0,this.timer&&(this.timer.remove(),this.timer=void 0),this):this}},{key:"complete",value:function(){return this.emit("complete",this),this.stop(),this}},{key:"append",value:function(t,e){void 0===e&&(e=",");var n=a.a.parse(t,{delimiter:e}).data;return this.parse(n),this}},{key:"pause",value:function(){return this.isRunning?this.isPaused?this:(this.isPaused=!0,this.timer&&(this.timer.paused=!0),this):this}},{key:"resume",value:function(){return this.isRunning&&this.isPaused?(this.isPaused=!1,this.timer&&(this.timer.paused=!1),this):this}},{key:"continue",value:function(t){return!this.isRunning||this.isPaused||void 0===this.waitEvent?this:(t===this.waitEvent&&(this.timer=void 0,this.waitEvent=void 0,this.runNextCmd()),this)}},{key:"getCmdHandler",value:function(t){return"string"!=typeof t&&(t=t[0]),this.cmdHandlers.get(t)}},{key:"parse",value:function(t){for(var e,n,i=this.cmdPrefix,r=0,o=t.length;r<o;r++)if("-"===(n=(e=t[r])[0]))this.appendCommand(e);else if(isNaN(n))if(i.test(n)){var s=n.match(i);e[0]=s[1].toLowerCase(),this.appendCommand(e)||this.error("Line "+r+": "+JSON.stringify(e)+" is not a valid command")}else this.appendCommand(["wait",n]),e[0]="-",this.appendCommand(e);else{var a=parseFloat(n);a>0&&this.appendCommand(["wait",a]),e[0]="-",this.appendCommand(e)}return this}},{key:"appendCommand",value:function(t){var e=this.getCmdHandler(t);return null!=e&&((t=e.parse(t,this.instMem.length))&&this.instMem.append(t),!0)}},{key:"runNextCmd",value:function(){if(!this._inRunCmdLoop){this.threadId;var t,e=this.instMem;for(this._inRunCmdLoop=!0;this.isRunning&&!this.isPaused&&void 0===this.waitEvent;){if(t=e.get(),e.setNextIndex(),null==t){this.complete();break}this.getCmdHandler(t).run(t)}return this._inRunCmdLoop=!1,this}}},{key:"log",value:function(t){return this.emit("log",t,this),this}},{key:"error",value:function(t){return this.emit("error",t,this),this}},{key:"lastLabel",get:function(){return this.cmdHandlers.labelCmd.lastLabel}},{key:"previousLabel",get:function(){return this.cmdHandlers.labelCmd.preLabel}},{key:"isDebugMode",get:function(){return this.listenerCount("log")>0}}])&&rt(e.prototype,n),i&&rt(e,i),t}();Object.assign(ot.prototype,i.a);var st={ms:0,s:1,sec:1},at=/^#([a-zA-Z]+)/,ut=ot;e.a=ut},function(t,e,n){"use strict";var i=n(0),r=n.n(i),o=n(41),s=n.n(o),a=n(7),u=n(153);function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.createTestCallback(e,n)}var e,n,i;return e=t,(n=[{key:"createTestCallback",value:function(t,e){return this.name=e[1],e.splice(0,2),this.testFunction=Object(u.a)(t,e),this}},{key:"runTest",value:function(t){return this.testFunction(t)}}])&&h(e.prototype,n),i&&h(e,i),t}();function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.achievements={},this.obtainedStates={},this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setObtainedState(r()(t,"obtained",{})),this}},{key:"loadCSV",value:function(t,e){Object(a.a)(this.achievements);var n,i,o,u=r()(e,"delimiter",","),h=s.a.parse(t,{delimiter:u}).data,c=h[0];c.splice(0,2);for(var f=1,d=h.length;f<d;f++)o=(n=h[f])[0],i=new l(c,n),this.achievements.hasOwnProperty(o)||(this.achievements[o]=[]),this.achievements[o].push(i);return this}},{key:"getAchievements",value:function(t){return this.achievements[t]}},{key:"getAchievementNames",value:function(t,e){void 0===e&&(e=[]);var n=this.getAchievements(t);if(!n)return e;for(var i=0,r=n.length;i<r;i++)e.push(n[i].name);return names}},{key:"getObtainedState",value:function(t,e){return this.obtainedStates.hasOwnProperty(t)||(this.obtainedStates[t]={}),this.obtainedStates[t].hasOwnProperty(e)||(this.obtainedStates[t][e]={wasObtained:!1,justObtained:!1}),this.obtainedStates[t][e]}},{key:"runTest",value:function(t,e){var n,i=this.getAchievements(t);if(void 0===i)return this;for(var r=0,o=i.length;r<o;r++)(n=this.getObtainedState(t,i[r].name)).justObtained=!1,n.wasObtained||i[r].runTest(e)&&(n.justObtained=!0,n.wasObtained=!0);return this}},{key:"forEachObtainedState",value:function(t,e,n){var i,r,o=this.getAchievements(t);if(void 0===o)return this;for(var s=0,a=o.length;s<a;s++)i=o[s].name,r=this.getObtainedState(t,i),n?e.call(n,t,i,r):e(t,i,r);return this}},{key:"setObtainedState",value:function(t,e,n){void 0===n&&(n=!0);var i=this.getObtainedState(t,e);return i.wasObtained!==n&&(i.justObtained=n,i.wasObtained=n),this}},{key:"loadObtainedStates",value:function(t){return this.obtainedStates=t,this}},{key:"getObtainedStates",value:function(){return this.obtainedStates}}])&&c(e.prototype,n),i&&c(e,i),t}();e.a=f},function(t,e,n){"use strict";var i=n(3),r=function(t,e){for(var n=t.scene,i=n.input.cameras.getCamerasBelowPointer(e),r=n.input.manager,o=[t],s=0,a=i.length;s<a;s++)if(r.hitTest(e,o,i[s]).length>0)return!0;return!1},o=function(t,e,n,i){var o=!1;if(e)return!(n&&!n(t,e))&&!((o=r(t,e))&&i&&!i(t,e))&&o;for(var s=t.scene.input.manager,a=s.pointersTotal,u=s.pointers,h=0;h<a;h++)if(o=!1,e=u[h],(!n||n(t,e))&&(!(o=r(t,e))||!i||i(t,e))&&o)return!0;return!1};function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Phaser.Utils.Objects.GetValue,u=Phaser.Math.Distance.Between,h=Phaser.Math.RotateAroundDistance,l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.gameObject.setInteractive(a(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.setEnable(a(t,"enable",!0)),this.setAxisMode(a(t,"axis",0)),this.setAxisRotation(a(t,"rotation",0)),this}},{key:"toJSON",value:function(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}},{key:"boot",value:function(){var t=this.gameObject;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this),t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.pointer=void 0),this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}},{key:"setAxisMode",value:function(t){return"string"==typeof t&&(t=f[t]),this.axisMode=t,this}},{key:"setAxisRotation",value:function(t){return this.axisRotation=t,this}},{key:"drag",value:function(){for(var t,e=this.scene.input,n=e.manager,i=n.pointersTotal,r=n.pointers,s=0;s<i;s++)if((t=r[s]).primaryDown&&0===e.getDragState(t)&&o(this.gameObject,t)){e.setDragState(t,1),e._drag[t.id]=[this.gameObject],0===e.dragDistanceThreshold||0===e.dragTimeThreshold?(e.setDragState(t,3),e.processDragStartList(t)):e.setDragState(t,2);break}}},{key:"dragend",value:function(){if(this.isDragging)return this.pointer.dragState=5,this}},{key:"onDragStart",value:function(t,e,n){this.isDragging||(this.pointer=t)}},{key:"onDrag",value:function(t,e,n){if(this.pointer===t){var i=this.gameObject;if(0===this.axisMode)i.x=e,i.y=n;else if(0===this.axisRotation)1===this.axisMode?i.x=e:2===this.axisMode&&(i.y=n);else{var r;c.x=e,c.y=n,r=u(c.x,c.y,i.x,i.y),c=h(c,i.x,i.y,-this.axisRotation,r),1===this.axisMode?c.y=i.y:2===this.axisMode&&(c.x=i.x),r=u(c.x,c.y,i.x,i.y),c=h(c,i.x,i.y,this.axisRotation,r),i.x=c.x,i.y=c.y}}}},{key:"onDragEnd",value:function(t,e,n,i){this.pointer===t&&(this.pointer=void 0)}},{key:"isDragging",get:function(){return void 0!==this.pointer}}])&&s(e.prototype,n),r&&s(e,r),t}(),c={},f={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},d=l;e.a=d},function(t,e,n){"use strict";var i=n(10),r=n(3);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Math.Vector2,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=new s,this.velocity=new s}var e,n,i;return e=t,(n=[{key:"init",value:function(t,e){return this.velocity.reset(),this.position.set(t,e),this}},{key:"update",value:function(t,e,n){return this.velocity.set(t-this.position.x,e-this.position.y),0===this.velocity.x&&0===this.velocity.y||this.velocity.setToPolar(this.velocity.angle(),this.velocity.length()/n),this.position.set(t,e),this}}])&&o(e.prototype,n),i&&o(e,i),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=Phaser.Utils.Objects.GetValue,y=Phaser.Math.Vector2,v=Phaser.Math.Distance.Between,g=Phaser.Math.Angle.BetweenPoints,b=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=l(this,f(e).call(this,t,n))).gameObject=t,i.scene=Object(r.a)(t),i._target=void 0,i.mySpeedMonitor=new a,i.targetSpeedMonitor=new a,i.predictedPosition=new y,i.resetFromJSON(n),i.boot(),i}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=p(t,"isRunning",!1),this.setEnable(p(t,"enable",!0)),this.setTarget(p(t,"target",void 0)),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,duration:this.duration,tickingMode:this.tickingMode}}},{key:"boot",value:function(){c(f(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){c(f(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){c(f(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){c(f(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setTarget",value:function(t){return this.target=t,this}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0===this.target)return this;if(!this.enable)return this.predictedPosition.copy(this.target),this;e/=1e3,this.mySpeedMonitor.update(this.gameObject.x,this.gameObject.y,e),this.targetSpeedMonitor.update(this.target.x,this.target.y,e);var n=this.targetSpeedMonitor.velocity.x-this.mySpeedMonitor.velocity.x,i=this.targetSpeedMonitor.velocity.y-this.mySpeedMonitor.velocity.y;if(0===n&&0===i)this.predictedPosition.copy(this.target);else{var r=v(0,0,n,i);t=v(this.target.x,this.target.y,this.gameObject.x,this.gameObject.y)/r;this.predictedPosition.set(this.target.x+this.targetSpeedMonitor.velocity.x*t,this.target.y+this.targetSpeedMonitor.velocity.y*t)}return this}},{key:"target",get:function(){return this._target},set:function(t){return null==t&&(t=void 0),this.target===t||(this.target&&this.target.off("destroy",this.setTarget,this),t&&t.once("destroy",this.setTarget,this),this._target=t),this.isRunning?void 0===this.target&&c(f(e.prototype),"stop",this).call(this):void 0!==this.target&&(this.mySpeedMonitor.init(this.gameObject.x,this.gameObject.y),this.targetSpeedMonitor.init(this.target.x,this.target.y),c(f(e.prototype),"start",this).call(this)),this}},{key:"predictedAngle",get:function(){return g(this.gameObject,this.predictedPosition)}}])&&h(n.prototype,o),s&&h(n,s),e}();e.a=b},function(t,e,n){"use strict";var i="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Effect parameters\nuniform float intensity;\n\nvoid main (void) {\n  vec4 front = texture2D(uMainSampler, outTexCoord);\n  float gray = dot(front.rgb, vec3(0.299, 0.587, 0.114));\n  gl_FragColor = mix(front, vec4(gray, gray, gray, front.a), intensity);\n}\n";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,l=Phaser.Utils.Objects.GetValue,c=Phaser.Math.Clamp,f=function(t){function e(t,n,o){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h,l,c=t.game;return h=this,(u=!(l=s(e).call(this,{game:c,renderer:c.renderer,fragShader:i}))||"object"!==r(l)&&"function"!=typeof l?a(h):l)._intensity=0,c.renderer.addPipeline(n,a(u)),u.resetFromJSON(o),u}var n,f,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(f=[{key:"resetFromJSON",value:function(t){return this.setIntensity(l(t,"intensity",0)),this}},{key:"setIntensity",value:function(t){return this.intensity=t,this}},{key:"intensity",get:function(){return this._intensity},set:function(t){t=c(t,0,1),this._intensity!==t&&(this._intensity=t,this.setFloat1("intensity",t))}}])&&o(n.prototype,f),d&&o(n,d),e}();e.a=f},function(t,e,n){"use strict";var i="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Effect parameters\nuniform vec2 texSize;\nuniform vec2 pixelSize;\nuniform float radius;\nuniform float angle;\n\nvoid main (void) {\n  if ((pixelSize.x > 0.0) || (pixelSize.y > 0.0)) {\n    vec2 dxy = pixelSize/texSize;\n    vec2 tc = vec2(dxy.x*( floor(outTexCoord.x/dxy.x) + 0.5 ), \n                   dxy.y*( floor(outTexCoord.y/dxy.y) + 0.5 )\n                  );\n    gl_FragColor = texture2D(uMainSampler, tc);\n  } else {        \n    gl_FragColor = texture2D(uMainSampler, outTexCoord);\n  }\n}\n";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n,o){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h,l,c=t.game;return h=this,(a=!(l=u(e).call(this,{game:c,renderer:c.renderer,fragShader:i}))||"object"!==r(l)&&"function"!=typeof l?s(h):l)._width=0,a._height=0,a._pixelWidth=0,a._pixelHeight=0,c.renderer.addPipeline(n,s(a)),a.resetFromJSON(o),a}var n,f,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l),n=e,(f=[{key:"resetFromJSON",value:function(t){return this.setPixelSize(c(t,"pixelWidth",0),c(t,"pixelHeight",0)),this}},{key:"setPixelWidth",value:function(t){return this.pixelWidth=t,this}},{key:"setPixelHeight",value:function(t){return this.pixelHeight=t,this}},{key:"setPixelSize",value:function(t,e){return void 0===e&&(e=t),this._pixelWidth=t,this._pixelHeight=e,this._setPixelSize(),this}},{key:"_setPixelSize",value:function(){this.setFloat2("pixelSize",this._pixelWidth,this._pixelHeight)}},{key:"resize",value:function(t,n,i){return this._width=t,this._height=n,a(u(e.prototype),"resize",this).call(this,t,n,i),this.setFloat2("texSize",t,n),this}},{key:"pixelWidth",get:function(){return this._pixelWidth},set:function(t){this._pixelWidth=t,this._setPixelSize()}},{key:"pixelHeight",get:function(){return this._pixelHeight},set:function(t){this._pixelHeight=t,this._setPixelSize()}}])&&o(n.prototype,f),d&&o(n,d),e}();e.a=f},function(t,e,n){"use strict";var i="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\nuniform vec2 texSize;\n\n// Effect parameters\nuniform vec2 center;\nuniform float radius;\nuniform float angle;\n\nvoid main (void) {\n  vec2 tc = outTexCoord * texSize;\n  tc -= center;\n  float dist = length(tc);\n  if (dist < radius) {\n    float percent = (radius - dist) / radius;\n    float theta = percent * percent * angle * 8.0;\n    float s = sin(theta);\n    float c = cos(theta);\n    tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\n  }\n  tc += center;\n  gl_FragColor = texture2D(uMainSampler, tc / texSize);\n}\n",r=n(15),o=n.n(r),s=n(42),a=n.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,y=Phaser.Utils.Objects.GetValue,v=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s,a,h=t.game;return s=this,(o=!(a=f(e).call(this,{game:h,renderer:h.renderer,fragShader:i}))||"object"!==u(a)&&"function"!=typeof a?l(s):a)._width=0,o._height=0,o._centerX=0,o._centerY=0,o._radius=0,o._rotation=0,h.renderer.addPipeline(n,l(o)),o.resetFromJSON(r),o}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,p),n=e,(r=[{key:"resetFromJSON",value:function(t){this.radius=y(t,"radius",0);var e=y(t,"rotation",void 0);return void 0===e?this.setAngle(y(t,"angle",0)):this.setRotation(e),this.setCenter(y(t,"center.x",void 0),y(t,"center.y",void 0)),this}},{key:"setRadius",value:function(t){return this.radius=t,this}},{key:"setRotation",value:function(t){return this.rotation=t,this}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"setCenter",value:function(t,e){return void 0===t&&(t=this._width/2,e=this._height/2),this._centerX=t,this._centerY=e,this._setCenter(),this}},{key:"_setCenter",value:function(){this.setFloat2("center",this._centerX,this._centerY)}},{key:"resize",value:function(t,n,i){return this._width=t,this._height=n,c(f(e.prototype),"resize",this).call(this,t,n,i),this.setFloat2("texSize",t,n),this}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.setFloat1("radius",t)}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.setFloat1("angle",t)}},{key:"angle",get:function(){return a()(this.rotation)},set:function(t){this.rotation=o()(t)}},{key:"centerX",get:function(){return this._centerX},set:function(t){this._centerX=t,this._setCenter()}},{key:"centerY",get:function(){return this._centerY},set:function(t){this._centerY=t,this._setCenter()}}])&&h(n.prototype,r),s&&h(n,s),e}();e.a=v},function(t,e,n){"use strict";e.a={Encrypt:function(t,e){return function(t,e){if(null==e||e.length<=0)return null;for(var n="",i=0;i<e.length;i++)n+=e.charCodeAt(i).toString();var r=Math.floor(n.length/5),o=parseInt(n.charAt(r)+n.charAt(2*r)+n.charAt(3*r)+n.charAt(4*r)+n.charAt(5*r)),s=Math.ceil(e.length/2),a=Math.pow(2,31)-1;if(o<2)return null;var u=Math.round(1e9*Math.random())%1e8;for(n+=u;n.length>10;)n=(parseInt(n.substring(0,10))+parseInt(n.substring(10,n.length))).toString();n=(o*n+s)%a;var h="",l="";for(i=0;i<t.length;i++)l+=(h=parseInt(t.charCodeAt(i)^Math.floor(n/a*255)))<16?"0"+h.toString(16):h.toString(16),n=(o*n+s)%a;for(u=u.toString(16);u.length<8;)u=0+u;return l+=u}(t=escape(t),e=escape(e.toString()))},Decrypt:function(t,e){var n=function(t,e){if(null==t||t.length<8)return null;if(!(null==e||e.length<=0)){for(var n="",i=0;i<e.length;i++)n+=e.charCodeAt(i).toString();var r=Math.floor(n.length/5),o=parseInt(n.charAt(r)+n.charAt(2*r)+n.charAt(3*r)+n.charAt(4*r)+n.charAt(5*r)),s=Math.round(e.length/2),a=Math.pow(2,31)-1,u=parseInt(t.substring(t.length-8,t.length),16);for(t=t.substring(0,t.length-8),n+=u;n.length>10;)n=(parseInt(n.substring(0,10))+parseInt(n.substring(10,n.length))).toString();n=(o*n+s)%a;var h="",l="";for(i=0;i<t.length;i+=2)h=parseInt(parseInt(t.substring(i,i+2),16)^Math.floor(n/a*255)),l+=String.fromCharCode(h),n=(o*n+s)%a;return l}}(t,e=escape(e.toString()));return null!=n&&(n=unescape(n)),n}}},function(t,e,n){"use strict";var i=n(108);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i["a"]),n=e,(r=[{key:"resetFromJSON",value:function(t){return a(u(e.prototype),"resetFromJSON",this).call(this,t),this.setLifeTime(l(t,"lifeTime",1e3)),this.setDestroyMode(l(t,"destroy",!0)),l(t,"start",!0)&&this.start(),this}},{key:"toJSON",value:function(){var t=a(u(e.prototype),"toJSON",this).call(this);return t.lifeTime=this.lifeTime,t}},{key:"setLifeTime",value:function(t){return this.lifeTime=t,this}},{key:"addToLifeTime",value:function(t){return this.lifeTime+=t,this}},{key:"setDestroyMode",value:function(t){return void 0===t&&(t=!0),this.destroyMode=t,this}},{key:"update",value:function(t,n){return this.isRunning?(a(u(e.prototype),"update",this).call(this,t,n),this.isAlive||(this.complete(),this.destroyMode&&this.gameObject.destroy()),this):this}},{key:"isAlive",get:function(){return this.now<this.lifeTime}},{key:"remainder",get:function(){var t=this.lifeTime-this.now;return t<0&&(t=0),t}},{key:"gameObject",get:function(){return this.parent}}])&&o(n.prototype,r),c&&o(n,c),e}();e.a=c},function(t,e,n){"use strict";var i=n(41),o=n.n(i),s=n(35),a=n(30);function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=Phaser.Utils.Objects.GetValue,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.table=h(t,"table",{}),this.rowKeys=h(t,"row",[]),this.colKeys=h(t,"col",[]),this.cursor=h(t,"cursor",{}),this}},{key:"toJSON",value:function(){return{table:this.table,row:this.rowKeys,col:this.colKeys,cursor:this.cursor}}},{key:"shutdown",value:function(){}},{key:"destroy",value:function(){}},{key:"loadCSV",value:function(t,e){var n=h(e,"delimiter",","),i=h(e,"convert",!0),r=h(e,"convertScope",void 0);i?!0===i&&(i=a.a,r=void 0):(i=void 0,r=void 0),this.clear();var u=o.a.parse(t,{delimiter:n}).data;this.colKeys=Object(s.a)(this.colKeys,u[0]),this.rowKeys.length=u.length-1;for(var l=0,c=this.rowKeys.length;l<c;l++)this.rowKeys[l]=u[l+1][0];for(var f,d,p,y,v=this.colKeys,g=this.rowKeys,b=this.table,m=0,w=g.length;m<w;m++){p={},b[d=g[m]]=p;for(var k=0,x=v.length;k<x;k++)y=u[m+1][k],f=v[k],i&&(y=r?i.call(r,y,d,f,this):i(y,d,f,this)),p[f]=y}return this.setCursor("",""),this}},{key:"clear",value:function(){var t=this.table;for(var e in t)delete t[e];return this.rowKeys.length=0,this.colKeys.length=0,this}},{key:"get",value:function(t,e){var n=void 0,i=this.table;if(i.hasOwnProperty(t)){var r=i[t];r.hasOwnProperty(e)&&(n=r[e])}return this.setCursor(t,e),n}},{key:"set",value:function(t,e,n){var i=this.table;if(i.hasOwnProperty(e)){var r=i[e];r.hasOwnProperty(t)&&(r[t]=n)}return this.setCursor(e,t),this}},{key:"add",value:function(t,e,n){var i=this.table;if(i.hasOwnProperty(e)){var r=i[e];r.hasOwnProperty(t)&&(r[t]+=n)}return this.setCursor(e,t),this}},{key:"hasRowKey",value:function(t){return-1!==this.rowKeys.indexOf(t)}},{key:"hasColKey",value:function(t){return-1!==this.colKeys.indexOf(t)}},{key:"hasKey",value:function(t,e){return this.hasRowKey(t)&&this.hasColKey(e)}},{key:"isValueInRol",value:function(t,e){if(!this.hasRowKey(t))return!1;for(var n=this.table[t],i=this.colKeys,r=0,o=i.length;r<o;r++)if(n[i[r]]===e)return!0;return!1}},{key:"isValueInCol",value:function(t,e){if(!this.hasColKey(t))return!1;for(var n=this.table,i=0,r=this.rowKeys.length;i<r;i++)if(n[void 0][t]===e)return!0;return!1}},{key:"appendRow",value:function(t,e,n){if(this.hasRowKey(t))return this;var i="function"==typeof e,r=i?void 0:e;this.rowKeys.push(t);var o={};this.table[t]=o;for(var s,a,u=this.colKeys,h=0,l=u.length;h<l;h++)s=u[h],a=i?n?e.call(n,this,t,s):e(this,t,s):r,o[s]=a;return this}},{key:"appendCol",value:function(t,e,n){if(this.hasColKey(t))return this;var i="function"==typeof e,r=i?void 0:e;this.colKeys.push(t);for(var o,s,a=this.table,u=this.rowKeys,h=0,l=u.length;h<l;h++)o=u[h],s=i?n?e.call(n,this,o,t):e(this,o,t):r,a[o][t]=s;return this}},{key:"removeRol",value:function(t){var e=this.rowKeys.indexOf(t);return-1===e?this:(this.rowKeys.splice(e,1),delete this.table[t],this)}},{key:"removeCol",value:function(t){var e=this.colKeys.indexOf(t);if(-1===e)return this;this.colKeys.splice(e,1);for(var n=this.table,i=this.rowKeys,r=0,o=i.length;r<o;r++)delete n[i[r]][t];return this}},{key:"eachRow",value:function(t,e,n){for(var i,r,o=this.rowKeys,s=this.hasColKey(t),a=0,u=o.length;a<u;a++)i=o[a],s&&(r=this.get(i,t)),n?e.call(n,this,i,t,r):e(this,i,t,r);return this}},{key:"eachCol",value:function(t,e,n){for(var i,r,o=this.colKeys,s=this.hasRowKey(t),a=0,u=o.length;a<u;a++)i=o[a],s&&(r=this.get(t,i)),n?e.call(n,this,t,i,r):e(n,this,t,i,r);return this}},{key:"convertCol",value:function(t,e,n){if(void 0===e&&(e=a.a),Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)this.convertCol(t[i],e,n);return this}if(!this.hasColKey(t))return this;for(var o,s,u,h=this.table,l=this.rowKeys,c=0,f=l.length;c<f;c++)u=(o=h[s=l[c]])[t],u=n?e.call(n,this,s,t,u):e(this,s,t,u),o[t]=u;return this}},{key:"convertRow",value:function(t,e,n){if(void 0===e&&(e=a.a),Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)this.convertRow(t[i],e,n);return this}for(var s,u,h=this.table[t],l=this.colKeys,c=0,f=l.length;c<f;c++)u=h[s=l[r]],u=n?e.call(n,this,t,s,u):e(this,t,s,u),h[s]=u;return this}},{key:"nextColKey",value:function(t,e){void 0===t&&(t=this.cursor.colKey),void 0===e&&(e=1);var n=this.colKeys,i=n.indexOf(t);if(-1!==i)return n[i+e]}},{key:"nextRowKey",value:function(t,e){void 0===t&&(t=this.cursor.rowKey),void 0===e&&(e=1);var n=this.rowKeys,i=n.indexOf(t);if(-1!==i)return n[i+1]}},{key:"previousColKey",value:function(t,e){return void 0===e&&(e=1),e=-e,this.nextColKey(t,e)}},{key:"previousRowKey",value:function(t,e){return void 0===e&&(e=1),e=-e,this.nextRowlKey(t,e)}},{key:"sortCol",value:function(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var n=t;if(!this.hasRowKey(n))return this;var i=sceop;"string"==typeof i&&(i=c[i]);var r=this;t=function(t,e){var o,s=r.get(t,n),a=r.get(e,n);switch(i>=2&&(s=parseFloat(s),a=parseFloat(a)),i){case 0:case 2:o=s>a?1:s<a?-1:0;break;case 1:case 3:o=s<a?1:s>a?-1:0}return o}}return this.rowKeys.sort(t),this}},{key:"sortRow",value:function(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var n=t;if(!this.hasRowKey(n))return this;var i=sceop;"string"==typeof i&&(i=c[i]);var r=this;t=function(t,e){var o,s=r.get(n,t),a=r.get(n,e);switch(i>=2&&(s=parseFloat(s),a=parseFloat(a)),i){case 0:case 2:o=s>a?1:s<a?-1:0;break;case 1:case 3:o=s<a?1:s>a?-1:0}return o}}return this.colKeys.sort(t),this}},{key:"setCursor",value:function(t,e){var n=this.cursor;return n.rowKey=t,n.colKey=e,this}},{key:"curColKey",get:function(){return this.cursor.colKey}},{key:"curRowKey",get:function(){return this.cursor.rowKey}}])&&u(e.prototype,n),i&&u(e,i),t}(),c={ascending:0,descending:1,"logical ascending":2,"logical descending":3},f=l;e.a=f},function(t,e,n){"use strict";var i=n(7);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Data.DataManager,c=Phaser.Utils.Objects.GetValue,f=Phaser.Events.EventEmitter,d=function(t){function e(t,n,i){var o,a,h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=new f),a=this,(o=!(h=u(e).call(this,t,n))||"object"!==r(h)&&"function"!=typeof h?s(a):h)._recordEnable=!0,o.resetFromJSON(i),o.events.on("changedata",o.onValueChange,s(o)).on("setdata",function(t,e,n){this.onValueChange(t,e,n,null)},s(o)).on("removedata",function(t,e,n){this.onValueChange(t,e,null,n)},s(o)),o}var n,d,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l),n=e,(d=[{key:"resetFromJSON",value:function(t){this._version=c(t,"version",0),this._versionAlias=c(t,"versionAlias",""),this._repository=c(t,"repository",[]),this._versionAliases=c(t,"versionAliases",{});var e=c(t,"changeList",{}),n=c(t,"data",void 0);if(n)this._recordEnable=!1,this.set(n),this._recordEnable=!0;else{var i=""!==this._versionAlias?this._versionAlias:this._version;for(var r in this._version=0,this.restore(i),this._recordEnable=!1,e)this.setValue(r,e[r][0]);this._recordEnable=!0}this._changeList=e}},{key:"toJSON",value:function(t){void 0===t&&(t=!1);var e={version:this._version,versionAlias:this._versionAlias,changeList:this._changeList,repository:this._repository,versionAliases:this._versionAliases};return t&&(e.data=this.list),e}},{key:"commit",value:function(t){for(var e in this._repository.length=this._version,this._versionAliases)this._versionAliases[e]>this._version&&delete this._versionAliases[e];return this._repository.push(this._changeList),this._changeList={},this._version++,"string"==typeof t&&(this._versionAlias=t,this._versionAliases[t]=this._version),this}},{key:"restore",value:function(t,e){return void 0===t&&(t=""!==this._versionAlias?this._versionAlias:this._version),void 0===e&&(e=!1),e&&(this.version=0),this.version=t,this}},{key:"reset",value:function(){return this.restore(0),this._repository.length=0,Object(i.a)(this._versionAliases),this}},{key:"onValueChange",value:function(t,e,n,i){this._recordEnable&&(this._changeList.hasOwnProperty(e)?this._changeList[e][0]=n:this._changeList[e]=[n,i])}},{key:"version",get:function(){return this._version},set:function(t){var n;if("string"==typeof t&&(n=t,t=this._versionAliases[t]),"number"==typeof t){if(this._versionAlias=n||"",0===t)return this._recordEnable=!1,a(u(e.prototype),"reset",this).call(this),this._version=0,Object(i.a)(this._changeList),void(this._recordEnable=!0);t=Math.min(t,this._repository.length);var r,o={};for(var s in this._changeList)o[s]=this._changeList[s][1],delete this._changeList[s];if(this._version===t);else if(this._version<t)for(var h=this._version;h<t;h++)for(var s in r=this._repository[h])o[s]=r[s][0];else for(h=this._version-1;h>=t;h--)for(var s in r=this._repository[h])o[s]=r[s][1];for(var s in this._version=t,this._recordEnable=!1,o)null===(t=o[s])?this.removeValue(s):this.setValue(s,t);this._recordEnable=!0}else this._versionAlias=""}},{key:"versionAlias",get:function(){return this._versionAlias}},{key:"lastVersion",get:function(){return this._repository.length}},{key:"versionAliases",get:function(){var t=[];for(var e in this._versionAliases)t.push(e);return t}}])&&o(n.prototype,d),p&&o(n,p),e}();e.a=d},function(t,e,n){"use strict";var i=n(11),r=n(91),o=n(7);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Phaser.Utils.Objects.GetValue,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,u;return e=t,(n=[{key:"resetFromJSON",value:function(t){void 0==this.items&&(this.items={}),void 0==this.remainder&&(this.remainder={}),void 0==this._list&&(this._list=[]),this.setMode(a(t,"mode",0)),this.setReload(a(t,"reload",!0)),this.setRND(a(t,"rnd",void 0)),this.items=Object(i.a)(a(t,"items",{}),this.items),this._list.length=0,this.result=a(t,"result",null),this._restartFlag=!0,this._restartFlag&&this.startGen();var e=a(t,"remainder",void 0);return e&&(this.remainder=Object(i.a)(e,this.remainder)),this}},{key:"toJSON",value:function(){return{mode:this.mode,reload:this.reload,rnd:this.rnd,items:Object(i.a)(this.items),remainder:Object(i.a)(this.remainder),result:this.result,restart:!0}}},{key:"startGen",value:function(){var t;for(t in this.remainder)this.items.hasOwnProperty(t)||delete this.remainder[t];for(t in this.items){var e=this.items[t];e>0&&(this.remainder[t]=e)}return 1===this.mode&&this.resetItemList(this.remainder),this._restartFlag=!1,this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this._restartFlag=this.mode!==t,this.mode=t,this}},{key:"setReload",value:function(t){return this.reload=!!t,this}},{key:"setRND",value:function(t){return this.rnd=t,this}},{key:"setItem",value:function(t,e){return this._restartFlag=this.items[t]!==e,this.items[t]=e,this}},{key:"removeItem",value:function(t){return this.items.hasOwnProperty(t)&&(delete this.items[t],this._restartFlag=!0),this}},{key:"removeAllItems",value:function(){for(var t in this.items)delete this.items[t];return this._restartFlag=!0,this}},{key:"getItems",value:function(){return Object(i.a)(this.items)}},{key:"getRemain",value:function(){return Object(i.a)(this.remainder)}},{key:"getItemCount",value:function(t){return this.items[t]||0}},{key:"getRemainCount",value:function(t){return this.remainder[t]||0}},{key:"forEachItem",value:function(t,e){for(var n=[null,void 0],i=2,r=arguments.length;i<r;i++)n.push(arguments[i]);for(var o in this.items)n[0]=o,n[1]=this.items[o],e?t.apply(e,n):t(n);return this}},{key:"forEachRemain",value:function(t,e){for(var n=[null,void 0],i=1;i<arguments.length;i++)n.push(arguments[i]);for(var r in this.remainder)n[1]=r,n[2]=this.remainder[r],e?t.apply(e,n):t(n);return this}},{key:"addItem",value:function(t,e){if(this.items.hasOwnProperty(t)||(this.items[t]=0),this.items[t]+=e,!this._restartFlag)return 0===this.mode?this.addRemainItem(t,e):this.resetItemList(this.remainder),this}},{key:"putItemBack",value:function(t,e){if(1!==this.mode&&this.items.hasOwnProperty(t)&&(2!==this.mode||!this.restartGenFlg))return this.remainder.hasOwnProperty(t)||(this.remainder[t]=0),this.addShadowPattern(t,e,this.items[t]),this}},{key:"next",value:function(t){var e=null;return this._restartFlag&&this.startGen(),null==t?0===this.mode?(this.resetItemList(this.remainder),e=this.getRndItem(this._list),this.addRemainItem(e,-1)):e=this.getRndItem(this._list):this.remainder.hasOwnProperty(t)?(0===this.mode&&this.addRemainItem(t,-1),e=t):e=null,this.result=e,e}},{key:"destroy",value:function(){return Object(o.a)(this.items),Object(o.a)(this.remainder),Object(o.a)(this._list),this.result=null,this._restartFlag=!1,this}},{key:"resetItemList",value:function(t){this._list.length=0;var e,n,i=0;for(e in t)(n=t[e])>0&&(i+=n);for(e in t)(n=t[e])>0&&this._list.push([e,n/i]);return this}},{key:"addRemainItem",value:function(t,e,n){return null==t||0===e?this:(this.remainder.hasOwnProperty(t)||(this.remainder[t]=0),this.remainder[t]+=e,null!=n&&this.remainder[t]>n&&(this.remainder[t]=n),this.remainder[t]<=0&&delete this.remainder[t],0===this.mode&&this.reload&&Object(r.a)(this.remainder)&&(this._restartFlag=!0),this)}},{key:"getRndItem",value:function(t){var e,n,i=this.rnd?this.rnd.frac():Math.random(),r=null,o=t.length;for(e=0;e<o;e++)if((i-=(n=t[e])[1])<0){r=n[0];break}return r}}])&&s(e.prototype,n),u&&s(e,u),t}(),h={shuffle:0,random:1},l=u;e.a=l},function(t,e,n){"use strict";var i=n(67);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.Geom.Polygon,l=Phaser.Utils.Objects.IsPlainObject,c=Phaser.Utils.Objects.GetValue,f=Phaser.Geom.Line,d=function(t){function e(t,n,i,r){var o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=s(this,a(e).call(this)),l(t)){var u=t;t=c(u,"x",0),n=c(u,"y",0),i=c(u,"width",0),r=c(u,"height",0)}for(var h=o.points,f=0;f<4;f++)h.push({});return o.setTo(t,n,i,r),o}var n,r,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(r=[{key:"setTo",value:function(t,e,n,i){this._x=t,this._y=e,this._width=n,this._height=i;var r=this.points,o=this.centerX,s=this.centerY,a=n/2,u=i/2;return r[0].x=o+a,r[0].y=s,r[1].x=o,r[1].y=s+u,r[2].x=o-a,r[2].y=s,r[3].x=o,r[3].y=s-u,this.calculateArea(),this}},{key:"setPosition",value:function(t,e){var n=t-this.x,r=e-this.y;return 0===n&&0===r?this:(Object(i.a)(this,n,r),this._x=t,this._y=e,this)}},{key:"setSize",value:function(t,e){return this.setTo(this._x,this._y,t,e),this}},{key:"isEmpty",value:function(){return this.width<=0||this.height<=0}},{key:"getEdge",value:function(t,e){void 0===e&&(e=new f);var n=this.points[t],i=this.points[(t+1)%4];return e.setTo(n.x,n.y,i.x,i.y),e}},{key:"getLineA",value:function(t){return this.getEdge(0,t)}},{key:"getLineB",value:function(t){return this.getEdge(1,t)}},{key:"getLineC",value:function(t){return this.getEdge(2,t)}},{key:"getLineD",value:function(t){return this.getEdge(3,t)}},{key:"x",get:function(){return this._x},set:function(t){var e=t-this.x;0!==e&&(Object(i.a)(this,e,0),this._x=t)}},{key:"y",get:function(){return this._y},set:function(t){var e=t-this.y;0!==e&&(Object(i.a)(this,0,e),this._y=t)}},{key:"left",get:function(){return this.x},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x+this.width},set:function(t){this.x+=t-this.right}},{key:"top",get:function(){return this.y},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y+this.height},set:function(t){this.y+=t-this.bottom}},{key:"centerX",get:function(){return this.x+this.width/2},set:function(t){this.x+=t-this.centerX}},{key:"centerY",get:function(){return this.y+this.height/2},set:function(t){this.y+=t-this.centetY}},{key:"width",get:function(){return this._width},set:function(t){this.setTo(this._x,this._y,t,this._height)}},{key:"height",get:function(){return this._height},set:function(t){this.setTo(this._x,this._y,this._width,t)}}])&&o(n.prototype,r),d&&o(n,d),e}();Phaser.Geom.rexRhombus=d;var p=d;e.a=p},function(t,e,n){"use strict";var i=n(67),r=n(81),o=n(82),s=n(122);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Phaser.Geom.Polygon,d=Phaser.Utils.Objects.IsPlainObject,p=Phaser.Utils.Objects.GetValue,y=Phaser.Geom.Line,v=function(t){function e(t,n,i,r){var o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=h(this,l(e).call(this)),d(t)){var s=t;t=p(s,"x",0),n=p(s,"y",0),i=p(s,"size",0),r=p(s,"type",1)}for(var a=o.points,u=0;u<6;u++)a.push({});return o.setTo(t,n,i,r),o}var n,a,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,f),n=e,(a=[{key:"setTo",value:function(t,e,n,i){return"string"==typeof i&&(i=g[i]),this._x=t,this._y=e,this._size=n,this._type=i,Object(s.a)(t,e,n,i,this.points),this.calculateArea(),this.width=Object(r.a)(this),this.height=Object(o.a)(this),this}},{key:"setPosition",value:function(t,e){var n=t-this.x,r=e-this.y;return 0===n&&0===r?this:(Object(i.a)(this,n,r),this._x=t,this._y=e,this)}},{key:"setSize",value:function(t){return this.size=t,this}},{key:"setType",value:function(t){this.type=t}},{key:"isEmpty",value:function(){return this.size<=0}},{key:"getEdge",value:function(t,e){void 0===e&&(e=new y);var n=this.points[t],i=this.points[(t+1)%6];return e.setTo(n.x,n.y,i.x,i.y),e}},{key:"getLineA",value:function(t){return this.getEdge(0,t)}},{key:"getLineB",value:function(t){return this.getEdge(1,t)}},{key:"getLineC",value:function(t){return this.getEdge(2,t)}},{key:"getLineD",value:function(t){return this.getEdge(3,t)}},{key:"getLineE",value:function(t){return this.getEdge(4,t)}},{key:"getLineF",value:function(t){return this.getEdge(5,t)}},{key:"x",get:function(){return this._x},set:function(t){var e=t-this.x;0!==e&&(Object(i.a)(this,e,0),this._x=t)}},{key:"y",get:function(){return this._y},set:function(t){var e=t-this.y;0!==e&&(Object(i.a)(this,0,e),this._y=t)}},{key:"centerX",get:function(){return this.x},set:function(t){this.x=t}},{key:"centerY",get:function(){return this.y},set:function(t){this.y=t}},{key:"left",get:function(){return this.x-this.width/2},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x+this.width/2},set:function(t){this.x+=t-this.right}},{key:"top",get:function(){return this.y-this.height/2},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y+this.height/2},set:function(t){this.y+=t-this.bottom}},{key:"size",get:function(){return this._size},set:function(t){this.setTo(this._x,this._y,t,this.type)}},{key:"type",get:function(){return this._type},set:function(t){this.setTo(this._x,this._y,this._size,t)}}])&&u(n.prototype,a),v&&u(n,v),e}(),g={flat:0,y:0,pointy:1,x:1};Phaser.Geom.rexHexagon=v;var b=v;e.a=b},function(t,e,n){"use strict";var i=n(0),r=n.n(i),o=n(41),s=n.n(o),a=n(7),u=n(153);function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tests=[],this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){var e=r()(t,"table",void 0),n=r()(t,"delimiter",",");return void 0!==e&&this.loadTable(e,n),this}},{key:"loadCSV",value:function(t,e){Object(a.a)(this.tests);var n,i,o=r()(e,"delimiter",","),h=s.a.parse(t,{delimiter:o}).data,l=h[0];l.shift();for(var c=1,f=h.length;c<f;c++)i=(n=h[c]).shift(),this.tests.push({name:i,function:Object(u.a)(l,n)});return this}},{key:"anyPassTest",value:function(t,e,n){for(var i,r=0,o=this.tests.length;r<o;r++){if(i=this.tests[r].name,(0,this.tests[r].function)(t)){e&&(n?e.call(n,i):e(i));break}i=!1}return e?this:i}},{key:"eachPassTest",value:function(t,e,n){for(var i,r=0,o=this.tests.length;r<o;r++)i=this.tests[r].name,(0,this.tests[r].function)(t)&&(n?e.call(n,i):e(i));return this}},{key:"eachTest",value:function(t,e,n){for(var i,r,o=0,s=this.tests.length;o<s;o++)r=this.tests[o].name,i=(0,this.tests[o].function)(t),n?e.call(n,r,i):e(r,i);return this}}])&&h(e.prototype,n),i&&h(e,i),t}();e.a=l},function(t,e,n){"use strict";var i=n(4),r=n(0),o=n.n(r),s=n(66),a=n(35);function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setEventEmitter(o()(e,"eventEmitter",void 0)),this.commands=[],this.scope=void 0,this.config=void 0,this.index=0,this.indexStep=1,this.setYoyo(o()(e,"yoyo",!1)),this.setRepeat(o()(e,"repeat",0)),this.setLoop(o()(e,"loop",!1)),this.state=0,this.task=void 0}var e,n,i;return e=t,(n=[{key:"shutdown",value:function(){this.stop(),this.destroyEventEmitter(),this.commands.length=0,this.scope=void 0,this.config=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(t,e,n){return this.stop(),this.setYoyo(o()(n,"yoyo",this.yoyo)),this.setRepeat(o()(n,"repeat",this.repeat)),this.setLoop(o()(n,"loop",this.loop)),this.commands=Object(a.a)(this.commands,t),this.scope=e,this.config=n,this}},{key:"start",value:function(){return this.stop(),this.resetRepeatCount(),this.index=0,this.indexStep=1,this.state=1,this.commands.length>0?this.runNextCommands():this.complete(),this}},{key:"stop",value:function(){return this.state=0,this.task&&(this.task.off("complete",this.runNextCommands,this),this.task=void 0),this}},{key:"setYoyo",value:function(t){return this.yoyo=t,this}},{key:"setRepeat",value:function(t){return this.repeat=t,this.resetRepeatCount(),this}},{key:"setLoop",value:function(t){return this.loop=t,this.resetRepeatCount(),this}},{key:"resetRepeatCount",value:function(){return this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this}},{key:"runNextCommands",value:function(){for(var t,e,n;;){if(2===this.state)return void this.complete();if((t=Object(s.a)(this.commands[this.index],this.scope))&&"function"==typeof t.once?(t.once("complete",this.runNextCommands,this),this.task=t):this.task=void 0,e=0===this.index,n=this.index===this.commands.length-1,this.yoyo?this.indexStep>0&&n||this.indexStep<0&&e?(this.indexStep=-this.indexStep,this.index+=this.indexStep,this.repeatCount>0?this.repeatCount--:this.state=2):this.index+=this.indexStep:n?(this.index=0,this.repeatCount>0?this.repeatCount--:this.state=2):this.index+=this.indexStep,this.task)return this}}},{key:"complete",value:function(){this.state=0,this.emit("complete",this)}},{key:"completed",get:function(){return 0===this.state}},{key:"currentCommandIndex",get:function(){return this.index-1}}])&&u(e.prototype,n),i&&u(e,i),t}();Object.assign(h.prototype,i.a);var l=h;e.a=l},function(t,e,n){"use strict";var i=n(10),r=n(121);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,h(e).call(this,t,n))).setParent(t),i.resetFromJSON(n),i.boot(),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(r=[{key:"resetFromJSON",value:function(t){return this.body||this.scene.physics.add.existing(this.gameObject,!1),this.setCascadeMode(c(t,"cascade",!1)),this.setEnable(c(t,"enable",!0)),this.setSpeed(c(t,"speed",200)),this}},{key:"toJSON",value:function(){return{tickingMode:this.tickingMode}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("preupdate",this.preupdate,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"preupdate",value:function(t,e){if(!this.enable)return this.bodySetVelocity(0,0),this;var n=this.gameObject.rotation,i=this.speed*Math.cos(n),r=this.speed*Math.sin(n);return this.bodySetVelocity(i,r),this}},{key:"enable",get:function(){return this.isRunning},set:function(t){this.isRunning=t,t||this.bodySetVelocity(0,0)}}])&&s(n.prototype,r),o&&s(n,o),e}();Object.assign(f.prototype,r.a);var d=f;e.a=d},function(t,e,n){"use strict";var i=n(10),r=n(121),o=n(15),s=n.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,p=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=h(this,c(e).call(this,t,n))).setParent(t),i.resetFromJSON(n),i.boot(),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["a"]),n=e,(r=[{key:"resetFromJSON",value:function(t){return this.body||this.scene.physics.add.existing(this.gameObject,!1),this.setCascadeMode(d(t,"cascade",!1)),this.setEnable(d(t,"enable",!0)),this.setDirMode(d(t,"dir","8dir")),this.setSpeed(d(t,"speed",200)),this.setRotateToDirection(d(t,"rotateToDirection",!1)),this.setCursorKeys(d(t,"cursorKeys",void 0)),this}},{key:"toJSON",value:function(){return{tickingMode:this.tickingMode}}},{key:"boot",value:function(){l(c(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){l(c(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){l(c(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"stopTicking",value:function(){l(c(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("preupdate",this.preupdate,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,t&&void 0===this.body&&this.scene.physics.add.existing(this.gameObject,!1),this}},{key:"setDirMode",value:function(t){return"string"==typeof t&&(t=y[t]),this.dirMode=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToDirection",value:function(t){return this.rotateToDirection=t,this}},{key:"setCursorKeys",value:function(t){return void 0===t&&(t=this.scene.input.keyboard.createCursorKeys()),this.cursorKeys=t,this}},{key:"preupdate",value:function(t,e){if(!this.enable)return this.bodySetVelocity(0,0),this;var n,i,r,o=this.cursorKeys,s=o.up.isDown,a=o.down.isDown,u=o.left.isDown,h=o.right.isDown,l=(s?-1:0)+(a?1:0),c=(u?-1:0)+(h?1:0);if(0===c&&0===l)return this.bodySetVelocity(0,0),this;switch(this.dirMode){case 0:c=0;break;case 1:l=0;break;case 2:0!==l&&(c=0)}return 0===l?(i=this.speed*c,r=0,n=1===c?v:b):0===c?(i=0,r=this.speed*l,n=1===l?g:m):(n=Math.atan2(l,c),i=this.speed*Math.cos(n),r=this.speed*Math.sin(n)),this.bodySetVelocity(i,r),this.rotateToDirection&&void 0!==n&&(this.gameObject.rotation=n),this}},{key:"enable",get:function(){return this.isRunning},set:function(t){this.isRunning=t,t||this.bodySetVelocity(0,0)}}])&&u(n.prototype,r),o&&u(n,o),e}();Object.assign(p.prototype,r.a);var y={"up&down":0,"left&right":1,"4dir":2,"8dir":3},v=s()(0),g=s()(90),b=s()(180),m=s()(270),w=p;e.a=w},function(t,e,n){"use strict";var i=n(10),r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,h(e).call(this,t,n))).gameObject=t,i.scene=Object(r.a)(t),i.resetFromJSON(n),i.boot(),i}var n,o,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.setMode(c(t,"mode",1)),this.isRunning=c(t,"isRunning",!1),this.setEnable(c(t,"enable",!0)),this.timeScale=c(t,"timeScale",1),this.setMagnitudeMode(c(t,"magnitudeMode",1)),this.setDuration(c(t,"duration",500)),this.setMagnitude(c(t,"magnitude",10)),this.nowTime=c(t,"nowTime",0),this.ox=c(t,"ox",void 0),this.oy=c(t,"oy",void 0),this}},{key:"toJSON",value:function(){return{mode:this.mode,isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,magnitudeMode:magnitudeMode,duration:this.duration,magnitude:this.magnitude,nowTime:this.nowTime,ox:this.ox,oy:this.oy}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),0===this.mode?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("step",this.backToOrigin,this)):this.scene.events.on("preupdate",this.update,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&(0===this.mode?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("step",this.backToOrigin,this)):this.scene.events.off("preupdate",this.update,this))}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=d[t]),this.mode=t,this}},{key:"setMagnitudeMode",value:function(t){return"string"==typeof t&&(t=p[t]),this.magnitudeMode=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setMagnitude",value:function(t){return this.magnitude=t,this}},{key:"start",value:function(t,n){if("number"!=typeof t){var i=t;n=c(i,"magnitude",void 0),t=c(i,"duration",void 0)}return void 0!==n&&this.setMagnitude(n),void 0!==t&&this.setDuration(t),this.nowTime=0,u(h(e.prototype),"start",this).call(this),this}},{key:"shake",value:function(t,e){return this.start(t,e),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var n=this.gameObject;if(this.nowTime+=e*this.timeScale,this.nowTime>=this.duration)this.backToOrigin(),this.complete();else{void 0===this.ox&&(this.ox=n.x,this.oy=n.y);var i=this.magnitude;1===this.magnitudeMode&&(i*=(this.duration-this.nowTime)/this.duration);var r=Math.random()*Math.PI*2,o=Math.cos(r)*i,s=Math.sin(r)*i;n.setPosition(this.ox+o,this.oy+s)}return this}},{key:"backToOrigin",value:function(){if(!this.isRunning||!this.enable)return this;if(void 0===this.ox)return this;var t=this.gameObject;return this.ox===t.x&&this.oy===t.y?this:(t.setPosition(this.ox,this.oy),this.ox=void 0,this.oy=void 0,this)}}])&&s(n.prototype,o),f&&s(n,f),e}(),d={effect:0,behavior:1},p={constant:0,decay:1},y=f;e.a=y},function(t,e,n){"use strict";var i=n(10),r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,h(e).call(this,t,n))).gameObject=t,i.scene=Object(r.a)(t),i.resetFromJSON(n),i.boot(),i}var n,o,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=c(t,"isRunning",!1),this.setEnable(c(t,"enable",!0)),this.setDuration(c(t,"duration",500)),this.setRepeat(c(t,"repeat",2)),this.repeatCounter=c(t,"repeatCounter",0),this.nowTime=c(t,"nowTime",0),this.timeScale=c(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,duration:this.duration,repeat:this.repeat,repeatCounter:this.repeatCounter,nowTime:this.nowTime,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setRepeat",value:function(t){return this.repeat=t,this}},{key:"start",value:function(t,n){if("number"!=typeof t){var i=t;t=c(i,"duration",void 0),n=c(i,"repeat",void 0)}return void 0!==t&&this.setDuration(t),void 0!==n&&this.setRepeat(n),this.isRunning?this.repeatCounter=-1:(this.repeatCounter=0,this.nowTime=0,u(h(e.prototype),"start",this).call(this)),this}},{key:"flash",value:function(t,e){return this.start(t,e),this}},{key:"stop",value:function(){return this.gameObject.setVisible(!0),u(h(e.prototype),"stop",this).call(this),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;if(0===this.timeScale||0===e)return this;this.nowTime+=e*this.timeScale;var n=!(this.nowTime<=this.duration/2);return this.gameObject.setVisible(n),this.nowTime>=this.duration&&(-1===this.repeat||this.repeatCounter<this.repeat?(this.repeatCounter++,this.nowTime-=this.duration):this.complete()),this}}])&&s(n.prototype,o),f&&s(n,f),e}();e.a=f},function(t,e,n){"use strict";var i=n(3),r=n(15),o=n.n(r);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Phaser.Utils.Objects.GetValue,u=Phaser.Math.Angle.Between,h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this._t=0,this.pathVector=void 0,this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setPath(a(t,"path",void 0));var e=a(t,"t",void 0);void 0!==e&&this.setT(e);var n=a(t,"rotateToPath",!1),i=a(t,"rotationOffset",void 0);return void 0===i&&(i=o()(a(t,"angleOffset",0))),this.setRotateToPath(n,i),this}},{key:"toJSON",value:function(){return{path:this.path,t:this.t,rotateToPath:this.rotateToPath,rotationOffset:this.rotationOffset}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setRotateToPath",value:function(t,e){return this.rotateToPath=t,this.rotationOffset=e,this}},{key:"update",value:function(){if(void 0!==this.path){var t=this.gameObject,e=t.x,n=t.y;this.pathVector=this.path.getPoint(this.t,this.pathVector);var i=this.pathVector.x,r=this.pathVector.y;e===i&&n===r||(t.setPosition(i,r),this.rotateToPath&&(t.rotation=u(e,n,i,r)+this.rotationOffset))}}},{key:"t",get:function(){return this._t},set:function(t){this._t=t,this.update()}}])&&s(e.prototype,n),r&&s(e,r),t}();e.a=h},function(t,e,n){"use strict";var i=n(41),r=n.n(i),o=Phaser.Utils.Objects.GetValue,s=function(t,e){var n=o(e,"delimiter",","),i=o(e,"convert",!0);return r.a.parse(t,{delimiter:n,dynamicTyping:i}).data};e.a=s},function(t,e,n){"use strict";var i=n(10),r=n(3),o=n(15),s=n.n(o),a=n(42),u=n.n(a);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=Phaser.Utils.Objects.GetValue,v=Phaser.Math.Wrap,g=Phaser.Math.Angle.Wrap,b=Phaser.Math.Angle.Between,m=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=c(this,d(e).call(this,t,n))).gameObject=t,i.scene=Object(r.a)(t),i.resetFromJSON(n),i.boot(),i}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,i["a"]),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=y(t,"isRunning",!1),this.setEnable(y(t,"enable",!0)),this.timeScale=y(t,"timeScale",1),this.setSpeed(y(t,"speed",180)),this.target=y(t,"target",0),this.dir=y(t,"dir",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,timeScale:this.timeScale,speed:this.speed,target:this.target,dir:this.dir,tickingMode:this.tickingMode}}},{key:"boot",value:function(){f(d(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){f(d(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){f(d(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){f(d(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"rotateTo",value:function(t,n){if("number"!=typeof t){var i=t;t=y(i,"angle",void 0),n=y(i,"dir",void 0)}return null==t?this:(this.target=v(t,0,360),void 0===n&&(n=0),this.dir="string"==typeof n?k[n]:n,f(d(e.prototype),"start",this).call(this),this)}},{key:"rotateTowardsPosition",value:function(t,e,n,i){var r=this.gameObject,o=b(r.x,r.y,t,e),s=u()(o);return this.rotateTo(s,n,i),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var n=this.target,i=g(s()(n)),r=this.gameObject;if(i===r.rotation)return this.complete(),this;if(0===this.speed||0===e||0===this.timeScale)return this;var o,a,u=(360+r.angle)%360,h=e*this.timeScale/1e3,l=this.speed*h,c=this.dir;switch(c){case 0:var f=w(u,n,!0),d=360-f;f<d?(c=1,o=f):(c=2,o=d);break;case 1:o=w(u,n,!0);break;case 2:o=w(u,n,!1)}return a=l<o?1===c?u+l:u-l:n,r.rotation=s()(a),this}}])&&l(n.prototype,o),a&&l(n,a),e}(),w=function(t,e,n){var i=n?e-t:t-e;return i=v(i,0,360)},k={shortest:0,cw:1,ccw:2},x=m;e.a=x},function(t,e,n){"use strict";var i=n(4);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Math.Distance.Between,a=Phaser.Math.Angle.Between,u=Phaser.Math.Angle.Wrap,h=Phaser.Math.RadToDeg,l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.setEventEmitter(o(n,"eventEmitter",void 0)),this._deltaRotation=void 0,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.pointer=void 0,this.setEnable(o(t,"enable",!0)),this.setOrigin(t),this.setRadius(o(t,"maxRadius",100),o(t,"minRadius",0)),this.state=c}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this)),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"setOrigin",value:function(t,e){if(void 0===e){var n=t;t=o(n,"x",0),e=o(n,"y",0)}return this.x=t,this.y=e,this}},{key:"setRadius",value:function(t,e){return void 0===e&&(e=0),this.maxRadius=t,this.minRadius=e,this}},{key:"contains",value:function(t,e){var n=s(this.x,this.y,t,e);return n>=this.minRadius&&n<=this.maxRadius}},{key:"onPointerDown",value:function(t){this.enable&&(this.pointer||this.contains(t.worldX,t.worldY)&&(this.pointer=t,this.state=f,this.onDragStart(t)))}},{key:"onPointerUp",value:function(t){this.enable&&this.pointer===t&&(this.pointer=void 0,this.state=c,this.onDragEnd())}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown)switch(this.state){case c:this.contains(t.worldX,t.worldY)&&this.onDragStart(t);break;case f:this.contains(t.worldX,t.worldY)?this.onDrag():this.onDragEnd()}}},{key:"dragCancel",value:function(){return this.state===f&&this.onDragEnd(),this.pointer=void 0,this.state=c,this}},{key:"onDragStart",value:function(t){this.pointer=t,this.state=f,this._deltaRotation=void 0,this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.pointer=void 0,this.state=c,this._deltaRotation=void 0,this.emit("dragend",this)}},{key:"onDrag",value:function(){this._deltaRotation=void 0,this.emit("drag",this)}},{key:"deltaRotation",get:function(){if(this.state===c)return 0;if(void 0===this._deltaRotation){var t=this.pointer.prevPosition,e=this.pointer.position,n=a(this.x,this.y,t.x,t.y),i=a(this.x,this.y,e.x,e.y);this._deltaRotation=u(i-n)}return this._deltaRotation}},{key:"deltaAngle",get:function(){return this.state===c?0:h(this.deltaRotation)}},{key:"cw",get:function(){return this.deltaRotation>=0}},{key:"ccw",get:function(){return!this.cw}}])&&r(e.prototype,n),i&&r(e,i),t}();Object.assign(l.prototype,i.a);var c=0,f=1,d=l;e.a=d},function(t,e,n){"use strict";var i=n(65);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=s(this,a(e).call(this))).scene=t,i.boot(),i}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i["a"]),n=e,(r=[{key:"boot",value:function(){this.scene.input.on("wheel",this.onWheeling,this),this.scene.events.on("postupdate",this.clearAllKeysState,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&(this.scene.input.off("wheel",this.onWheeling,this),this.scene.events.off("postupdate",this.clearAllKeysState,this))}},{key:"destroy",value:function(){this.shutdown()}},{key:"onWheeling",value:function(t,e,n,i,r,o){this.setKeyState("up",i<0),this.setKeyState("down",i>0)}}])&&o(n.prototype,r),h&&o(n,h),e}();e.a=h},function(t,e,n){"use strict";var i=n(65),r=n(120);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,c=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,u(e).call(this))).scene=t,i.sensitiveDistance=l(n,"sensitiveDistance",20);var o=l(n,"bounds",void 0);return void 0===o&&(o=Object(r.a)(t)),i.bounds=o,i.boot(),i}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i["a"]),n=e,(o=[{key:"boot",value:function(){this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.input.off("pointermove",this.onPointerMove,this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"onPointerMove",value:function(t){var e=t.x,n=t.y,i=this.bounds.left,r=this.bounds.right,o=this.bounds.top,s=this.bounds.bottom,a=e>=i&&e<=i+this.sensitiveDistance,u=e<=r&&e>=r-this.sensitiveDistance,h=n>=o&&n<=o+this.sensitiveDistance,l=n<=s&&n>=s-this.sensitiveDistance;this.clearAllKeysState(),this.setKeyState("left",a),this.setKeyState("right",u),this.setKeyState("up",h),this.setKeyState("down",l)}}])&&s(n.prototype,o),c&&s(n,c),e}();e.a=c},function(t,e,n){"use strict";var i=n(150);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Phaser.Utils.Objects.GetValue,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.radius=o(n,"radius",100),this.addBase(o(n,"base",void 0),n),this.addThumb(o(n,"thumb",void 0));var i=o(n,"x",0),r=o(n,"y",0);this.base.setPosition(i,r),this.thumb.setPosition(i,r),o(n,"fixed",!0)&&this.setScrollFactor(0),this.boot()}var e,n,s;return e=t,(n=[{key:"createCursorKeys",value:function(){return this.touchCursor.createCursorKeys()}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setVisible",value:function(t){this.visible=t}},{key:"toggleVisible",value:function(){this.visible=!this.visible}},{key:"setEnable",value:function(t){return this.enable=t,this}},{key:"toggleEnabl",value:function(){this.enable=!this.enable}},{key:"on",value:function(){var t=this.touchCursor.events;return t.on.apply(t,arguments),this}},{key:"once",value:function(){var t=this.touchCursor.events;return t.once.apply(t,arguments),this}},{key:"setVisible",value:function(t){return this.visible=t,this}},{key:"addBase",value:function(t,e){return this.base&&this.base.destroy(),void 0===t&&(t=this.scene.add.circle(0,0,this.radius).setStrokeStyle(3,255)),this.touchCursor=new i.a(t,e),this.base=t,this}},{key:"addThumb",value:function(t){return this.thumb&&this.thumb.destroy(),void 0===t&&(t=this.scene.add.circle(0,0,40).setStrokeStyle(3,65280)),this.thumb=t,this}},{key:"setScrollFactor",value:function(t){this.base.setScrollFactor(t),this.thumb.setScrollFactor(t)}},{key:"boot",value:function(){this.touchCursor.on("update",this.update,this)}},{key:"destroy",value:function(){this.base.destroy(),this.thumb.destroy(),this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}},{key:"update",value:function(){var t=this.touchCursor;if(t.anyKeyDown)if(t.force>this.radius){var e=t.rotation;this.thumb.x=t.start.x+Math.cos(e)*this.radius,this.thumb.y=t.start.y+Math.sin(e)*this.radius}else this.thumb.x=t.end.x,this.thumb.y=t.end.y;else this.thumb.x=this.base.x,this.thumb.y=this.base.y;return this}},{key:"forceX",get:function(){return this.touchCursor.forceX}},{key:"forceY",get:function(){return this.touchCursor.forceY}},{key:"force",get:function(){return this.touchCursor.force}},{key:"rotation",get:function(){return this.touchCursor.rotation}},{key:"angle",get:function(){return this.touchCursor.angle}},{key:"up",get:function(){return this.touchCursor.upKeyDown}},{key:"down",get:function(){return this.touchCursor.downKeyDown}},{key:"left",get:function(){return this.touchCursor.leftKeyDown}},{key:"right",get:function(){return this.touchCursor.rightKeyDown}},{key:"noKey",get:function(){return this.touchCursor.noKeyDown}},{key:"pointerX",get:function(){return this.touchCursor.end.x}},{key:"pointerY",get:function(){return this.touchCursor.end.y}},{key:"pointer",get:function(){return this.touchCursor.pointer}},{key:"x",set:function(t){this.base.x=t},get:function(){return this.base.x}},{key:"y",set:function(t){this.base.y=t},get:function(){return this.base.y}},{key:"visible",get:function(){return this.base.visible},set:function(t){this.base.visible=t,this.thumb.visible=t}},{key:"enable",get:function(){return this.touchCursor.enable},set:function(t){this.touchCursor.setEnable(t)}}])&&r(e.prototype,n),s&&r(e,s),t}();e.a=s},function(t,e,n){"use strict";var i=n(3),r=n(4);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Angle.BetweenPoints,u=Phaser.Math.Distance.Between,h=Phaser.Math.RotateAroundDistance,l=Phaser.Math.Clamp,c=Phaser.Math.Linear,f=Phaser.Math.Percent,d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.setEventEmitter(s(n,"eventEmitter",void 0)),this._value=void 0,this.endPoints=[{x:0,y:0},{x:0,y:0}];var r=s(n,"valuechangeCallback",null);if(null!==r){var o=s(n,"valuechangeCallbackScope",void 0);this.on("valuechange",r,o)}this.gameObject.setInteractive(s(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setValue(s(t,"value",0));var e=s(t,"endPoints",void 0);return void 0!==e&&this.setEndPoints(e),this.setEnable(s(t,"enable",!0)),this}},{key:"toJSON",value:function(){return{value:this.value,endPoints:this.endPoints,enable:this.enable}}},{key:"boot",value:function(){this.gameObject.on("drag",this.onDragging,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}},{key:"setEndPoints",value:function(t,e,n,i){var r=this.endPoints;return"number"==typeof t?(r[0].x=t,r[0].y=e,r[1].x=n,r[1].y=i):Array.isArray(t)?(r[0]=t[0],r[1]=t[1]):(r[0]=t,r[1]=e),this.axisRotation=a(r[0],r[1]),this.updatePos(),this}},{key:"setValue",value:function(t,e,n){return void 0!==e&&(t=f(t,e,n)),this.value=t,this}},{key:"addValue",value:function(t,e,n){return void 0!==e&&(t=f(t,e,n)),this.value+=t,this}},{key:"getValue",value:function(t,e){var n=this.value;return void 0!==t&&(n=c(t,e,n)),n}},{key:"onDragging",value:function(t,e,n){var i,r=this.endPoints;if(r[0].y===r[1].y){var o=Math.min(r[0].x,r[1].x),s=Math.max(r[0].x,r[1].x);i=f(e,o,s)}else if(r[0].x===r[1].x){o=Math.min(r[0].y,r[1].y),s=Math.max(r[0].y,r[1].y);i=f(n,o,s)}else{var a,l=this.gameObject;p.x=e,p.y=n,a=u(p.x,p.y,l.x,l.y),(p=h(p,l.x,l.y,-this.axisRotation,a)).y=l.y,a=u(p.x,p.y,l.x,l.y),p=h(p,l.x,l.y,this.axisRotation,a);o=Math.min(r[0].x,r[1].x),s=Math.max(r[0].x,r[1].x);i=f(p.x,o,s)}this.value=i}},{key:"updatePos",value:function(){var t=this.gameObject,e=this.endPoints;return t.x=c(e[0].x,e[1].x,this._value),t.y=c(e[0].y,e[1].y,this._value),this}},{key:"value",get:function(){return this._value},set:function(t){if((t=l(t,0,1))!==this._value){var e=this._value;this._value=t,this.updatePos(this._value),this.emit("valuechange",this._value,e)}}},{key:"isDragging",get:function(){return this.gameObject.input.dragState>0}}])&&o(e.prototype,n),r&&o(e,r),t}(),p={};Object.assign(d.prototype,r.a);var y=d;e.a=y},function(t,e,n){"use strict";var i=n(3),r=n(4);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(i.a)(e),this.setEventEmitter(s(n,"eventEmitter",void 0)),this.gameObject.setInteractive(s(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(s(t,"enable",!0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.scene.events.on("postupdate",this.postupdate,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("postupdate",this.postupdate,this),this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"onPointIn",value:function(t,e,n){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.isInTouched=!0,this.preX=t.x,this.preY=t.y,this.x=t.x,this.y=t.y,this.localX=e,this.localY=n,this.emit("touchstart",t,e,n))}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0,this.isInTouched=!1,this.emit("touchend",t))}},{key:"onPointerMove",value:function(t,e,n){t.isDown&&this.pointer===t&&(this.preX=this.x,this.preY=this.y,this.x=t.x,this.y=t.y,this.localX=e,this.localY=n,this.justMoved=!0,this.emit("touchmove",t,e,n))}},{key:"postupdate",value:function(t,e){this.justMoved=!1}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return void 0===this.pointer}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.x,this.preX,this.y,this.preY)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&o(e.prototype,n),r&&o(e,r),t}();Object.assign(u.prototype,r.a);var h=u;e.a=h},function(t,e,n){var i;!function(){function r(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function s(t,e,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}var a=Date.now||function(){return+new Date};var u=!!window.FontFace;function h(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function l(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,s=0;s<i.length;s+=1)if(e[r]===i[s]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,s=0;s<n.length;s+=1)if(i[r]===n[s]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function p(t,e,n){function i(){a&&r&&o&&(a(s),a=null)}e=h(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=!0,s=null,a=n||null;u?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,s=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),l(t,"head",e)}function y(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=h(t,"script",{src:e}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function v(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,m(t)}}function b(t,e){t.c=e,m(t)}function m(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function k(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function x(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function O(t){return t.a+t.f}function S(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function T(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function _(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,i)}P(t,"inactive")}function P(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,O(n)):t.h[e]())}function C(t,e){this.c=t,this.f=e,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function j(t){l(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+S(t)+";font-weight:"+t.f+"00;"}function M(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function R(t,e,n,i,r,o,s){this.v=t,this.B=e,this.c=n,this.a=i,this.s=s||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new C(this.c,this.s),this.h=new C(this.c,this.s),this.j=new C(this.c,this.s),this.m=new C(this.c,this.s),t=E(t=new k(this.a.c+",serif",O(this.a))),this.g.a.style.cssText=t,t=E(t=new k(this.a.c+",sans-serif",O(this.a))),this.h.a.style.cssText=t,t=E(t=new k("serif",O(this.a))),this.j.a.style.cssText=t,t=E(t=new k("sans-serif",O(this.a))),this.m.a.style.cssText=t,j(this.g),j(this.h),j(this.j),j(this.m)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},M.prototype.start=function(){var t=this.c.o.document,e=this,n=a(),i=new Promise(function(i,r){!function o(){a()-n>=e.f?r():t.fonts.load(function(t){return S(t)+" "+t.f+"00 300px "+x(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(o,25)},function(){r()})}()}),r=null,o=new Promise(function(t,n){r=setTimeout(n,e.f)});Promise.race([o,i]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var D={D:"serif",C:"sans-serif"},A=null;function I(){if(null===A){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);A=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return A}function L(t,e,n){for(var i in D)if(D.hasOwnProperty(i)&&e===t.f[D[i]]&&n===t.f[D[i]])return!0;return!1}function Y(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=I()&&L(t,n,i)),e?a()-t.A>=t.w?I()&&L(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?N(t,t.v):N(t,t.B):function(t){setTimeout(s(function(){Y(this)},t),50)}(t):N(t,t.v)}function N(t,e){setTimeout(s(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),e(this.a)},t),0)}function X(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),Y(this)};var F=null;function B(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),P(t,"active")):_(t.a))}function U(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function W(t,e,n,i,r){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,a=i||{};if(0===n.length&&o)_(e.a);else{e.f+=n.length,o&&(e.j=o);var u,h=[];for(u=0;u<n.length;u++){var l=n[u],c=a[l.c],d=e.a,p=l;if(d.g&&f(d.f,[d.a.c("wf",p.c,O(p).toString(),"loading")]),P(d,"fontloading",p),d=null,null===F)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);F=p?42<parseInt(p[1],10):!y}else F=!1;d=F?new M(s(e.g,e),s(e.h,e),e.c,l,e.s,c):new R(s(e.g,e),s(e.h,e),e.c,l,e.s,t,c),h.push(d)}for(u=0;u<h.length;u++)h[u].start()}},0)}function z(t,e){this.c=t,this.a=e}function G(t,e){this.c=t,this.a=e}X.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,O(t).toString(),"active")],[e.a.c("wf",t.c,O(t).toString(),"loading"),e.a.c("wf",t.c,O(t).toString(),"inactive")]),P(e,"fontactive",t),this.m=!0,B(this)},X.prototype.h=function(t){var e=this.a;if(e.g){var n=d(e.f,e.a.c("wf",t.c,O(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,O(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,O(t).toString(),"inactive")),f(e.f,i,r)}P(e,"fontinactive",t),B(this)},U.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],r=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),P(t,"loading")}(e);var i=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var o=t.c[i];o&&r.push(o(e[i],n))}return r}(t.a,n,t.c),o=new X(t.c,e,r);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){W(t,o,e,n,i)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},z.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var r=e.c.o;y(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?t([]):(r["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),s=[];if(o)for(var a=0;a<o.length;a++){var u=o[a].fontfamily;void 0!=o[a].fontStyle&&void 0!=o[a].fontWeight?(i=o[a].fontStyle+o[a].fontWeight,s.push(new k(u,i))):s.push(new k(u))}t(s)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},G.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new v;for(e=0,n=i.length;e<n;e++)p(this.c,i[e],g(s));var a=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var u=i[1].split(","),h=0;h<u.length;h+=1)a.push(new k(i[0],u[h]));else a.push(new k(i[0]));b(s,function(){t(a,o)})};var V="https://fonts.googleapis.com/css";var H={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},K={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},Z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function q(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function $(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}q.prototype.load=function(t){var e=new v,n=this.c,i=new function(t,e){this.c=t||V,this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}(i,r);var o=new function(t){this.f=t,this.a=[],this.c={}}(r);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var s;if(s=[],a=i[1])for(var a,u=(a=a.split(",")).length,h=0;h<u;h++){var l;if((l=a[h]).match(/^[\w-]+$/))if(null==(f=Z.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":J[l],null==(f=f[1])||""==f)f="4";else var c=K[f],f=c||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&s.push(l)}0<s.length&&(o=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=H[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=H[r])&&(t.c[r]=i),i=0;i<o.length;i+=1)t.a.push(new k(r,o[i]))}}(o),p(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),g(e)),b(e,function(){t(o.a,o.c,Q)})},$.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],r=0;r<e.length;r+=2)for(var o=e[r],s=e[r+1],a=0;a<s.length;a++)i.push(new k(o,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var r=0,o=n.fonts.length;r<o;++r){var s=n.fonts[r];i.a.push(new k(s.name,T("font-weight:"+s.weight+";font-style:"+s.style)))}t(i.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var et=new U(window);et.a.c.custom=function(t,e){return new G(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new z(e,t)},et.a.c.typekit=function(t,e){return new $(e,t)},et.a.c.google=function(t,e){return new q(e,t)};var nt={load:s(et.load,et)};void 0===(i=function(){return nt}.call(e,n,e,t))||(t.exports=i)}()},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(166),r=n(167),o=n(54);Phaser.GameObjects.GameObjectFactory.register("rexBBCodeText",i.a),Phaser.GameObjects.GameObjectCreator.register("rexBBCodeText",r.a),e.default=o.a},function(t,e,n){"use strict";n.r(e);var i=n(168),r=n(169),o=n(55);Phaser.GameObjects.GameObjectFactory.register("rexTagText",i.a),Phaser.GameObjects.GameObjectCreator.register("rexTagText",r.a),e.default=o.a},function(t,e,n){"use strict";n.r(e);var i=n(170),r=n(171),o=n(26);Phaser.GameObjects.GameObjectFactory.register("rexCanvas",i.a),Phaser.GameObjects.GameObjectCreator.register("rexCanvas",r.a),e.default=o.a},function(t,e,n){"use strict";n.r(e);var i=n(172),r=n(173),o=n(25);Phaser.GameObjects.GameObjectFactory.register("rexContainerLite",i.a),Phaser.GameObjects.GameObjectCreator.register("rexContainerLite",r.a),e.default=o.a},function(t,e,n){"use strict";n.r(e);var i=n(174),r=n(175),o=n(53);Phaser.GameObjects.GameObjectFactory.register("rexGridTable",i.a),Phaser.GameObjects.GameObjectCreator.register("rexGridTable",r.a),e.default=o.a},function(t,e,n){"use strict";n.r(e);var i=n(176),r=n(177),o=n(52);Phaser.GameObjects.GameObjectFactory.register("rexRoundRectangle",i.a),Phaser.GameObjects.GameObjectCreator.register("rexRoundRectangle",r.a),e.default=o.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(269),r=n(270),o=n(271),s=n(272),a=n(273),u=n(274),h=n(196);Phaser.Loader.FileTypesManager.register("rexWebFont",h.a);var l=h.a,c=n(195);Phaser.Loader.FileTypesManager.register("rexAwait",c.a);var f=c.a,d=n(190),p=n(246),y=n(220),v=n(118),g=n(245),b=n(162),m=n(215),w=n(150),k=n(244),x=n(243),O=n(242),S=n(216),T=n(241),_=n(217),P=n(240),C=n(60),j=n(139),E=n(59),M=n(160),R=n(161),D=n(238),A=n(237),I=n(236),L=n(221),Y=n(235),N=n(234),X=n(165),F=n(164),B=n(200),U=n(233),W=n(14),z=n(202),G=n(218),V=n(163),H=n(219),K=n(232),J=n(108),Z=n(226),q=n(239),Q=n(227),$=n(228),tt=n(229),et=n(230),nt=n(231),it=n(225),rt=n(201),ot=n(224),st=n(223),at=n(222),ut=n(135),ht=n(87),lt=n(86),ct=n(133),ft=n(136),dt=n(137),pt=n(134);n.d(e,"BBCodeText",function(){return i.default}),n.d(e,"TagText",function(){return r.default}),n.d(e,"Canvas",function(){return o.default}),n.d(e,"ContainerLite",function(){return s.default}),n.d(e,"GridTable",function(){return a.default}),n.d(e,"RoundRectangle",function(){return u.default}),n.d(e,"WebFontLoader",function(){return l}),n.d(e,"Awaitloader",function(){return f}),n.d(e,"HexagonGridAlign",function(){return d.a}),n.d(e,"QuadGridAlign",function(){return d.b}),n.d(e,"TouchState",function(){return p.a}),n.d(e,"Drag",function(){return y.a}),n.d(e,"DragSpeed",function(){return v.a}),n.d(e,"Slider",function(){return g.a}),n.d(e,"Scroller",function(){return b.a}),n.d(e,"Button",function(){return m.a}),n.d(e,"TouchCursor",function(){return w.a}),n.d(e,"VirtualJoyStick",function(){return k.a}),n.d(e,"CursorAtBound",function(){return x.a}),n.d(e,"MouseWheelToUpDown",function(){return O.a}),n.d(e,"Pinch",function(){return S.a}),n.d(e,"DragRotate",function(){return T.a}),n.d(e,"MoveTo",function(){return _.a}),n.d(e,"RotateTo",function(){return P.a}),n.d(e,"Fade",function(){return C.a}),n.d(e,"FadeOutDestroy",function(){return j.a}),n.d(e,"Scale",function(){return E.a}),n.d(e,"ScaleDownDestroy",function(){return M.a}),n.d(e,"PopUp",function(){return R.a}),n.d(e,"PathFollower",function(){return D.a}),n.d(e,"Flash",function(){return A.a}),n.d(e,"ShakePosition",function(){return I.a}),n.d(e,"Interception",function(){return L.a}),n.d(e,"EightDirection",function(){return Y.a}),n.d(e,"Bullet",function(){return N.a}),n.d(e,"TextTyping",function(){return X.a}),n.d(e,"TextPage",function(){return F.a}),n.d(e,"SoundFade",function(){return B.a}),n.d(e,"Sequence",function(){return U.a}),n.d(e,"FSM",function(){return W.a}),n.d(e,"TCRP",function(){return z.a}),n.d(e,"CSVScenario",function(){return G.a}),n.d(e,"WaitEvents",function(){return V.a}),n.d(e,"Achievements",function(){return H.a}),n.d(e,"ConditionsTable",function(){return K.a}),n.d(e,"Clock",function(){return J.a}),n.d(e,"LifeTime",function(){return Z.a}),n.d(e,"CSVToArray",function(){return q.a}),n.d(e,"CSVToHashTable",function(){return Q.a}),n.d(e,"RestorableData",function(){return $.a}),n.d(e,"Gashapon",function(){return tt.a}),n.d(e,"Rhombus",function(){return et.a}),n.d(e,"Hexagon",function(){return nt.a}),n.d(e,"XOR",function(){return it.a}),n.d(e,"LZString",function(){return rt.a}),n.d(e,"SwirlPipeline",function(){return ot.a}),n.d(e,"PixelationPipeline",function(){return st.a}),n.d(e,"GrayScalePipeline",function(){return at.a}),n.d(e,"Board",function(){return ut.a}),n.d(e,"QuadGrid",function(){return ht.a}),n.d(e,"HexagonGrid",function(){return lt.a}),n.d(e,"ChessShape",function(){return ct.a}),n.d(e,"ChessMoveTo",function(){return ft.a}),n.d(e,"Match",function(){return dt.a}),n.d(e,"PathFinder",function(){return pt.a})}]).default});