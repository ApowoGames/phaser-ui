!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexgridalignplugin=e():t.rexgridalignplugin=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=318)}({0:function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),r=t,o=i,s=0;s<n.length;s++){if(!r.hasOwnProperty(n[s])){o=i;break}o=r[n[s]],r=r[n[s]]}return o}return i}return i}},124:function(t,e,i){"use strict";var n=i(81),r=i(82),o=i(6),s=o.a.ODD_R,u=o.a.EVEN_R,a=o.a.ODD_Q,h=o.a.EVEN_Q,c={},f=function(t,e,i){void 0===i?i={}:!0===i&&(i=c);var n=t*this.width,r=e*this.height;switch(this.mode){case s:1&e&&(n+=this._halfWidth),r*=.75;break;case u:1&e&&(n-=this._halfWidth),r*=.75;break;case a:n*=.75,1&t&&(r+=this._halfHeight);break;case h:n*=.75,1&t&&(r-=this._halfHeight)}return n+=this.x,r+=this.y,i.x=n,i.y=r,i},l=function(t,e){return this.getWorldXY(t,e,!0).x},d=function(t,e){return this.getWorldXY(t,e,!0).y},y=i(8),g=o.a.ODD_R,p=o.a.EVEN_R,b=o.a.ODD_Q,v=o.a.EVEN_Q,O={},x={},_=function(t,e,i){var n,r;switch(void 0===i?i={}:!0===i&&(i=x),t-=this.x,e-=this.y,this.mode){case g:case p:r=e*(4/3)/this.height,n=t/this.width-2/3*(e/this.height);break;case b:case v:r=e/this.height-2/3*(t/this.width),n=t*(4/3)/this.width}var o=Object(y.c)(n,r,O);return Object(y.d)(o),Object(y.b)(this.mode,o.x,o.y,o.z,i),i},w=function(t,e){return this.getTileXY(t,e,!0).x},k=function(t,e){return this.getTileXY(t,e,!0).y},m=i(0),j=i.n(m);function P(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D=o.a.ODD_R,E=o.a.EVEN_R,z=o.a.ODD_Q,S=o.a.EVEN_Q,T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,o;return e=t,(i=[{key:"resetFromJSON",value:function(t){if(this.setType(j()(t,"staggeraxis",1),j()(t,"staggerindex",1)),this.setDirectionMode(),this.setOriginPosition(j()(t,"x",0),j()(t,"y",0)),this.size=j()(t,"size",void 0),void 0!==this.size){var e={size:this.size,type:this.staggeraxis},i=Object(n.a)(e),o=Object(r.a)(e);this.setCellSize(i,o)}else this.setCellSize(j()(t,"cellWidth",0),j()(t,"cellHeight",0))}},{key:"setType",value:function(t,e){return"string"==typeof t&&(t=M[t]),"string"==typeof e&&(e=X[e]),this.staggeraxis=t,this.staggerindex=e,this.mode=0===t?0===e?S:z:0===e?E:D,this}},{key:"setDirectionMode",value:function(){return this.directions=6,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&P(e.prototype,i),o&&P(e,o),t}(),W={getWorldXY:f,getWorldX:l,getWorldY:d,getTileXY:_,getTileX:w,getTileY:k};Object.assign(T.prototype,W);var M={y:0,x:1},X={even:0,odd:1};e.a=T},125:function(t,e,i){"use strict";var n={},r=function(t,e,i){var r,o;switch(void 0===i?i={}:!0===i&&(i=n),this.mode){case 0:r=t*this.width,o=e*this.height;break;case 1:r=(t-e)*this._halfWidth,o=(t+e)*this._halfHeight}return r+=this.x,o+=this.y,i.x=r,i.y=o,i},o=function(t,e){return this.getWorldXY(t,e,!0).x},s=function(t,e){return this.getWorldXY(t,e,!0).y},u={},a=function(t,e,i){void 0===i?i={}:!0===i&&(i=u),t-=this.x,e-=this.y;var n=t/this.width,r=e/this.height;switch(this.mode){case 0:i.x=Math.round(n),i.y=Math.round(r);break;case 1:i.x=Math.round(+n+r),i.y=Math.round(-n+r)}return i},h=function(t,e){return this.getTileXY(t,e,!0).x},c=function(t,e){return this.getTileXY(t,e,!0).y},f=i(0),l=i.n(f);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setType(l()(t,"type",0)),this.setDirectionMode(l()(t,"dir",4)),this.setOriginPosition(l()(t,"x",0),l()(t,"y",0)),this.setCellSize(l()(t,"cellWidth",0),l()(t,"cellHeight",0))}},{key:"setType",value:function(t){return"string"==typeof t&&(t=p[t]),this.mode=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=b[t]),this.directions=t,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&d(e.prototype,i),n&&d(e,n),t}(),g={getWorldXY:r,getWorldX:o,getWorldY:s,getTileXY:a,getTileX:h,getTileY:c};Object.assign(y.prototype,g);var p={orthogonal:0,isometric:1,staggered:2},b={"4dir":4,"8dir":8};e.a=y},190:function(t,e,i){"use strict";var n=i(124),r=i(28),o=Phaser.Display.Align.In.QuickSet,s=Phaser.Utils.Objects.GetFastValue,u=new n.a,a=function(t,e){void 0===e&&(e={});var i=s(e,"width",-1),n=s(e,"height",-1),a=s(e,"cellWidth",1),h=s(e,"cellHeight",a),c=s(e,"staggeraxis",1),f=s(e,"staggerindex",1),l=s(e,"position",Phaser.Display.Align.CENTER),d=s(e,"x",0),y=s(e,"y",0);u.setOriginPosition(d,y).setCellSize(a,h).setType(c,f),r.a.setSize(a,h);for(var g=n-1,p=i-1,b=0,v=0,O=0,x=t.length;O<x;O++)if(u.getWorldXY(v,b,r.a),o(t[O],r.a,l),-1===i)b++;else if(-1===n)v++;else if(v===p){if(b===g)break;v=0,b++}else v++;return t},h=i(125),c=Phaser.Display.Align.In.QuickSet,f=Phaser.Utils.Objects.GetFastValue,l=new h.a,d=function(t,e){void 0===e&&(e={});var i=f(e,"width",-1),n=f(e,"height",-1),o=f(e,"cellWidth",1),s=f(e,"cellHeight",o),u=f(e,"type",0),a=f(e,"position",Phaser.Display.Align.CENTER),h=f(e,"x",0),d=f(e,"y",0);l.setOriginPosition(h,d).setCellSize(o,s).setType(u),r.a.setSize(o,s);for(var y=n-1,g=i-1,p=0,b=0,v=0,O=t.length;v<O;v++)if(l.getWorldXY(b,p,r.a),c(t[v],r.a,a),-1===i)p++;else if(-1===n)b++;else if(b===g){if(p===y)break;b=0,p++}else b++;return t};i.d(e,"a",function(){return a}),i.d(e,"b",function(){return d})},28:function(t,e,i){"use strict";var n=i(9),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:n.a,events:{once:n.a}}},0,0,1,1);r.setOrigin(0),e.a=r},318:function(t,e,i){"use strict";i.r(e);var n=i(190);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).call(this,t))}var i,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,Phaser.Plugins.BasePlugin),i=e,(r=[{key:"start",value:function(){this.game.events.once("destroy",this.destroy,this)}},{key:"hexagon",value:function(t,e){return Object(n.a)(t,e)}},{key:"quad",value:function(t,e){return Object(n.b)(t,e)}}])&&o(i.prototype,r),h&&o(i,h),e}();e.default=h},6:function(t,e,i){"use strict";e.a={ODD_R:0,EVEN_R:1,ODD_Q:2,EVEN_Q:3}},8:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"d",function(){return h}),i.d(e,"b",function(){return c}),i.d(e,"c",function(){return f});var n=i(6),r=n.a.ODD_R,o=n.a.EVEN_R,s=n.a.ODD_Q,u=n.a.EVEN_Q,a=function(t,e,i,n){switch(void 0===n?n={}:!0===n&&(n=l),t){case r:n.x=e-(i-(1&i))/2,n.z=i;break;case o:n.x=e-(i+(1&i))/2,n.z=i;break;case s:n.x=e,n.z=i-(e-(1&e))/2;break;case u:n.x=e,n.z=i-(e+(1&e))/2}return n.y=-n.x-n.z,n},h=function(t,e,i,n){"number"!=typeof t&&(t=(n=t).x,e=n.y,i=n.z),void 0===n?n={}:!0===n&&(n=l);var r=Math.round(t),o=Math.round(e),s=Math.round(i),u=Math.abs(r-t),a=Math.abs(o-e),h=Math.abs(s-i);return u>a&&u>h?r=-o-s:a>h?o=-r-s:s=-r-o,n.x=r,n.y=o,n.z=s,n},c=function(t,e,i,n,a){switch(void 0===a?a={}:!0===a&&(a=d),t){case r:a.x=e+(n-(1&n))/2,a.y=n;break;case o:a.x=e+(n+(1&n))/2,a.y=n;break;case s:a.x=e,a.y=n+(e-(1&e))/2;break;case u:a.x=e,a.y=n+(e+(1&e))/2}return a},f=function(t,e,i){return void 0===i?i={}:!0===i&&(i=l),i.x=t,i.y=-t-e,i.z=e,i},l={},d={}},81:function(t,e,i){"use strict";var n=Math.sqrt(3);e.a=function(t){return 0===t.type?2*t.size:n*t.size}},82:function(t,e,i){"use strict";var n=Math.sqrt(3);e.a=function(t){return 0===t.type?n*t.size:2*t.size}},9:function(t,e,i){"use strict";e.a=function(){}}}).default});